var e=Object.defineProperty,t=(t,r,n)=>((t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n)(t,"symbol"!=typeof r?r+"":r,n);import{r,a as n}from"./vendor-nd2XC2Db.js";import{r as a,u as s,a as i,N as o,R as l,b as c,c as d,t as u,B as g,d as h,e as m,f}from"./router-BhWXgRg3.js";import{L as p,S as x,W as b,a as v,C as y,b as w,M as k,c as j,d as N,H as S,e as E,f as C,g as T,h as L,P as O,i as R,j as P,Z as A,D as I,k as M,l as D,F,B as z,A as H,U as V,G as $,T as W,m as _,X as B,V as q,n as U,o as K,p as G,q as Y,r as X,I as J,s as Z,t as Q,u as ee,v as te,w as re,R as ne,x as ae,y as se,z as ie,E as oe}from"./icons-BOHPZFIk.js";import{c as le}from"./store-MAfVB5I5.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var ce,de,ue,ge={exports:{}},he={},me=(de||(de=1,ge.exports=function(){if(ce)return he;ce=1;var e=r(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(e,r,n){var o,l={},c=null,d=null;for(o in void 0!==n&&(c=""+n),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(d=r.ref),r)a.call(r,o)&&!i.hasOwnProperty(o)&&(l[o]=r[o]);if(e&&e.defaultProps)for(o in r=e.defaultProps)void 0===l[o]&&(l[o]=r[o]);return{$$typeof:t,type:e,key:c,ref:d,props:l,_owner:s.current}}return he.Fragment=n,he.jsx=o,he.jsxs=o,he}()),ge.exports),fe={},pe=function(){if(ue)return fe;ue=1;var e=n();return fe.createRoot=e.createRoot,fe.hydrateRoot=e.hydrateRoot,fe}();function xe(){const[e,t]=a.useState(navigator.onLine),r=s(),n=i();return a.useEffect(()=>{const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",r),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}},[]),me.jsx("header",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:me.jsxs("div",{className:"flex items-center justify-between",children:[me.jsxs("div",{className:"flex items-center gap-2",children:[me.jsx(p,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"}),me.jsx("div",{children:me.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"DHS Translate"})})]}),me.jsxs("div",{className:"flex items-center gap-3",children:["/settings"!==n.pathname&&me.jsx("button",{onClick:()=>{r("/settings")},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",title:"Settings",children:me.jsx(x,{className:"w-4 h-4"})}),me.jsx("div",{className:"flex items-center gap-1",children:e?me.jsx("div",{className:"flex items-center gap-1 text-gray-600 dark:text-gray-400",role:"status","aria-label":"Connection status: Online",children:me.jsx(b,{className:"w-4 h-4"})}):me.jsx("div",{className:"flex items-center gap-1 text-gray-600 dark:text-gray-400",role:"status","aria-label":"Connection status: Offline",children:me.jsx(v,{className:"w-4 h-4"})})})]})]})})}function be(e,t){let r;try{r=e()}catch(ir){return}return{getItem:e=>{var t;const n=e=>null===e?null:JSON.parse(e,void 0),a=null!=(t=r.getItem(e))?t:null;return a instanceof Promise?a.then(n):n(a)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}const ve=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>ve(e)(r),catch(e){return this}}}catch(ir){return{then(e){return this},catch:t=>ve(t)(ir)}}},ye=(e,t)=>(r,n,a)=>{let s={storage:be(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},i=!1;const o=new Set,l=new Set;let c=s.storage;if(!c)return e((...e)=>{r(...e)},n,a);const d=()=>{const e=s.partialize({...n()});return c.setItem(s.name,{state:e,version:s.version})},u=a.setState;a.setState=(e,t)=>{u(e,t),d()};const g=e((...e)=>{r(...e),d()},n,a);let h;a.getInitialState=()=>g;const m=()=>{var e,t;if(!c)return;i=!1,o.forEach(e=>{var t;return e(null!=(t=n())?t:g)});const a=(null==(t=s.onRehydrateStorage)?void 0:t.call(s,null!=(e=n())?e:g))||void 0;return ve(c.getItem.bind(c))(s.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===s.version)return[!1,e.state];if(s.migrate){const t=s.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}}return[!1,void 0]}).then(e=>{var t;const[a,i]=e;if(h=s.merge(i,null!=(t=n())?t:g),r(h,!0),a)return d()}).then(()=>{null==a||a(h,void 0),h=n(),i=!0,l.forEach(e=>e(h))}).catch(e=>{null==a||a(void 0,e)})};return a.persist={setOptions:e=>{s={...s,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>i,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},s.skipHydration||m(),h||g},we={hasIdentification:null,name:"",country:"",passportNumber:"",additionalInfo:""},ke=le()(ye((e,t)=>({intakeData:we,isIntakeComplete:!1,updateIntakeData:t=>{e(e=>{const r={...e.intakeData,...t};return{intakeData:r,isIntakeComplete:je(r)}})},clearIntakeData:()=>e({intakeData:we,isIntakeComplete:!1}),checkIntakeCompletion:()=>{const{intakeData:r}=t(),n=je(r);e({isIntakeComplete:n})}}),{name:"ice-cbp-intake"}));function je(e){const t=null!==e.hasIdentification&&""!==e.name.trim()&&""!==e.country.trim();return!0===e.hasIdentification?t&&""!==e.passportNumber.trim():t}const Ne=()=>{const{isIntakeComplete:e}=ke();return me.jsx("nav",{className:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 safe-area-pb",children:me.jsxs("div",{className:"flex",children:[me.jsxs(o,{to:"/intake",className:({isActive:e})=>"flex-1 flex flex-col items-center justify-center py-3 px-2 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-inset "+(e?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"),children:[me.jsx("div",{className:"relative",children:e?me.jsx(y,{className:"w-6 h-6 mb-1 text-green-600 dark:text-green-400"}):me.jsx(w,{className:"w-6 h-6 mb-1"})}),me.jsx("span",{className:"text-xs font-medium",children:"Intake"})]}),me.jsxs(o,{to:"/phrases",className:({isActive:e})=>"flex-1 flex flex-col items-center justify-center py-3 px-2 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-inset "+(e?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"),children:[me.jsx(k,{className:"w-6 h-6 mb-1"}),me.jsx("span",{className:"text-xs font-medium",children:"Phrases"})]}),me.jsxs(o,{to:"/record",className:({isActive:e})=>"flex-1 flex flex-col items-center justify-center py-3 px-2 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-inset "+(e?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"),children:[me.jsx(j,{className:"w-6 h-6 mb-1"}),me.jsx("span",{className:"text-xs font-medium",children:"Record"})]}),me.jsxs(o,{to:"/conversations",className:({isActive:e})=>"flex-1 flex flex-col items-center justify-center py-3 px-2 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-inset "+(e?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"),children:[me.jsx(N,{className:"w-6 h-6 mb-1"}),me.jsx("span",{className:"text-xs font-medium",children:"History"})]})]})})},Se=({section:e})=>me.jsx("div",{className:"space-y-6",children:e.content}),Ee=({sections:e,currentSection:t,onSectionChange:r,onNext:n,onPrevious:a,onGoToOverview:s})=>me.jsxs(me.Fragment,{children:[me.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-600 flex-shrink-0",children:[me.jsxs("div",{className:"flex items-center justify-between mb-2",children:[me.jsxs("div",{className:"flex items-center gap-2",children:[t>0&&me.jsx("button",{onClick:s,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500",title:"Back to overview",children:me.jsx(S,{className:"w-4 h-4"})}),me.jsxs("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:["Section ",t+1," of ",e.length]})]}),me.jsx("div",{className:"flex gap-1",children:e.map((n,a)=>me.jsx("button",{onClick:()=>r(a),className:"relative w-11 h-11 rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 group "+(a===t?"bg-transparent":"bg-transparent hover:bg-gray-100 dark:hover:bg-gray-800"),title:`Go to ${e[a].title}`,"aria-label":`Go to ${e[a].title}`,"aria-current":a===t?"true":void 0,children:me.jsx("span",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full pointer-events-none "+(a===t?"bg-gray-600 dark:bg-gray-400":"bg-gray-300 dark:bg-gray-600 group-hover:bg-gray-400 dark:group-hover:bg-gray-500")})},a))})]}),me.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:e[t].title}),me.jsx("h2",{className:"text-gray-700 dark:text-gray-300",children:e[t].subtitle})]}),me.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-600 flex-shrink-0",children:me.jsxs("div",{className:"flex items-center justify-between",children:[me.jsxs("button",{onClick:a,disabled:0===t,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 "+(0===t?"text-gray-400 dark:text-gray-600 cursor-not-allowed":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[me.jsx(E,{className:"w-4 h-4"}),"Previous"]}),me.jsxs("div",{className:"text-center",children:[me.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:t<e.length-1?"Next:":"End of walkthrough"}),t<e.length-1&&me.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e[t+1].title})]}),me.jsxs("button",{onClick:n,disabled:t===e.length-1,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 "+(t===e.length-1?"text-gray-400 dark:text-gray-600 cursor-not-allowed":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:["Next",me.jsx(C,{className:"w-4 h-4"})]})]})})]}),Ce=[{id:"overview",title:"DHS Translation Tool",subtitle:"Professional Communication for Critical Situations",content:l.createElement(()=>me.jsxs("div",{className:"space-y-6",children:[me.jsx("div",{className:"text-lg text-gray-700 dark:text-gray-300 leading-relaxed",children:"This Progressive Web App provides secure, effective communication between DHS agents and individuals during apprehensions."}),me.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[me.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Core Mission"}),me.jsxs("ul",{className:"space-y-3 text-gray-700 dark:text-gray-300",children:[me.jsxs("li",{className:"flex items-start gap-3",children:[me.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full mt-2 flex-shrink-0"}),me.jsxs("span",{children:[me.jsx("strong",{children:"Prevent Family Separations:"})," Clear communication about family status and relationships"]})]}),me.jsxs("li",{className:"flex items-start gap-3",children:[me.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full mt-2 flex-shrink-0"}),me.jsxs("span",{children:[me.jsx("strong",{children:"Identify Medical Issues:"})," Immediate assessment of health concerns and medical history"]})]}),me.jsxs("li",{className:"flex items-start gap-3",children:[me.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full mt-2 flex-shrink-0"}),me.jsxs("span",{children:[me.jsx("strong",{children:"Set Clear Expectations:"})," Transparent communication using proven methods"]})]}),me.jsxs("li",{className:"flex items-start gap-3",children:[me.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full mt-2 flex-shrink-0"}),me.jsxs("span",{children:[me.jsx("strong",{children:"Ensure Accountability:"})," Complete audit trail for all interactions"]})]})]})]}),me.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[me.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Design Philosophy"}),me.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Every feature was designed with field conditions in mind: high-stress situations, diverse linguistic backgrounds, varying technical proficiency, and the critical need for accurate, documented communication."})]}),me.jsxs("div",{className:"space-y-4",children:[me.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Key Features"}),me.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[me.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border border-gray-200 dark:border-gray-700",children:[me.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Offline Capability"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Works without internet connection for reliable field use"})]}),me.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border border-gray-200 dark:border-gray-700",children:[me.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Audio Translation"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Text-to-speech in multiple languages with clear pronunciation"})]}),me.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border border-gray-200 dark:border-gray-700",children:[me.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Structured Intake"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Guided forms for collecting required information consistently"})]}),me.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border border-gray-200 dark:border-gray-700",children:[me.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Conversation History"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Complete audit trail of all communications and decisions"})]})]})]})]}))},{id:"mobile-design",title:"Mobile-First Engineering",subtitle:"Maximized Space, Minimized Friction",content:l.createElement(()=>me.jsxs("div",{className:"space-y-6",children:[me.jsxs("div",{className:"text-center",children:[me.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:me.jsx(T,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),me.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Engineered for mobile-first critical communication scenarios"})]}),me.jsxs("div",{className:"grid gap-4",children:[me.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:me.jsxs("div",{className:"flex items-start gap-3",children:[me.jsx(L,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),me.jsxs("div",{children:[me.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Maximum Screen Real Estate"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Eliminated unnecessary margins and padding. Every pixel counts in critical situations where officers need maximum text visibility and touch targets."})]})]})}),me.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:me.jsxs("div",{className:"flex items-start gap-3",children:[me.jsx(O,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),me.jsxs("div",{children:[me.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Full-Screen Routes Over Modals"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Chose dedicated pages over mobile modals for better focus, accessibility, and reduced cognitive load during high-stress situations."})]})]})}),me.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:me.jsxs("div",{className:"flex items-start gap-3",children:[me.jsx(R,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),me.jsxs("div",{children:[me.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"System Theme Default"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Respects device preferences automatically. Dark mode for low-light operations, light mode for daylight scenarios - no manual switching needed."})]})]})})]}),me.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[me.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Design Philosophy"}),me.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Every interface decision prioritizes speed, clarity, and accessibility in mission-critical contexts where seconds matter."})]})]}))},{id:"technical-architecture",title:"Performance Architecture",subtitle:"Built for Mission-Critical Reliability",content:l.createElement(()=>me.jsxs("div",{className:"space-y-6",children:[me.jsxs("div",{className:"text-center",children:[me.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:me.jsx(P,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})}),me.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Performance-driven architecture for mission-critical reliability"})]}),me.jsxs("div",{className:"grid gap-4",children:[me.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:me.jsxs("div",{className:"flex items-start gap-3",children:[me.jsx(A,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),me.jsxs("div",{children:[me.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Vite + React 18"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Lightning-fast development and build times. Hot module replacement for rapid iteration while maintaining production performance."})]})]})}),me.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:me.jsxs("div",{className:"flex items-start gap-3",children:[me.jsx(I,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),me.jsxs("div",{children:[me.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Zustand State Management"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Minimal boilerplate, maximum performance. Local storage persistence ensures conversation history survives app restarts."})]})]})}),me.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:me.jsxs("div",{className:"flex items-start gap-3",children:[me.jsx(M,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),me.jsxs("div",{children:[me.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"TypeScript Strict Mode"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Comprehensive type safety eliminates entire classes of runtime errors. Essential for applications where failure isn't an option."})]})]})})]}),me.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4",children:[me.jsx("h4",{className:"font-medium text-purple-900 dark:text-purple-100 mb-2",children:"Architecture Principles"}),me.jsxs("ul",{className:"text-sm text-purple-800 dark:text-purple-200 space-y-1",children:[me.jsx("li",{children:"â€¢ Offline-first with service worker caching"}),me.jsx("li",{children:"â€¢ Progressive Web App for native-like experience"}),me.jsx("li",{children:"â€¢ Lazy loading for optimal performance"}),me.jsx("li",{children:"â€¢ Tree-shaking for minimal bundle size"})]})]})]}))},{id:"quality-assurance",title:"Audit-Driven Quality",subtitle:"Zero-Tolerance for Failure",content:l.createElement(()=>me.jsxs("div",{className:"space-y-6",children:[me.jsxs("div",{className:"text-center",children:[me.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:me.jsx(D,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),me.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Audit-driven development ensuring highest compliance standards"})]}),me.jsxs("div",{className:"grid gap-4",children:[me.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:me.jsxs("div",{className:"flex items-start gap-3",children:[me.jsx(F,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),me.jsxs("div",{children:[me.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"ESLint + TypeScript Strict Mode"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Zero tolerance for linting errors. Strict TypeScript configuration catches issues at compile-time, preventing runtime failures in critical situations."})]})]})}),me.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:me.jsxs("div",{className:"flex items-start gap-3",children:[me.jsx(z,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),me.jsxs("div",{children:[me.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Lighthouse CI Automation"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Automated performance, accessibility, and SEO audits on every deployment. Maintains 95+ scores across all verticals with detailed reporting."})]})]})}),me.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:me.jsxs("div",{className:"flex items-start gap-3",children:[me.jsx(y,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),me.jsxs("div",{children:[me.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"WCAG 2.1 AA Compliance"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Automated accessibility testing ensures compliance with federal accessibility standards. Screen reader optimized with proper ARIA attributes."})]})]})})]}),me.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[me.jsx("h4",{className:"font-medium text-green-900 dark:text-green-100 mb-2",children:"Quality Metrics"}),me.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[me.jsxs("div",{children:[me.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Performance: 95+"}),me.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Sub-second load times"})]}),me.jsxs("div",{children:[me.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Accessibility: 100"}),me.jsx("div",{className:"text-green-700 dark:text-green-300",children:"WCAG 2.1 AA compliant"})]})]})]})]}))},{id:"accessibility",title:"Universal Accessibility",subtitle:"Compliant, Inclusive Design",content:l.createElement(()=>me.jsxs("div",{className:"space-y-6",children:[me.jsx("div",{className:"text-lg text-gray-700 dark:text-gray-300 leading-relaxed",children:"Built to support all capable agents regardless of abilities, ensuring no one is excluded from critical communication tools."}),me.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[me.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Accessibility Features"}),me.jsxs("div",{className:"space-y-4",children:[me.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[me.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Semantic HTML Foundation"}),me.jsxs("ul",{className:"space-y-1 text-gray-700 dark:text-gray-300 text-sm",children:[me.jsxs("li",{children:["â€¢ Search forms use proper ",me.jsx("code",{children:'role="search"'})," landmarks"]}),me.jsx("li",{children:"â€¢ All regions properly labeled for screen readers"}),me.jsxs("li",{children:["â€¢ Native ",me.jsx("code",{children:"details/summary"})," elements for keyboard navigation"]}),me.jsx("li",{children:"â€¢ Radio inputs for theme selection with native checked state"}),me.jsx("li",{children:"â€¢ Checkbox inputs for toggles with proper labels"}),me.jsx("li",{children:"â€¢ Form labels properly associated with inputs via unique IDs"})]})]}),me.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[me.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Multi-Modal Communication"}),me.jsxs("ul",{className:"space-y-1 text-gray-700 dark:text-gray-300 text-sm",children:[me.jsx("li",{children:"â€¢ Visual text display with high contrast ratios"}),me.jsx("li",{children:"â€¢ Audio playback for all content"}),me.jsx("li",{children:"â€¢ Speaker identification with visual and auditory cues"}),me.jsx("li",{children:"â€¢ Large touch targets for motor accessibility"})]})]}),me.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[me.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Keyboard & Focus Management"}),me.jsxs("ul",{className:"space-y-1 text-gray-700 dark:text-gray-300 text-sm",children:[me.jsx("li",{children:"â€¢ Full keyboard navigation support"}),me.jsx("li",{children:"â€¢ Visible focus indicators throughout"}),me.jsx("li",{children:"â€¢ Screen reader content with proper ARIA labels"}),me.jsx("li",{children:"â€¢ Logical tab order and focus flow"}),me.jsx("li",{children:"â€¢ Escape key support for dismissible elements"})]})]})]})]}),me.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[me.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Smart Form Control Patterns"}),me.jsxs("div",{className:"space-y-4",children:[me.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-lg border border-indigo-200 dark:border-indigo-800",children:[me.jsx("h4",{className:"font-semibold text-indigo-900 dark:text-indigo-100 mb-2",children:"Radio Buttons for Exclusive Selection"}),me.jsxs("div",{className:"text-indigo-800 dark:text-indigo-200 text-sm space-y-2",children:[me.jsxs("p",{children:[me.jsx("strong",{children:"Theme selection uses native radio inputs"})," instead of buttons - providing inherent checked state without manual state management, similar to how ",me.jsx("code",{children:"details/summary"})," elements provide native open/close state."]}),me.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[me.jsx("li",{children:'Screen readers announce "radio button, checked/unchecked"'}),me.jsx("li",{children:"Keyboard navigation follows standard radio group patterns"}),me.jsx("li",{children:"Visual styling preserved while maintaining semantic meaning"}),me.jsxs("li",{children:["Grouped with ",me.jsx("code",{children:"fieldset/legend"})," for logical association"]})]})]})]}),me.jsxs("div",{className:"bg-teal-50 dark:bg-teal-900/20 p-4 rounded-lg border border-teal-200 dark:border-teal-800",children:[me.jsx("h4",{className:"font-semibold text-teal-900 dark:text-teal-100 mb-2",children:"Checkbox Toggles for Independent Options"}),me.jsxs("div",{className:"text-teal-800 dark:text-teal-200 text-sm space-y-2",children:[me.jsxs("p",{children:[me.jsx("strong",{children:"Settings toggles use proper checkbox inputs"})," with associated labels, providing native checked/unchecked state that's automatically announced to assistive technologies."]}),me.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[me.jsx("li",{children:"Dual label approach: descriptive text + toggle switch"}),me.jsxs("li",{children:["Proper ",me.jsx("code",{children:"htmlFor"})," and ",me.jsx("code",{children:"id"})," associations"]}),me.jsxs("li",{children:["Descriptive ",me.jsx("code",{children:"aria-label"})," for the toggle action"]}),me.jsx("li",{children:"Visual toggle maintains checkbox semantics underneath"})]})]})]})]})]}),me.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[me.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Real-World Considerations"}),me.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed",children:"Field agents may have varying abilities, work in challenging lighting conditions, or need to operate the app while wearing gloves or in noisy environments. Our accessibility features ensure the tool remains effective regardless of these constraints."})]})]}))},{id:"compliance",title:"Federal Compliance",subtitle:"Exceeding Standards Across All Verticals",content:l.createElement(()=>me.jsxs("div",{className:"space-y-6",children:[me.jsxs("div",{className:"text-center",children:[me.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center",children:me.jsx(H,{className:"w-8 h-8 text-amber-600 dark:text-amber-400"})}),me.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Exceeding federal standards across all compliance verticals"})]}),me.jsxs("div",{className:"grid gap-4",children:[me.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:me.jsxs("div",{className:"flex items-start gap-3",children:[me.jsx(V,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),me.jsxs("div",{children:[me.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Section 508 Compliance"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Full keyboard navigation, screen reader compatibility, and proper color contrast ratios. Tested with NVDA, JAWS, and VoiceOver."})]})]})}),me.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:me.jsxs("div",{className:"flex items-start gap-3",children:[me.jsx($,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),me.jsxs("div",{children:[me.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Multi-Language Architecture"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Unicode-compliant text rendering, RTL language support, and culturally appropriate phrase collections for diverse communities."})]})]})}),me.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:me.jsxs("div",{className:"flex items-start gap-3",children:[me.jsx(W,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),me.jsxs("div",{children:[me.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Audit Trail & Accountability"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Comprehensive logging of all translation interactions for compliance reporting and quality assurance review."})]})]})})]}),me.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[me.jsx("h4",{className:"font-medium text-amber-900 dark:text-amber-100 mb-2",children:"Compliance Standards Met"}),me.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[me.jsxs("div",{children:[me.jsx("div",{className:"font-medium text-amber-800 dark:text-amber-200",children:"WCAG 2.1 AA"}),me.jsx("div",{className:"text-amber-700 dark:text-amber-300",children:"Accessibility"})]}),me.jsxs("div",{children:[me.jsx("div",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Section 508"}),me.jsx("div",{className:"text-amber-700 dark:text-amber-300",children:"Federal Compliance"})]})]})]})]}))}],Te=()=>{const[e,t]=a.useState(0);return me.jsx("div",{className:"hidden lg:block flex-1 max-w-2xl h-full",children:me.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm h-full flex flex-col border border-gray-200 dark:border-gray-700 transition-colors duration-300",children:[me.jsx(Ee,{sections:Ce,currentSection:e,onSectionChange:e=>{t(e)},onNext:()=>{e<Ce.length-1&&t(e+1)},onPrevious:()=>{e>0&&t(e-1)},onGoToOverview:()=>{t(0)}}),me.jsx("div",{className:"flex-1 overflow-y-auto prevent-bounce p-6",children:me.jsx(Se,{section:Ce[e]})})]})})},Le=({children:e})=>me.jsx("div",{className:"h-screen bg-gray-100 dark:bg-gray-800 overflow-hidden",children:me.jsx("div",{className:"mx-auto max-w-7xl lg:p-8 h-full",children:me.jsxs("div",{className:"lg:flex lg:gap-8 lg:justify-center h-full",children:[me.jsx("div",{className:"lg:flex-shrink-0 h-full",children:me.jsxs("div",{className:"mx-auto lg:mx-0 w-full lg:w-[375px] h-full",children:[me.jsx("div",{className:"bg-gray-900 rounded-3xl p-2 shadow-2xl lg:block hidden h-full max-h-[800px]",children:me.jsx("div",{className:"bg-black rounded-2xl p-1 h-full",children:me.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl overflow-hidden h-full relative",children:me.jsx("div",{className:"w-full h-full relative",children:e})})})}),me.jsx("div",{className:"lg:hidden w-full h-full relative",children:e})]})}),me.jsx(Te,{})]})})}),Oe=[{en:"Do you need medical attention?",es:"Â¿Necesita atenciÃ³n mÃ©dica?",zh:"æ‚¨éœ€è¦åŒ»ç–—æ•‘åŠ©å—ï¼Ÿ",ar:"Ù‡Ù„ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¹Ù†Ø§ÙŠØ© Ø·Ø¨ÙŠØ©ØŸ",category:"medical"},{en:"Are you injured?",es:"Â¿EstÃ¡ herido?",zh:"æ‚¨å—ä¼¤äº†å—ï¼Ÿ",ar:"Ù‡Ù„ Ø£Ù†Øª Ù…ØµØ§Ø¨ØŸ",category:"medical"},{en:"Do you take any medications?",es:"Â¿Toma algÃºn medicamento?",zh:"æ‚¨åœ¨æœç”¨ä»»ä½•è¯ç‰©å—ï¼Ÿ",ar:"Ù‡Ù„ ØªØªÙ†Ø§ÙˆÙ„ Ø£ÙŠ Ø£Ø¯ÙˆÙŠØ©ØŸ",category:"medical"},{en:"Are you feeling sick?",es:"Â¿Se siente enfermo?",zh:"æ‚¨æ„Ÿè§‰ä¸èˆ’æœå—ï¼Ÿ",ar:"Ù‡Ù„ ØªØ´Ø¹Ø± Ø¨Ø§Ù„Ù…Ø±Ø¶ØŸ",category:"medical"},{en:"Do you have any allergies?",es:"Â¿Tiene alguna alergia?",zh:"æ‚¨æœ‰ä»»ä½•è¿‡æ•ç—‡å—ï¼Ÿ",ar:"Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø£ÙŠ Ø­Ø³Ø§Ø³ÙŠØ©ØŸ",category:"medical"},{en:"Do you need to see a doctor?",es:"Â¿Necesita ver a un doctor?",zh:"æ‚¨éœ€è¦çœ‹åŒ»ç”Ÿå—ï¼Ÿ",ar:"Ù‡Ù„ ØªØ­ØªØ§Ø¬ Ù„Ø±Ø¤ÙŠØ© Ø·Ø¨ÙŠØ¨ØŸ",category:"medical"},{en:"Where does it hurt?",es:"Â¿DÃ³nde le duele?",zh:"å“ªé‡Œç–¼ï¼Ÿ",ar:"Ø£ÙŠÙ† ØªØ´Ø¹Ø± Ø¨Ø§Ù„Ø£Ù„Ù…ØŸ",category:"medical"},{en:"Are you traveling with family?",es:"Â¿EstÃ¡ viajando con familia?",zh:"æ‚¨å’Œå®¶äººä¸€èµ·æ—…è¡Œå—ï¼Ÿ",ar:"Ù‡Ù„ ØªØ³Ø§ÙØ± Ù…Ø¹ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©ØŸ",category:"family"},{en:"Do you have children with you?",es:"Â¿Tiene niÃ±os con usted?",zh:"æ‚¨å¸¦ç€å­©å­å—ï¼Ÿ",ar:"Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø£Ø·ÙØ§Ù„ Ù…Ø¹ÙƒØŸ",category:"family"},{en:"Where are your children?",es:"Â¿DÃ³nde estÃ¡n sus niÃ±os?",zh:"æ‚¨çš„å­©å­åœ¨å“ªé‡Œï¼Ÿ",ar:"Ø£ÙŠÙ† Ø£Ø·ÙØ§Ù„ÙƒØŸ",category:"family"},{en:"How many children do you have?",es:"Â¿CuÃ¡ntos niÃ±os tiene?",zh:"æ‚¨æœ‰å‡ ä¸ªå­©å­ï¼Ÿ",ar:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø·ÙØ§Ù„ Ù„Ø¯ÙŠÙƒØŸ",category:"family"},{en:"Are your children safe?",es:"Â¿EstÃ¡n seguros sus niÃ±os?",zh:"æ‚¨çš„å­©å­å®‰å…¨å—ï¼Ÿ",ar:"Ù‡Ù„ Ø£Ø·ÙØ§Ù„Ùƒ Ø¨Ø£Ù…Ø§Ù†ØŸ",category:"family"},{en:"Who is caring for your children?",es:"Â¿QuiÃ©n estÃ¡ cuidando a sus niÃ±os?",zh:"è°åœ¨ç…§é¡¾æ‚¨çš„å­©å­ï¼Ÿ",ar:"Ù…Ù† ÙŠØ±Ø¹Ù‰ Ø£Ø·ÙØ§Ù„ÙƒØŸ",category:"family"},{en:"Do you have family in the United States?",es:"Â¿Tiene familia en los Estados Unidos?",zh:"æ‚¨åœ¨ç¾Žå›½æœ‰å®¶äººå—ï¼Ÿ",ar:"Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø¹Ø§Ø¦Ù„Ø© ÙÙŠ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø©ØŸ",category:"family"},{en:"Please remain calm",es:"Por favor mantÃ©ngase tranquilo",zh:"è¯·ä¿æŒå†·é™",ar:"Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø¨Ù‚ Ù‡Ø§Ø¯Ø¦Ø§Ù‹",category:"reassurance"},{en:"We will help you",es:"Le vamos a ayudar",zh:"æˆ‘ä»¬ä¼šå¸®åŠ©æ‚¨",ar:"Ø³ÙˆÙ Ù†Ø³Ø§Ø¹Ø¯Ùƒ",category:"reassurance"},{en:"Everything will be okay",es:"Todo va a estar bien",zh:"ä¸€åˆ‡éƒ½ä¼šå¥½çš„",ar:"ÙƒÙ„ Ø´ÙŠØ¡ Ø³ÙŠÙƒÙˆÙ† Ø¹Ù„Ù‰ Ù…Ø§ ÙŠØ±Ø§Ù…",category:"reassurance"},{en:"You are safe now",es:"Ahora estÃ¡ seguro",zh:"æ‚¨çŽ°åœ¨å®‰å…¨äº†",ar:"Ø£Ù†Øª Ø¨Ø£Ù…Ø§Ù† Ø§Ù„Ø¢Ù†",category:"reassurance"},{en:"We are here to help",es:"Estamos aquÃ­ para ayudar",zh:"æˆ‘ä»¬åœ¨è¿™é‡Œå¸®åŠ©æ‚¨",ar:"Ù†Ø­Ù† Ù‡Ù†Ø§ Ù„Ù†Ø³Ø§Ø¹Ø¯Ùƒ",category:"reassurance"},{en:"Don't worry",es:"No se preocupe",zh:"åˆ«æ‹…å¿ƒ",ar:"Ù„Ø§ ØªÙ‚Ù„Ù‚",category:"reassurance"},{en:"Do you speak English?",es:"Â¿Habla inglÃ©s?",zh:"æ‚¨ä¼šè¯´è‹±è¯­å—ï¼Ÿ",ar:"Ù‡Ù„ ØªØªÙƒÙ„Ù… Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©ØŸ",category:"communication"},{en:"Do you understand?",es:"Â¿Entiende usted?",zh:"æ‚¨æ˜Žç™½å—ï¼Ÿ",ar:"Ù‡Ù„ ØªÙÙ‡Ù…ØŸ",category:"communication"},{en:"Please speak slowly",es:"Por favor hable despacio",zh:"è¯·è¯´æ…¢ä¸€ç‚¹",ar:"Ù…Ù† ÙØ¶Ù„Ùƒ ØªÙƒÙ„Ù… Ø¨Ø¨Ø·Ø¡",category:"communication"},{en:"Can you repeat that?",es:"Â¿Puede repetir eso?",zh:"æ‚¨èƒ½é‡å¤ä¸€éå—ï¼Ÿ",ar:"Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ ØªÙƒØ±Ø§Ø± Ø°Ù„ÙƒØŸ",category:"communication"},{en:"I don't understand",es:"No entiendo",zh:"æˆ‘ä¸æ˜Žç™½",ar:"Ù„Ø§ Ø£ÙÙ‡Ù…",category:"communication"},{en:"Please wait for the translator",es:"Por favor espere al traductor",zh:"è¯·ç­‰å¾…ç¿»è¯‘å‘˜",ar:"Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ù†ØªØ¸Ø± Ø§Ù„Ù…ØªØ±Ø¬Ù…",category:"communication"},{en:"Please wait here",es:"Por favor espere aquÃ­",zh:"è¯·åœ¨è¿™é‡Œç­‰å¾…",ar:"Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ù†ØªØ¸Ø± Ù‡Ù†Ø§",category:"instructions"},{en:"Follow me please",es:"SÃ­ganme por favor",zh:"è¯·è·Ÿæˆ‘æ¥",ar:"Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ØªØ¨Ø¹Ù†ÙŠ",category:"instructions"},{en:"Sit down here",es:"SiÃ©ntese aquÃ­",zh:"è¯·ååœ¨è¿™é‡Œ",ar:"Ø§Ø¬Ù„Ø³ Ù‡Ù†Ø§",category:"instructions"},{en:"Please stand up",es:"Por favor pÃ³ngase de pie",zh:"è¯·ç«™èµ·æ¥",ar:"Ù…Ù† ÙØ¶Ù„Ùƒ Ù‚Ù",category:"instructions"},{en:"Put your hands where I can see them",es:"Ponga las manos donde pueda verlas",zh:"æŠŠæ‰‹æ”¾åœ¨æˆ‘èƒ½çœ‹è§çš„åœ°æ–¹",ar:"Ø¶Ø¹ ÙŠØ¯ÙŠÙƒ Ø­ÙŠØ« ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø±Ø¤ÙŠØªÙ‡Ù…Ø§",category:"instructions"},{en:"Please step back",es:"Por favor retroceda",zh:"è¯·åŽé€€",ar:"Ù…Ù† ÙØ¶Ù„Ùƒ ØªØ±Ø§Ø¬Ø¹ Ù„Ù„Ø®Ù„Ù",category:"instructions"},{en:"Stay where you are",es:"QuÃ©dese donde estÃ¡",zh:"å¾…åœ¨åŽŸåœ°",ar:"Ø§Ø¨Ù‚ Ù…ÙƒØ§Ù†Ùƒ",category:"instructions"},{en:"Do you need water?",es:"Â¿Necesita agua?",zh:"æ‚¨éœ€è¦æ°´å—ï¼Ÿ",ar:"Ù‡Ù„ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø§Ø¡ØŸ",category:"basic needs"},{en:"Are you hungry?",es:"Â¿Tiene hambre?",zh:"æ‚¨é¥¿äº†å—ï¼Ÿ",ar:"Ù‡Ù„ Ø£Ù†Øª Ø¬Ø§Ø¦Ø¹ØŸ",category:"basic needs"},{en:"Do you need to use the bathroom?",es:"Â¿Necesita usar el baÃ±o?",zh:"æ‚¨éœ€è¦ä¸ŠåŽ•æ‰€å—ï¼Ÿ",ar:"Ù‡Ù„ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¯ÙˆØ±Ø© Ø§Ù„Ù…ÙŠØ§Ù‡ØŸ",category:"basic needs"},{en:"Are you tired?",es:"Â¿EstÃ¡ cansado?",zh:"æ‚¨ç´¯äº†å—ï¼Ÿ",ar:"Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ¹Ø¨ØŸ",category:"basic needs"},{en:"Do you need rest?",es:"Â¿Necesita descansar?",zh:"æ‚¨éœ€è¦ä¼‘æ¯å—ï¼Ÿ",ar:"Ù‡Ù„ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø±Ø§Ø­Ø©ØŸ",category:"basic needs"},{en:"Do you need food?",es:"Â¿Necesita comida?",zh:"æ‚¨éœ€è¦é£Ÿç‰©å—ï¼Ÿ",ar:"Ù‡Ù„ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø·Ø¹Ø§Ù…ØŸ",category:"basic needs"},{en:"Do you have any identification?",es:"Â¿Tiene alguna identificaciÃ³n?",zh:"æ‚¨æœ‰èº«ä»½è¯ä»¶å—ï¼Ÿ",ar:"Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø£ÙŠ Ù‡ÙˆÙŠØ©ØŸ",category:"intake"},{en:"What is your name?",es:"Â¿CuÃ¡l es su nombre?",zh:"æ‚¨å«ä»€ä¹ˆåå­—ï¼Ÿ",ar:"Ù…Ø§ Ø§Ø³Ù…ÙƒØŸ",category:"intake"},{en:"Where are you from?",es:"Â¿De dÃ³nde es usted?",zh:"æ‚¨æ¥è‡ªå“ªé‡Œï¼Ÿ",ar:"Ù…Ù† Ø£ÙŠÙ† Ø£Ù†ØªØŸ",category:"intake"},{en:"What country are you from?",es:"Â¿De quÃ© paÃ­s es usted?",zh:"æ‚¨æ¥è‡ªå“ªä¸ªå›½å®¶ï¼Ÿ",ar:"Ù…Ù† Ø£ÙŠ Ø¨Ù„Ø¯ Ø£Ù†ØªØŸ",category:"intake"},{en:"Please spell your name",es:"Por favor deletree su nombre",zh:"è¯·æ‹¼å†™æ‚¨çš„åå­—",ar:"Ù…Ù† ÙØ¶Ù„Ùƒ ØªÙ‡Ø¬ Ø§Ø³Ù…Ùƒ",category:"intake"},{en:"Do you have a passport?",es:"Â¿Tiene pasaporte?",zh:"æ‚¨æœ‰æŠ¤ç…§å—ï¼Ÿ",ar:"Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø¬ÙˆØ§Ø² Ø³ÙØ±ØŸ",category:"intake"},{en:"What is your passport number?",es:"Â¿CuÃ¡l es su nÃºmero de pasaporte?",zh:"æ‚¨çš„æŠ¤ç…§å·ç æ˜¯ä»€ä¹ˆï¼Ÿ",ar:"Ù…Ø§ Ø±Ù‚Ù… Ø¬ÙˆØ§Ø² Ø³ÙØ±ÙƒØŸ",category:"intake"},{en:"When did you arrive?",es:"Â¿CuÃ¡ndo llegÃ³?",zh:"æ‚¨ä»€ä¹ˆæ—¶å€™åˆ°è¾¾çš„ï¼Ÿ",ar:"Ù…ØªÙ‰ ÙˆØµÙ„ØªØŸ",category:"intake"},{en:"How did you get here?",es:"Â¿CÃ³mo llegÃ³ aquÃ­?",zh:"æ‚¨æ˜¯æ€Žä¹ˆåˆ°è¿™é‡Œçš„ï¼Ÿ",ar:"ÙƒÙŠÙ ÙˆØµÙ„Øª Ø¥Ù„Ù‰ Ù‡Ù†Ø§ØŸ",category:"intake"},{en:"Are you traveling alone?",es:"Â¿EstÃ¡ viajando solo?",zh:"æ‚¨æ˜¯ä¸€ä¸ªäººæ—…è¡Œå—ï¼Ÿ",ar:"Ù‡Ù„ ØªØ³Ø§ÙØ± ÙˆØ­Ø¯ÙƒØŸ",category:"intake"}],Re=["medical","family","reassurance","communication","instructions","basic needs","intake"],Pe=Oe.filter(e=>"intake"===e.category),Ae={en:["en-US","en-GB","en"],es:["es-ES","es-US","es-MX","es"],zh:["zh-CN","zh-TW","zh-HK","zh"],ar:["ar-SA","ar-EG","ar-AE","ar"]},Ie=()=>{const[e,t]=a.useState([]),[r,n]=a.useState({});return a.useEffect(()=>{const e=()=>{const e=speechSynthesis.getVoices();t(e);const r={};Object.keys(Ae).forEach(t=>{const n=Ae[t];let a,s;for(const r of n){const t=e.find(e=>e.lang.toLowerCase()===r.toLowerCase());if(t){a=t;break}}if(!a)for(const r of n){const t=e.find(e=>e.lang.toLowerCase().startsWith(r.split("-")[0]));if(t){s=t;break}}r[t]={available:!(!a&&!s),voice:a,fallbackVoice:s}}),n(r)};return speechSynthesis.getVoices().length>0?e():speechSynthesis.onvoiceschanged=e,()=>{speechSynthesis.onvoiceschanged=null}},[]),{speak:(e,t)=>{if(!("speechSynthesis"in window))return;const n=r[t];if(!n?.available)return;speechSynthesis.cancel();const a=new SpeechSynthesisUtterance(e),s=n.voice||n.fallbackVoice;if(s)a.voice=s,a.lang=s.lang;else{const e=Ae[t]?.[0]||t;a.lang=e}a.rate=.8,a.volume=1,a.onerror=()=>{},speechSynthesis.speak(a)},availableVoices:e,voiceStatus:r,getVoiceInfo:e=>r[e],getAvailableLanguages:()=>Object.keys(r).filter(e=>r[e].available)}},Me=le()(ye(e=>({conversations:[],addConversation:t=>e(e=>({conversations:[{...t,id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:Date.now()},...e.conversations]})),clearConversation:t=>e(e=>({conversations:e.conversations.filter(e=>e.id!==t)})),clearAllConversations:()=>e({conversations:[]})}),{name:"ice-cbp-conversations"})),De=[{code:"en",name:"English",nativeName:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"es",name:"Spanish",nativeName:"EspaÃ±ol",flag:"ðŸ‡ªðŸ‡¸"},{code:"zh",name:"Chinese",nativeName:"ä¸­æ–‡",flag:"ðŸ‡¨ðŸ‡³"},{code:"ar",name:"Arabic",nativeName:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",flag:"ðŸ‡¸ðŸ‡¦",rtl:!0}],Fe=e=>{const t=(e=>De.find(t=>t.code===e))(e);return t?t.name:e.toUpperCase()},ze=[{source:"en",target:"es"},{source:"en",target:"zh"},{source:"en",target:"ar"},{source:"es",target:"en"},{source:"zh",target:"en"},{source:"ar",target:"en"}],He={showTips:!1,showEmojis:!1,theme:"system",sourceLanguage:"en",targetLanguage:"es"},Ve=e=>{try{localStorage.setItem("ice-cbp-app-settings",JSON.stringify(e))}catch(t){}},$e=e=>{if("undefined"!=typeof window){const t=document.documentElement;"dark"===("system"===e?"undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e)?t.classList.add("dark"):t.classList.remove("dark")}},We=le((e,t)=>{const r=(()=>{try{const e=localStorage.getItem("ice-cbp-app-settings");if(!e)return He;const t=JSON.parse(e);return{...He,...t}}catch(e){return He}})();return r.sourceLanguage="en",$e(r.theme),{...r,toggleTips:()=>{const r=!t().showTips,n={...t(),showTips:r};e(n),Ve(n)},toggleEmojis:()=>{const r=!t().showEmojis,n={...t(),showEmojis:r};e(n),Ve(n)},setTheme:r=>{const n={...t(),theme:r};e(n),Ve(n),$e(r)},setTargetLanguage:r=>{const n={...t(),targetLanguage:r,sourceLanguage:"en"};e(n),Ve(n)},resetDismissedTips:()=>{Object.keys(localStorage).forEach(e=>{e.includes("-tips-dismissed")&&localStorage.removeItem(e)});const r={...t(),showTips:!0};e(r),Ve(r)},resetToDefaults:()=>{const t={...He,sourceLanguage:"en"};e(t),Ve(t),$e(He.theme),Object.keys(localStorage).forEach(e=>{e.includes("-tips-dismissed")&&localStorage.removeItem(e)})}}});"undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const{theme:e}=We.getState();"system"===e&&$e("system")});const _e=({value:e,onChange:t,placeholder:r="Search...",onSearch:n})=>me.jsx("form",{role:"search",className:"w-full",onSubmit:e=>{e.preventDefault(),n&&n()},children:me.jsxs("div",{className:"relative",children:[me.jsx("label",{htmlFor:"search-input",className:"sr-only",children:r}),me.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",children:me.jsx(_,{className:"w-4 h-4"})}),me.jsx("input",{id:"search-input",type:"text",placeholder:r,value:e,onChange:e=>{t(e.target.value),e.target.value.trim()&&n&&setTimeout(()=>n(),100)},className:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent focus-visible:outline-none transition-colors"}),e&&me.jsx("button",{type:"button",onClick:()=>{t("")},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 rounded p-0.5",title:"Clear search",children:me.jsx(B,{className:"w-4 h-4"})})]})}),Be=({title:e,tips:t,color:r="blue",dismissible:n=!0,storageKey:s})=>{const{showTips:i}=We(),[o,l]=a.useState(()=>!(!n||!s)&&"dismissed"===localStorage.getItem(s));return!i||o?null:me.jsx("div",{className:`p-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 ${{blue:"bg-blue-50 dark:bg-blue-900/20 border-blue-100 dark:border-blue-800 text-blue-800 dark:text-blue-200",green:"bg-green-50 dark:bg-green-900/20 border-green-100 dark:border-green-800 text-green-800 dark:text-green-200",purple:"bg-purple-50 dark:bg-purple-900/20 border-purple-100 dark:border-purple-800 text-purple-800 dark:text-purple-200",yellow:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-100 dark:border-yellow-800 text-yellow-800 dark:text-yellow-200"}[r]}`,children:me.jsxs("div",{className:"flex items-start justify-between",children:[me.jsxs("div",{className:"flex-1",children:[me.jsxs("h3",{className:"font-medium mb-2",children:[e,":"]}),me.jsx("ul",{className:"text-sm space-y-1",children:t.map((e,t)=>me.jsxs("li",{children:["â€¢ ",e]},t))})]}),n&&me.jsx("button",{onClick:()=>{l(!0),s&&localStorage.setItem(s,"dismissed")},className:"ml-3 p-1 hover:bg-black hover:bg-opacity-10 dark:hover:bg-white dark:hover:bg-opacity-10 rounded transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500",title:"Dismiss tips",children:me.jsx(B,{className:"w-4 h-4"})})]})})},qe=({title:e,subtitle:t,onPlay:r,className:n="",id:a})=>me.jsx("div",{onClick:e=>{const t=e.currentTarget.querySelector("[data-play-button]");t&&t.click()},className:`w-full p-4 bg-transparent cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors ${n}`,children:me.jsxs("div",{className:"flex items-center justify-between",children:[me.jsxs("div",{className:"flex-1 pr-4",children:[me.jsx("h4",{id:a,className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:e}),me.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:t})]}),me.jsx("button",{"data-play-button":!0,onClick:e=>{e.stopPropagation(),r(e)},className:"flex-shrink-0 p-3 text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/20 rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500",title:"Play audio",children:me.jsx(q,{className:"w-6 h-6"})})]})}),Ue={en:"Do you have any identification?",es:"Â¿Tiene alguna identificaciÃ³n?",zh:"æ‚¨æœ‰èº«ä»½è¯ä»¶å—ï¼Ÿ",ar:"Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø£ÙŠ Ù‡ÙˆÙŠØ©ØŸ"},Ke={en:"What is your name?",es:"Â¿CuÃ¡l es su nombre?",zh:"æ‚¨å«ä»€ä¹ˆåå­—ï¼Ÿ",ar:"Ù…Ø§ Ø§Ø³Ù…ÙƒØŸ"},Ge={en:"What country are you from?",es:"Â¿De quÃ© paÃ­s es usted?",zh:"æ‚¨æ¥è‡ªå“ªä¸ªå›½å®¶ï¼Ÿ",ar:"Ù…Ù† Ø£ÙŠ Ø¨Ù„Ø¯ Ø£Ù†ØªØŸ"},Ye={en:"What is your passport number?",es:"Â¿CuÃ¡l es su nÃºmero de pasaporte?",zh:"æ‚¨çš„æŠ¤ç…§å·ç æ˜¯ä»€ä¹ˆï¼Ÿ",ar:"Ù…Ø§ Ù‡Ùˆ Ø±Ù‚Ù… Ø¬ÙˆØ§Ø² Ø³ÙØ±ÙƒØŸ"},Xe=e=>({en:e.en,es:e.es,zh:e.zh,ar:e.ar,category:"intake"}),Je=a.forwardRef(({searchTerm:e,onPlayAudio:t},r)=>{const{intakeData:n,updateIntakeData:a}=ke(),{isIntakeComplete:s}=ke(),{sourceLanguage:i,targetLanguage:o}=We(),l=(e,t)=>e[t]||e.en;return me.jsxs("details",{ref:r,name:"intake-accordion",className:"group bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 last:border-b-0",open:""===e,children:[me.jsxs("summary",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-inset text-gray-900 dark:text-white",children:[me.jsx("div",{className:"flex items-center gap-3",children:me.jsxs("div",{children:[me.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:s?"Intake Complete":"Intake Required"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s?"All required information has been collected":"Please complete the required fields below"})]})}),me.jsx(U,{className:"w-5 h-5 text-gray-400 dark:text-gray-500 transition-transform duration-200 group-open:rotate-180"})]}),me.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700",children:me.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[me.jsxs("div",{children:[me.jsx(qe,{id:"identification-question",title:l(Ue,i),subtitle:l(Ue,o),onPlay:e=>{const r=Ue,n=Xe(r);t(l(r,o),o,n,e)},className:"border-b-0"}),me.jsxs("fieldset",{className:"p-4","aria-labelledby":"identification-question",children:[me.jsx("legend",{className:"sr-only",children:"Do you have identification?"}),me.jsxs("div",{className:"flex gap-3",children:[me.jsxs("label",{className:"flex items-center",children:[me.jsx("input",{type:"radio",name:"hasIdentification",value:"true",checked:!0===n.hasIdentification,onChange:()=>a({hasIdentification:!0}),className:"sr-only"}),me.jsx("span",{className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer focus-within:ring-2 focus-within:ring-blue-500 "+(!0===n.hasIdentification?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-500"),children:"Yes"})]}),me.jsxs("label",{className:"flex items-center",children:[me.jsx("input",{type:"radio",name:"hasIdentification",value:"false",checked:!1===n.hasIdentification,onChange:()=>a({hasIdentification:!1}),className:"sr-only"}),me.jsx("span",{className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer focus-within:ring-2 focus-within:ring-blue-500 "+(!1===n.hasIdentification?"bg-red-600 text-white":"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-500"),children:"No"})]})]})]})]}),me.jsxs("div",{children:[me.jsx(qe,{id:"name-question",title:l(Ke,i),subtitle:l(Ke,o),onPlay:e=>{const r=Ke,n=Xe(r);t(l(r,o),o,n,e)},className:"border-b-0"}),me.jsxs("div",{className:"pt-2",children:[me.jsx("label",{htmlFor:"name-input",className:"sr-only",children:"Enter your full name"}),me.jsx("input",{id:"name-input",type:"text",value:n.name,onChange:e=>a({name:e.target.value}),"aria-labelledby":"name-question",className:"mb-0 focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-solid focus-visible:outline-blue-500 w-full px-4 py-2 border-0 border-b-4 border-b-blue-200 dark:border-b-blue-500 bg-gradient-to-l from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 text-gray-900 dark:text-white transition-colors",placeholder:"Enter full name"})]})]}),me.jsxs("div",{children:[me.jsx(qe,{id:"country-question",title:l(Ge,i),subtitle:l(Ge,o),onPlay:e=>{const r=Ge,n=Xe(r);t(l(r,o),o,n,e)},className:"border-b-0"}),me.jsxs("div",{className:"pt-2",children:[me.jsx("label",{htmlFor:"country-input",className:"sr-only",children:"Enter your country of citizenship"}),me.jsx("input",{id:"country-input",type:"text",value:n.country,onChange:e=>a({country:e.target.value}),"aria-labelledby":"country-question",className:"mb-0 focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-solid focus-visible:outline-blue-500 w-full px-4 py-2 border-0 border-b-4 border-b-blue-200 dark:border-b-blue-500 bg-gradient-to-l from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 text-gray-900 dark:text-white transition-colors",placeholder:"Enter country of citizenship"})]})]}),!0===n.hasIdentification&&me.jsxs("div",{children:[me.jsx(qe,{id:"passport-question",title:l(Ye,i),subtitle:l(Ye,o),onPlay:e=>{const r=Ye,n=Xe(r);t(l(r,o),o,n,e)},className:"border-b-0"}),me.jsxs("div",{className:"pt-2",children:[me.jsx("label",{htmlFor:"passport-input",className:"sr-only",children:"Enter your passport or ID number"}),me.jsx("input",{id:"passport-input",type:"text",value:n.passportNumber,onChange:e=>a({passportNumber:e.target.value}),"aria-labelledby":"passport-question",className:"mb-0 focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-solid focus-visible:outline-blue-500 w-full px-4 py-2 border-0 border-b-4 border-b-blue-200 dark:border-b-blue-500 bg-gradient-to-l from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 text-gray-900 dark:text-white transition-colors",placeholder:"Enter passport or ID number"})]})]}),me.jsxs("div",{className:"",children:[me.jsx("label",{htmlFor:"additional-info",className:"block font-medium text-gray-900 dark:text-gray-100 my-4",children:me.jsx("span",{className:"px-4",children:"Additional Information"})}),me.jsx("textarea",{id:"additional-info",value:n.additionalInfo,onChange:e=>a({additionalInfo:e.target.value}),rows:3,className:"mb-[-6px] focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-solid focus-visible:outline-blue-500 w-full px-4 py-2 border-0 border-transparent border-solid border-b-4 border-b-blue-200 dark:border-b-blue-500 bg-gradient-to-l from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 text-gray-900 dark:text-white transition-colors",placeholder:"Any additional notes or information"})]})]})})]})});Je.displayName="IntakeFormSection";const Ze=a.forwardRef(({searchTerm:e,filteredPhrases:t,onPlayAudio:r},n)=>{const{sourceLanguage:a,targetLanguage:s}=We(),i=(e,t)=>{const r=e[t];return"string"==typeof r?r:e.en};return me.jsxs("details",{ref:n,name:"intake-accordion",className:"group bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 last:border-b-0",open:""!==e&&t.length>0,children:[me.jsxs("summary",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-inset text-gray-900 dark:text-white",children:[me.jsx("div",{className:"flex items-center gap-3",children:me.jsxs("div",{children:[me.jsxs("h3",{className:"font-medium",children:["Additional Intake Phrases",e&&t.length>0&&me.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400 ml-2",children:["(",t.length," result",1!==t.length?"s":"",")"]})]}),me.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Follow-up questions and phrases"})]})}),me.jsx(U,{className:"w-5 h-5 text-gray-400 dark:text-gray-500 transition-transform duration-200 group-open:rotate-180"})]}),me.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700",children:t.length>0?me.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:t.map((e,t)=>{const n=i(e,a),o=i(e,s);return me.jsx(qe,{title:n,subtitle:o,onPlay:()=>r(o,s,e,{})},t)})}):e?me.jsx("div",{className:"p-4",children:me.jsx("div",{className:"text-center py-8",children:me.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:['No intake phrases found matching "',e,'"']})})}):null})]})});Ze.displayName="AdditionalPhrasesSection";const Qe=()=>{const[e,t]=a.useState(""),{speak:r}=Ie(),{addConversation:n}=Me(),{isIntakeComplete:s}=ke(),{sourceLanguage:i,targetLanguage:o}=We(),c=a.useRef(null),d=a.useRef(null);l.useEffect(()=>{},[i,o]);const u=(e,t)=>{const r=e[t];return"string"==typeof r?r:e.en},g=Pe.filter(t=>{if(""===e)return!0;const r=e.toLowerCase(),n=u(t,i),a=u(t,o);return n.toLowerCase().includes(r)||a.toLowerCase().includes(r)}),h=(e,t,a,s)=>{s.stopPropagation(),r(e,t);const l=u(a,i),c=u(a,o);n({originalText:l,translatedText:c,originalLang:i,targetLang:o,source:"phrase",speaker:"officer"})};return me.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[me.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[me.jsxs("div",{className:"flex items-center justify-between mb-4",children:[me.jsxs("div",{className:"flex items-center gap-2",children:[me.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Required Intake"}),s&&me.jsx(y,{className:"w-5 h-5 text-green-600 dark:text-green-400"})]}),me.jsxs("button",{onClick:()=>{ke.getState().checkIntakeCompletion()},className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[me.jsx(K,{className:"w-4 h-4 inline mr-1"}),"Save"]})]}),me.jsx(_e,{value:e,onChange:t,placeholder:"Search additional questions...",onSearch:()=>{e.trim()&&g.length>0?d.current&&(d.current.open=!0,setTimeout(()=>{d.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)):""===e&&c.current&&(c.current.open=!0)}})]}),me.jsxs("div",{className:"flex-1 overflow-y-auto prevent-bounce scrollbar-hide",children:[me.jsx(Je,{ref:c,searchTerm:e,onPlayAudio:h}),me.jsx(Ze,{ref:d,searchTerm:e,filteredPhrases:g,onPlayAudio:h})]}),me.jsx(Be,{title:"Intake Requirements",color:"yellow",storageKey:"intake-tips-dismissed",tips:["Tap Spanish audio buttons to ask questions directly","Complete all required fields for proper documentation","Use Record tab to capture detainee responses","Search automatically switches between form and phrases","All interactions are automatically logged"]})]})},et=()=>{const[e,t]=a.useState(""),{speak:r}=Ie(),{addConversation:n}=Me(),{sourceLanguage:s,targetLanguage:i}=We(),o=a.useRef(null),l=Re.filter(t=>"intake"!==t&&(""===e||Oe.filter(e=>e.category===t).some(t=>Object.values(t).some(t=>"string"==typeof t&&t.toLowerCase().includes(e.toLowerCase()))))),c=(e,t)=>{const r=e[t];return"string"==typeof r?r:e.en},d=e=>({medical:"Medical",family:"Family",reassurance:"Reassurance",communication:"Communication",instructions:"Instructions","basic needs":"Basic Needs"}[e]||e);return me.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[me.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[me.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Phrases"}),me.jsx(_e,{value:e,onChange:t,placeholder:"Search phrases",onSearch:()=>{e.trim()&&o.current&&o.current.scrollIntoView({behavior:"smooth",block:"start"})}})]}),me.jsxs("div",{className:"flex-1 overflow-y-auto prevent-bounce scrollbar-hide",children:[me.jsx("div",{ref:o,children:l.map((t,a)=>{const o=(t=>Oe.filter(r=>{const n=r.category===t,a=""===e||Object.values(r).some(t=>"string"==typeof t&&t.toLowerCase().includes(e.toLowerCase()));return n&&a}))(t),l=0===a;return me.jsxs("details",{name:"quick-phrases-accordion",className:"group bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 last:border-b-0",open:l||""!==e,children:[me.jsxs("summary",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-inset text-gray-900 dark:text-white",children:[me.jsx("div",{className:"flex items-center gap-3",children:me.jsxs("div",{children:[me.jsx("h3",{className:"font-medium",children:d(t)}),me.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[o.length," phrase",1!==o.length?"s":""]})]})}),me.jsx(U,{className:"w-5 h-5 text-gray-400 dark:text-gray-500 transition-transform duration-200 group-open:rotate-180"})]}),me.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700",children:me.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:o.map((e,t)=>{const a=c(e,s),o=c(e,i);return me.jsx(qe,{title:a,subtitle:o,onPlay:()=>((e,t,a)=>{r(e,t);const o=c(a,s),l=c(a,i);n({originalText:o,translatedText:l,originalLang:s,targetLang:i,source:"phrase",speaker:"officer"})})(o,i,e)},t)})})})]},t)})}),0===l.length&&me.jsx("div",{className:"text-center py-12",children:me.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No phrases found matching your search."})})]}),me.jsx(Be,{title:"Quick Phrases Tips",color:"blue",storageKey:"phrases-tips-dismissed",tips:["Tap category headers to expand/collapse sections","First category opens automatically for quick access","Use speaker icons to play audio immediately","Search filters across all categories","All interactions are logged for audit purposes"]})]})},tt=le(e=>({translation:null,setTranslation:t=>e({translation:t}),clearTranslation:()=>e({translation:null})})),rt=({message:e,type:t="error"})=>{const r="error"===t?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",n="error"===t?"text-red-800 dark:text-red-200":"text-yellow-800 dark:text-yellow-200";return me.jsx("div",{className:`${r} border rounded-lg p-4 mx-4 mb-4`,children:me.jsxs("div",{className:`flex items-center gap-2 ${n}`,children:[me.jsx(G,{className:"w-5 h-5 flex-shrink-0"}),me.jsx("span",{className:"text-sm",children:e})]})})},nt=({message:e})=>me.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[me.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mb-3"}),me.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:e})]}),at=({selectedSpeaker:e,onSpeakerChange:t})=>me.jsxs("fieldset",{className:"mb-4",children:[me.jsx("legend",{className:"sr-only",children:"Select who is speaking"}),me.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-4 items-center",children:[me.jsx("span",{"aria-hidden":"true",className:"text-sm text-gray-600 dark:text-gray-300 font-medium",children:"Speaker"}),me.jsxs("div",{className:"flex bg-transparent rounded-lg p-1",role:"radiogroup","aria-labelledby":"speaker-group-label",children:[me.jsx("div",{className:"relative",children:me.jsxs("label",{htmlFor:"speaker-officer",className:"flex items-center gap-2 px-3 py-1 rounded-md text-sm font-medium transition-colors cursor-pointer "+("officer"===e?"bg-blue-600 text-white shadow-sm":"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[me.jsx("input",{type:"radio",id:"speaker-officer",name:"speaker",value:"officer",checked:"officer"===e,onChange:()=>t("officer"),className:"absolute opacity-0 w-full h-full cursor-pointer focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-md"}),me.jsx(Y,{className:"w-4 h-4","aria-hidden":"true"}),"Officer"]})}),me.jsx("div",{className:"relative",children:me.jsxs("label",{htmlFor:"speaker-detainee",className:"flex items-center gap-2 px-3 py-1 rounded-md text-sm font-medium transition-colors cursor-pointer "+("detained"===e?"bg-orange-600 text-white shadow-sm":"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[me.jsx("input",{type:"radio",id:"speaker-detainee",name:"speaker",value:"detained",checked:"detained"===e,onChange:()=>t("detained"),className:"absolute opacity-0 w-full h-full cursor-pointer focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-md"}),me.jsx(X,{className:"w-4 h-4","aria-hidden":"true"}),"Detainee"]})})]})]})]}),st=({currentMode:e,availableModes:t,onModeChange:r,lastDetectionResult:n,showDetectionFeedback:s=!1,className:i=""})=>{const[o,l]=a.useState(!1);return me.jsxs("div",{className:`space-y-2 ${i}`,children:[me.jsxs("div",{className:"flex items-center gap-2",children:[me.jsx(p,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),me.jsx("button",{onClick:()=>{const n=(t.findIndex(t=>t.id===e.id)+1)%t.length;r(t[n])},className:"px-3 py-1 rounded-full text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 "+(c=e,c.isAuto?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 hover:bg-purple-200 dark:hover:bg-purple-900/40":"en"===c.sourceLang?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-900/40":"es"===c.sourceLang?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-900/40":"zh"===c.sourceLang?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-900/40":"ar"===c.sourceLang?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 hover:bg-yellow-200 dark:hover:bg-yellow-900/40":"bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-900/40"),title:e.description,children:e.label}),e.isAuto&&me.jsx("button",{onClick:()=>l(!o),className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Show detection details",children:me.jsx(J,{className:"w-3 h-3 text-gray-500 dark:text-gray-400"})}),me.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"(Tap to cycle modes)"})]}),s&&n&&e.isAuto&&me.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-3 text-sm",children:[me.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[(e=>{switch(e){case"high":return me.jsx(y,{className:"w-3 h-3 text-green-500"});case"medium":return me.jsx(G,{className:"w-3 h-3 text-yellow-500"});case"low":return me.jsx(G,{className:"w-3 h-3 text-red-500"})}})(n.confidence),me.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Last Detection"}),me.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full "+("high"===n.confidence?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"medium"===n.confidence?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"),children:(e=>{switch(e){case"high":return"High confidence";case"medium":return"Medium confidence";case"low":return"Low confidence"}})(n.confidence)})]}),n.reasoning&&me.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:n.reasoning}),n.alternatives&&n.alternatives.length>0&&o&&me.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:[me.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Alternatives:"}),me.jsx("div",{className:"space-y-1",children:n.alternatives.map((e,t)=>me.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:["â€¢ ",e.reasoning]},t))})]})]}),o&&e.isAuto&&!s&&me.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-700 rounded-lg p-3 text-sm",children:[me.jsx("h4",{className:"font-medium text-purple-900 dark:text-purple-100 mb-1",children:"Auto Detect Mode"}),me.jsx("p",{className:"text-purple-700 dark:text-purple-300 text-xs leading-relaxed",children:"Automatically detects the spoken language using advanced algorithms. Considers conversation context, speaker patterns, and language indicators for improved accuracy."}),me.jsx("div",{className:"mt-2 pt-2 border-t border-purple-200 dark:border-purple-600",children:me.jsxs("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:[me.jsx("strong",{children:"Supported:"})," English, Spanish, Chinese, Arabic"]})})]})]});var c};class it{constructor(){t(this,"patterns",[{code:"en",patterns:{words:["the","be","to","of","and","a","in","that","have","i","it","for","not","on","with","he","as","you","do","at","this","but","his","by","from","they","she","or","an","will","my","one","all","would","there","their","what","so","up","out","if","about","who","get","which","go","me","when","make","can","like","time","no","just","him","know","take","people","into","year","your","good","some","could","them","see","other","than","then","now","look","only","come","its","over","think","also","back","after","use","two","how","our","work","first","well","way","even","new","want","because","any","these","give","day","most","us","is","was","are","been","has","had","were","said","each","which","their","time","will","about","if","up","out","many","then","them","these","so","some","her","would","make","like","into","him","has","two","more","very","what","know","just","first","get","over","think","also","your","work","life","only","can","still","should","after","being","now","made","before","here","through","when","where","much","go","me","back","with","well","were","been","have","there","who","oil","its","sit","but","not"],phrases:["how are you","thank you","excuse me","i need help","where is","what time","how much","my name is","i don't understand","do you speak","i'm looking for","can you help me","i'm from","i live in","i work as","i have a","this is my","i would like"],grammar:[/\b(is|are|was|were|am)\s+\w+ing\b/i,/\b(have|has|had)\s+\w+ed\b/i,/\b(the|a|an)\s+\w+\b/i,/\b\w+s\s+(is|are)\b/i]},weights:{characters:.1,words:1,phrases:2,grammar:1.5}},{code:"es",patterns:{words:["el","la","de","que","y","en","un","es","se","no","te","lo","le","da","su","por","son","con","para","una","tiene","tu","del","estÃ¡","pero","todo","como","muy","ya","yo","este","si","porque","sobre","entre","desde","hasta","donde","cuando","quien","cual","soy","eres","somos","son","tengo","tienes","tenemos","tienen","hablo","hablas","hablamos","hablan","necesito","necesitas","necesitamos","necesitan","hola","gracias","buenos","buenas","dÃ­as","tardes","noches","disculpe","ayuda","agua","niÃ±os","hijos","familia","mÃ©dico","doctor","enfermo","herido","bien","mal","aquÃ­","allÃ­","dÃ³nde","cuÃ¡ndo","cÃ³mo","quÃ©","quiÃ©n","cuÃ¡l","mi","tu","su","nuestro","vuestro","amigo","amiga","seÃ±or","seÃ±ora","niÃ±o","niÃ±a","casa","trabajo","escuela","hospital","policÃ­a","abogado","dinero","tiempo","nombre","apellido","edad","aÃ±os","meses","dÃ­as","horas","minutos","segundo","primero","Ãºltimo","grande","pequeÃ±o","alto","bajo","gordo","flaco","nuevo","viejo","joven","mayor","menor","mejor","peor","mÃ¡s","menos","mucho","poco","bastante","demasiado","nada","algo","alguien","nadie","siempre","nunca","ahora","despuÃ©s","antes","durante","mientras","tambiÃ©n","tampoco","solo","solamente","ademÃ¡s","sin embargo","aunque","sino","pero","y","o"],phrases:["cÃ³mo estÃ¡","muchas gracias","de nada","disculpe","necesito ayuda","dÃ³nde estÃ¡","quÃ© hora es","cuÃ¡nto cuesta","me llamo","no entiendo","habla inglÃ©s","estoy buscando","puede ayudarme","soy de","vivo en","trabajo como","tengo un","este es mi","me gustarÃ­a","por favor","con permiso","lo siento"],grammar:[/\b(estÃ¡|estÃ¡n|estoy|estÃ¡s|estamos)\s+\w+ndo\b/i,/\b(he|has|ha|hemos|habÃ©is|han)\s+\w+do\b/i,/\b(el|la|los|las)\s+\w+\b/i,/\b\w+s\s+(estÃ¡n|son)\b/i]},weights:{characters:.1,words:1,phrases:2,grammar:1.5}},{code:"zh",patterns:{characters:/[\u4e00-\u9fff]/,words:["çš„","ä¸€","æ˜¯","åœ¨","ä¸","äº†","æœ‰","å’Œ","äºº","è¿™","ä¸­","å¤§","ä¸º","ä¸Š","ä¸ª","å›½","æˆ‘","ä»¥","è¦","ä»–","æ—¶","æ¥","ç”¨","ä»¬","ç”Ÿ","åˆ°","ä½œ","åœ°","äºŽ","å‡º","å°±","åˆ†","å¯¹","æˆ","ä¼š","å¯","ä¸»","å‘","å¹´","åŠ¨","åŒ","å·¥","ä¹Ÿ","èƒ½","ä¸‹","è¿‡","å­","è¯´","äº§","ç§","é¢","è€Œ","æ–¹","åŽ","å¤š","å®š","è¡Œ","å­¦","æ³•","æ‰€","æ°‘","å¾—","ç»","å","ä¸‰","ä¹‹","è¿›","ç€","ç­‰","éƒ¨","åº¦","å®¶","ç”µ","åŠ›","é‡Œ","å¦‚","æ°´","åŒ–","é«˜","è‡ª","äºŒ","ç†","èµ·","å°","ç‰©","çŽ°","å®ž","åŠ ","é‡","éƒ½","ä¸¤","ä½“","åˆ¶","æœº","å½“","ä½¿","ç‚¹","ä»Ž","ä¸š","æœ¬","åŽ»","æŠŠ","æ€§","å¥½","åº”","å¼€","å®ƒ","åˆ","è¿˜","å› ","ç”±","å…¶","äº›","ç„¶","å‰","å¤–","å¤©","æ”¿","å››","æ—¥","é‚£","ç¤¾","ä¹‰","äº‹","å¹³","å½¢","ç›¸","å…¨","è¡¨","é—´","æ ·","ä¸Ž","å…³","å„","é‡","æ–°","çº¿","å†…","æ•°","æ­£","å¿ƒ","å","ä½ ","æ˜Ž","çœ‹","åŽŸ","åˆ","ä¹ˆ","åˆ©","æ¯”","æˆ–","ä½†","è´¨","æ°”","ç¬¬","å‘","é“","å‘½","æ­¤","å˜","æ¡","åª","æ²¡","ç»“","è§£","é—®","æ„","å»º","æœˆ","å…¬","æ— ","ç³»","å†›","å¾ˆ","æƒ…"," çŸ¥","è§","åŠ›","å","é€š","æ‰‹","å‡ ","å…ˆ","åš","æ‹¿","ç»™","èµ°","åƒ","å–","ç¡","ä½","è¯´è¯","å¬","çœ‹è§","çŸ¥é“","è®¤è¯†","è®°å¾—","å¿˜è®°"],phrases:["ä½ å¥½","è°¢è°¢","ä¸å®¢æ°”","å¯¹ä¸èµ·","è¯·é—®","æˆ‘ä¸æ‡‚","å¸®åŠ©æˆ‘","åœ¨å“ªé‡Œ","å¤šå°‘é’±","å‡ ç‚¹äº†","æˆ‘å«","æˆ‘æ˜¯","æˆ‘æ¥è‡ª","æˆ‘ä½åœ¨","æˆ‘éœ€è¦","è¯·å¸®åŠ©","è°¢è°¢ä½ ","æ²¡å…³ç³»","å†è§"],grammar:[/\b\w+äº†\b/i,/\b\w+çš„\w+\b/i,/\bä¸\w+\b/i,/\bå¾ˆ\w+\b/i]},weights:{characters:3,words:1,phrases:2,grammar:1.5}},{code:"ar",patterns:{characters:/[\u0600-\u06ff]/,words:["ÙÙŠ","Ù…Ù†","Ø¥Ù„Ù‰","Ø¹Ù„Ù‰","Ø£Ù†","ÙƒØ§Ù†","Ù„Ø§","Ù…Ø§","Ù‡Ùˆ","Ø£Ùˆ","ÙƒÙ„","Ù‡Ø°Ø§","Ø§Ù„ØªÙŠ","Ù‚Ø¯","ÙƒÙ…Ø§","Ù„Ù…","Ø¹Ù†","Ù…Ø¹","Ø¥Ø°Ø§","ÙƒØ§Ù†Øª","Ù„ÙƒÙ†","Ø£ÙŠ","Ø¨Ø¹Ø¯","Ù‡ÙŠ","Ø°Ù„Ùƒ","Ø¹Ù†Ø¯","Ø¹Ù„ÙŠÙ‡","Ø¨ÙŠÙ†","Ù†Ø­Ù†","Ø£Ù†Øª","Ù‡Ù…","Ù‡Ù†","Ø£Ù†Ø§","Ø£Ù†Ù‡Ø§","Ù„Ù‡Ø§","Ù„Ù‡","Ù†Ø¹Ù…","Ù„Ù…Ø§Ø°Ø§","ÙƒÙŠÙ","Ø£ÙŠÙ†","Ù…ØªÙ‰","Ø£Ø¬Ù„","Ø´ÙƒØ±Ø§","Ø¹ÙÙˆØ§","Ù…Ø±Ø­Ø¨Ø§","ÙˆØ¯Ø§Ø¹Ø§","Ø·ÙÙ„","Ø£Ø·ÙØ§Ù„","Ø¹Ø§Ø¦Ù„Ø©","Ø·Ø¨ÙŠØ¨","Ù…Ø±ÙŠØ¶","Ù…Ø³Ø§Ø¹Ø¯Ø©","Ù…Ø§Ø¡","Ø·Ø¹Ø§Ù…","Ù…Ù†Ø²Ù„","Ø³ÙŠØ§Ø±Ø©","Ø¹Ù…Ù„","Ù…Ø¯Ø±Ø³Ø©","ÙƒØªØ§Ø¨","ÙŠÙˆÙ…","Ù„ÙŠÙ„Ø©","ØµØ¨Ø§Ø­","Ù…Ø³Ø§Ø¡","Ø³Ù„Ø§Ù…","Ø­Ø§Ù„","Ø®ÙŠØ±","Ø¨Ø®ÙŠØ±","Ø§Ù„Ù„Ù‡","Ø¥Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡","Ù…Ø§ Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡","Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡","Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡","Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡","Ø§Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡","Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡","Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±","Ø­Ø³Ø¨ÙŠ Ø§Ù„Ù„Ù‡","ØªÙˆÙƒÙ„Øª Ø¹Ù„Ù‰ Ø§Ù„Ù„Ù‡","Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡","Ø¬Ø²Ø§Ùƒ Ø§Ù„Ù„Ù‡","Ø±Ø­Ù…Ù‡ Ø§Ù„Ù„Ù‡","ØºÙØ± Ø§Ù„Ù„Ù‡","Ù‡Ø¯Ø§Ù‡ Ø§Ù„Ù„Ù‡","ÙˆÙÙ‚Ù‡ Ø§Ù„Ù„Ù‡","Ø­ÙØ¸Ù‡ Ø§Ù„Ù„Ù‡","Ø´ÙØ§Ù‡ Ø§Ù„Ù„Ù‡","Ø±Ø²Ù‚Ù‡ Ø§Ù„Ù„Ù‡","Ø£Ø¹Ø§Ù†Ù‡ Ø§Ù„Ù„Ù‡","Ù†ØµØ±Ù‡ Ø§Ù„Ù„Ù‡","Ø£ÙŠØ¯Ù‡ Ø§Ù„Ù„Ù‡","Ø¨Ø±ÙƒØ©","Ø±Ø­Ù…Ø©","Ù…ØºÙØ±Ø©","Ù‡Ø¯Ø§ÙŠØ©","ØªÙˆÙÙŠÙ‚","Ø­ÙØ¸","Ø´ÙØ§Ø¡","Ø±Ø²Ù‚","Ø¥Ø¹Ø§Ù†Ø©","Ù†ØµØ±","ØªØ£ÙŠÙŠØ¯","ÙƒØ±Ø§Ù…Ø©","Ø¹Ø²Ø©","Ù‚ÙˆØ©"],phrases:["Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…","ÙˆØ¹Ù„ÙŠÙƒÙ… Ø§Ù„Ø³Ù„Ø§Ù…","Ø£Ù‡Ù„Ø§ ÙˆØ³Ù‡Ù„Ø§","Ù…Ø±Ø­Ø¨Ø§ Ø¨Ùƒ","ÙƒÙŠÙ Ø­Ø§Ù„Ùƒ","Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡","Ø¨Ø®ÙŠØ± ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡","Ù…Ø§ Ø§Ø³Ù…Ùƒ","Ø§Ø³Ù…ÙŠ","Ù…Ù† Ø£ÙŠÙ† Ø£Ù†Øª","Ø£Ù†Ø§ Ù…Ù†","Ø£Ø­ØªØ§Ø¬ Ù…Ø³Ø§Ø¹Ø¯Ø©","Ù‡Ù„ ØªØªÙƒÙ„Ù…","Ù„Ø§ Ø£ÙÙ‡Ù…","Ø£Ø¹Ø¯ Ù…Ù† ÙØ¶Ù„Ùƒ","Ø´ÙƒØ±Ø§ Ù„Ùƒ","Ø¹ÙÙˆØ§","Ø¢Ø³Ù","Ù…Ø¹Ø°Ø±Ø©","Ø£ÙŠÙ†","ÙƒÙ… Ø§Ù„Ø³Ø§Ø¹Ø©","ÙƒÙ… Ø§Ù„Ø³Ø¹Ø±"],grammar:[/\bØ§Ù„\w+\b/i,/\b\w+Ù‡Ø§\b/i,/\b\w+ÙˆÙ†\b/i,/\b\w+Ø§Øª\b/i,/\bÙˆ\w+\b/i]},weights:{characters:3,words:1,phrases:2,grammar:1.5}}])}detectLanguage(e){if(!e.trim())return{language:"en",confidence:"low",score:0};const t=[];for(const s of this.patterns){let r=0;const n={characters:0,words:0,phrases:0,grammar:0};if(s.patterns.characters){const t=e.match(s.patterns.characters);t&&(n.characters=t.length,r+=n.characters*s.weights.characters)}const a=e.toLowerCase().split(/\s+/),i=a.length;if(a.forEach(e=>{const t=e.replace(/[.,!?Â¿Â¡ã€‚ï¼Œï¼ï¼Ÿ]/g,"");s.patterns.words.includes(t)&&n.words++}),r+=n.words/i*s.weights.words*100,s.patterns.phrases)for(const t of s.patterns.phrases)e.toLowerCase().includes(t.toLowerCase())&&(n.phrases++,r+=10*s.weights.phrases);if(s.patterns.grammar)for(const t of s.patterns.grammar){const a=e.match(t);a&&(n.grammar+=a.length,r+=a.length*s.weights.grammar)}t.push({language:s.code,score:r,details:n})}t.sort((e,t)=>t.score-e.score);const r=t[0],n=t[1];let a="low";return r.score>50?a="high":r.score>20&&(a="medium"),n&&r.score-n.score<10&&("high"===a?a="medium":"medium"===a&&(a="low")),{language:r.language,confidence:a,score:r.score,alternativeLanguages:t.slice(1,3).map(e=>({language:e.language,score:e.score}))}}getSupportedLanguages(){return this.patterns.map(e=>e.code)}isLanguageSupported(e){return this.patterns.some(t=>t.code===e)}}class ot{constructor(){t(this,"detectionService"),t(this,"detectionHistory",[]),t(this,"contextualBias",new Map),this.detectionService=new it}detectLanguageWithContext(e,t){const r=this.detectionService.detectLanguage(e);this.detectionHistory.push(r);const n=this.applyContextualIntelligence(r,t),a=this.determineTargetLanguage(n.language,t),s=this.generateReasoning(r,n,t),i=this.generateAlternatives(r,t);return{detectedLanguage:n.language,targetLanguage:a,confidence:n.confidence,reasoning:s,alternatives:i}}applyContextualIntelligence(e,t){let r=e.score,n=e.confidence,a=e.language;if(t.conversationHistory&&t.conversationHistory.length>0){const a=t.conversationHistory.slice(-3).map(e=>e.language).reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{});a[e.language]&&(r+=15*a[e.language],"low"===n?n="medium":"medium"===n&&(n="high"))}if(t.speakerType){const n=this.getSpeakerLanguageBias(t.speakerType,t);n[e.language]&&(r+=n[e.language])}if(this.detectionHistory.length>0){const t=this.detectionHistory.slice(-5);this.calculateAverageConfidence(t.filter(t=>t.language===e.language))>.7&&(r+=10)}if(this.isCommonLanguagePair(e.language,t.sourceLanguage,t.targetLanguage)&&(r+=5),e.alternativeLanguages)for(const s of e.alternativeLanguages){let e=s.score;if(t.conversationHistory){const r=t.conversationHistory.slice(-3).map(e=>e.language).reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{});r[s.language]&&(e+=15*r[s.language])}e>r&&(a=s.language,r=e,n=this.scoreToConfidence(e))}return{language:a,confidence:n,score:r,alternativeLanguages:e.alternativeLanguages}}determineTargetLanguage(e,t){if(e===t.sourceLanguage)return t.targetLanguage;if(e===t.targetLanguage)return t.sourceLanguage;const r=this.getLanguagePriorities(e,t);for(const n of r)if(n!==e)return n;return t.targetLanguage}getLanguagePriorities(e,t){const r=[t.targetLanguage,t.sourceLanguage];r.includes("en")||r.splice(1,0,"en"),"en"!==e||r.includes("es")||r.splice(2,0,"es");const n=De.map(e=>e.code).filter(e=>!r.includes(e));return r.push(...n),r}generateReasoning(e,t,r){const n=this.getLanguageName(t.language),a=this.getLanguageName(this.determineTargetLanguage(t.language,r));let s=`Detected ${n}`;return"high"===t.confidence?s+=" with high confidence":"medium"===t.confidence?s+=" with moderate confidence":s+=" with low confidence",t.score>e.score&&(s+=" (improved by conversation context)"),s+=`, translating to ${a}`,s}generateAlternatives(e,t){const r=[];if(e.alternativeLanguages)for(const a of e.alternativeLanguages.slice(0,2)){const e=this.determineTargetLanguage(a.language,t);r.push({source:a.language,target:e,confidence:a.score,reasoning:`Alternative: ${this.getLanguageName(a.language)} â†’ ${this.getLanguageName(e)}`})}const n=[{source:t.sourceLanguage,target:t.targetLanguage},{source:t.targetLanguage,target:t.sourceLanguage}];for(const a of n)r.some(e=>e.source===a.source&&e.target===a.target)||r.push({source:a.source,target:a.target,confidence:30,reasoning:`Default: ${this.getLanguageName(a.source)} â†’ ${this.getLanguageName(a.target)}`});return r.slice(0,3)}getSpeakerLanguageBias(e,t){return"officer"===e?{en:10,[t.sourceLanguage]:5}:{[t.targetLanguage]:10,es:5,zh:3,ar:3}}isCommonLanguagePair(e,t,r){return[["en","es"],["es","en"],["en","zh"],["zh","en"],["en","ar"],["ar","en"]].some(([n,a])=>e===n&&(t===a||r===a)||e===a&&(t===n||r===n))}calculateAverageConfidence(e){if(0===e.length)return 0;const t={high:1,medium:.7,low:.3};return e.reduce((e,r)=>e+t[r.confidence],0)/e.length}scoreToConfidence(e){return e>50?"high":e>20?"medium":"low"}getLanguageName(e){const t=De.find(t=>t.code===e);return t?.name||e}clearHistory(){this.detectionHistory=[],this.contextualBias.clear()}getDetectionStats(){const e={};let t=0;for(const r of this.detectionHistory)e[r.language]=(e[r.language]||0)+1,t+={high:1,medium:.7,low:.3}[r.confidence];return{totalDetections:this.detectionHistory.length,languageDistribution:e,averageConfidence:this.detectionHistory.length>0?t/this.detectionHistory.length:0}}}class lt{constructor(e,r){t(this,"currentSourceLanguage"),t(this,"currentTargetLanguage"),t(this,"autoDetectManager"),this.currentSourceLanguage=e,this.currentTargetLanguage=r,this.autoDetectManager=new ot}updateLanguages(e,t){this.currentSourceLanguage=e,this.currentTargetLanguage=t}getAvailableModes(){const e=[{id:"auto",label:"Auto Detect",description:"Automatically detect the spoken language",isAuto:!0}],t=De.find(e=>e.code===this.currentSourceLanguage),r=De.find(e=>e.code===this.currentTargetLanguage);return t&&r&&(e.push({id:`${this.currentSourceLanguage}-${this.currentTargetLanguage}`,label:`${t.name} â†’ ${r.name}`,description:`Always translate from ${t.name} to ${r.name}`,sourceLang:this.currentSourceLanguage,targetLang:this.currentTargetLanguage,isAuto:!1}),this.currentSourceLanguage!==this.currentTargetLanguage&&e.push({id:`${this.currentTargetLanguage}-${this.currentSourceLanguage}`,label:`${r.name} â†’ ${t.name}`,description:`Always translate from ${r.name} to ${t.name}`,sourceLang:this.currentTargetLanguage,targetLang:this.currentSourceLanguage,isAuto:!1})),ze.forEach(t=>{const r=`${t.source}-${t.target}`,n=`${t.target}-${t.source}`;if(!e.some(e=>e.id===r||e.id===n)&&(t.source===this.currentSourceLanguage||t.target===this.currentTargetLanguage||t.source===this.currentTargetLanguage||t.target===this.currentSourceLanguage)){const n=De.find(e=>e.code===t.source),a=De.find(e=>e.code===t.target);n&&a&&e.push({id:r,label:`${n.name} â†’ ${a.name}`,description:`Always translate from ${n.name} to ${a.name}`,sourceLang:t.source,targetLang:t.target,isAuto:!1})}}),e}resolveLanguages(e,t,r){if(e.isAuto){const e={sourceLanguage:this.currentSourceLanguage,targetLanguage:this.currentTargetLanguage,speakerType:r},n=this.autoDetectManager.detectLanguageWithContext(t,e);let a=n.detectedLanguage,s=n.targetLanguage;return r&&("officer"===r?(a=this.currentSourceLanguage,s=this.currentTargetLanguage):"detained"===r&&(a=this.currentTargetLanguage,s=this.currentSourceLanguage)),{sourceLang:a,targetLang:s,confidence:n.confidence,reasoning:r?`${"officer"===r?"Officer":"Detained person"} speaking (auto-detect): ${a} â†’ ${s}`:n.reasoning||"Auto-detection",alternatives:n.alternatives?.map(e=>({source:e.source,target:e.target,reasoning:e.reasoning}))}}{let t=e.sourceLang||this.currentSourceLanguage,n=e.targetLang||this.currentTargetLanguage;return r&&("officer"===r?(t=this.currentSourceLanguage,n=this.currentTargetLanguage):"detained"===r&&(t=this.currentTargetLanguage,n=this.currentSourceLanguage)),{sourceLang:t,targetLang:n,confidence:"high",reasoning:r?`${"officer"===r?"Officer":"Detained person"} speaking: ${t} â†’ ${n}`:`Manual mode: ${t} â†’ ${n}`}}}getNextMode(e,t){const r=t.findIndex(t=>t.id===e.id);return t[(r+1)%t.length]}findModeById(e,t){return t.find(t=>t.id===e)}addConversationHistory(e,t){}clearDetectionHistory(){this.autoDetectManager.clearHistory()}getDetectionStats(){return this.autoDetectManager.getDetectionStats()}}const ct=()=>{const[e]=c(),[t,r]=a.useState(!1),[n,i]=a.useState(!1),[o,l]=a.useState(""),[d,u]=a.useState(""),[g,h]=a.useState(""),[m,f]=a.useState("officer"),[p,x]=a.useState("auto"),[b,v]=a.useState(),{isSupported:y,startRecognition:w,stopRecognition:k}=(()=>{const[e,t]=a.useState(!1),r=a.useRef(null);return a.useEffect(()=>{const e=window.SpeechRecognition||window.webkitSpeechRecognition;e&&(t(!0),r.current=new e,r.current.continuous=!1,r.current.interimResults=!1,r.current.maxAlternatives=1)},[]),{isSupported:e,startRecognition:(e,t)=>{if(r.current){r.current.onresult=t=>{const r=t.results[0][0].transcript;e(r)},r.current.onerror=e=>{t(e.error)},r.current.onend=()=>{};try{r.current.start()}catch{t("Failed to start recording")}}else t("Speech recognition not supported")},stopRecognition:()=>{r.current&&r.current.stop()}}})(),{translate:N}=(()=>{const e={en:"en",es:"es",zh:"zh",ar:"ar"},t={hello:"hola",hi:"hola","how are you":"cÃ³mo estÃ¡s","thank you":"gracias",yes:"sÃ­",no:"no",help:"ayuda",please:"por favor","good morning":"buenos dÃ­as","good afternoon":"buenas tardes","good evening":"buenas noches","excuse me":"disculpe",sorry:"lo siento","my name is":"mi nombre es","what is your name":"cuÃ¡l es su nombre","where are you from":"de dÃ³nde es usted","i need help":"necesito ayuda","do you speak english":"habla inglÃ©s","do you need medical attention":"necesita atenciÃ³n mÃ©dica","are you traveling with family":"estÃ¡ viajando con familia","do you have identification":"tiene identificaciÃ³n","please remain calm":"por favor mantÃ©ngase tranquilo","we will help you":"le vamos a ayudar","do you understand":"entiende usted","please wait here":"por favor espere aquÃ­","are you injured":"estÃ¡ herido","do you need water":"necesita agua","follow me please":"sÃ­ganme por favor","sit down here":"siÃ©ntese aquÃ­","everything will be okay":"todo va a estar bien","say hello to my little friend":"di hola a mi pequeÃ±o amigo","i am agent rodrigo":"soy el agente rodrigo","what is going to happen next":"quÃ© va a pasar despuÃ©s","my friend do you have kids":"mi amigo tienes hijos","do you have children":"tienes hijos","where are your children":"dÃ³nde estÃ¡n tus hijos","are you okay":"estÃ¡s bien","we are here to help":"estamos aquÃ­ para ayudar",hola:"hello","cÃ³mo estÃ¡s":"how are you",gracias:"thank you","sÃ­":"yes",ayuda:"help","por favor":"please","buenos dÃ­as":"good morning","buenas tardes":"good afternoon","buenas noches":"good evening",disculpe:"excuse me","lo siento":"sorry","mi nombre es":"my name is","necesito ayuda":"i need help","no entiendo":"i don't understand","puede ayudarme":"can you help me","dÃ³nde estÃ¡ el baÃ±o":"where is the bathroom","tengo hambre":"i am hungry","tengo sed":"i am thirsty","estoy enfermo":"i am sick","necesito un doctor":"i need a doctor","tienes hijos":"do you have children","dÃ³nde estÃ¡n tus hijos":"where are your children","estÃ¡s bien":"are you okay","estamos aquÃ­ para ayudar":"we are here to help","di hola a mi pequeÃ±o amigo":"say hello to my little friend","soy el agente rodrigo":"i am agent rodrigo","quÃ© va a pasar despuÃ©s":"what is going to happen next","mi amigo tienes hijos":"my friend do you have kids"},r=async(e,r,n)=>{await new Promise(e=>setTimeout(e,300));const a=e.toLowerCase().trim(),s=t[a];if(s)return s;const i=a.split(" ");for(const[l,c]of Object.entries(t))if(a.includes(l)||l.includes(a))return c;const o=i.map(e=>{const r=e.replace(/[.,!?]/g,"");return t[r]||e}).join(" ");return o===a?"en"===r&&"es"===n?`[TraducciÃ³n necesaria: ${e}]`:`[Translation needed: ${e}]`:o};return{translate:async(t,n,a)=>{if(n===a)return t;try{const s=await(async(t,r,n)=>{try{const a=await fetch("https://translate.argosopentech.com/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:t,source:e[r]||r,target:e[n]||n,format:"text"})});if(!a.ok)throw new Error(`LibreTranslate error: ${a.status}`);return(await a.json()).translatedText||null}catch(o){return null}})(t,n,a);return s||(await(async(t,r,n)=>{try{const a=e[r]||r,s=e[n]||n,i=await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(t)}&langpair=${a}|${s}`);if(!i.ok)throw new Error(`MyMemory error: ${i.status}`);const o=await i.json();return o.responseData?.translatedText||null}catch(o){return null}})(t,n,a)||r(t,n,a))}catch(o){return r(t,n,a)}}}})(),{setTranslation:S}=tt(),{addConversation:E,conversations:C}=Me(),{sourceLanguage:T,targetLanguage:L}=We(),O=s();a.useEffect(()=>{const t=e.get("context"),r=e.get("speaker");if(!r||"officer"!==r&&"detained"!==r){if("response"===t){const e=C[0];if(e?.speaker){const t="officer"===e.speaker?"detained":"officer";f(t)}else f("detained")}else if("re-record"===t){const e=C[0];e?.speaker&&f(e.speaker)}}else f(r)},[e,C]);const R=a.useMemo(()=>new lt(T,L),[T,L]);a.useEffect(()=>{R.updateLanguages(T,L)},[T,L,R]);const P=a.useMemo(()=>R.getAvailableModes(),[R]),A=a.useMemo(()=>R.findModeById(p,P)||P[0],[p,P,R]);return y?me.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[me.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[me.jsx("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"Voice Translation"}),me.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 leading-relaxed mb-4",children:"Select who is speaking, choose language mode, then tap the microphone to record."}),e.get("context")&&me.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:me.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["response"===e.get("context")&&me.jsx(me.Fragment,{children:"ðŸ“¢ Recording response - Speaker automatically switched for conversation flow"}),"re-record"===e.get("context")&&me.jsx(me.Fragment,{children:"ðŸ”„ Re-recording - Same speaker as previous recording"})]})}),me.jsx(at,{selectedSpeaker:m,onSpeakerChange:f}),me.jsx(st,{currentMode:A,availableModes:P,onModeChange:e=>{x(e.id),e.isAuto||v(void 0)},lastDetectionResult:b,showDetectionFeedback:!!b&&A.isAuto})]}),me.jsxs("div",{className:"flex-shrink-0",children:[d&&me.jsx(rt,{message:d,type:"warning"}),o&&me.jsx(rt,{message:o,type:"error"})]}),me.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8 overflow-y-auto prevent-bounce",children:n?me.jsx(nt,{message:"Translating..."}):me.jsxs(me.Fragment,{children:[me.jsx("div",{className:"text-center mb-6",children:me.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium "+("officer"===m?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300"),children:(I=m,"officer"===I?"Officer speaking":"Detained person speaking")})}),me.jsx("div",{className:"mb-8",children:me.jsx("button",{onClick:t?()=>{r(!1),k()}:async()=>{l(""),u(""),h("");try{await navigator.mediaDevices.getUserMedia({audio:!0})}catch{return void u("Microphone access denied. Please allow microphone access and try again.")}r(!0),w(async e=>{if(r(!1),h(e),!e.trim())return void l("No speech detected. Please try again.");const t=R.resolveLanguages(A,e,m);v(t),"low"===t.confidence&&A.isAuto,i(!0);try{const r={originalText:e,translatedText:await N(e,t.sourceLang,t.targetLang),originalLang:t.sourceLang,targetLang:t.targetLang};S(r),E({...r,source:"recording",speaker:m}),O("/translate")}catch{l("Translation failed. Please try again.")}finally{i(!1)}},e=>{r(!1),"not-allowed"===e?u("Microphone access denied. Please allow microphone access and try again."):l(`Could not recognize speech: ${e}. Please try again.`)})},disabled:n,className:`w-24 h-24 rounded-full flex items-center justify-center transition-all duration-200 shadow-lg focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-blue-300 ${t?"bg-red-500 hover:bg-red-600 animate-pulse focus-visible:ring-red-300":"officer"===m?"bg-blue-500 hover:bg-blue-600 active:scale-95":"bg-orange-500 hover:bg-orange-600 active:scale-95"} ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"} text-white`,children:t?me.jsx("div",{className:"w-10 h-10 bg-white rounded-sm"}):me.jsx(j,{className:"w-10 h-10"})})}),me.jsxs("div",{className:"text-center mb-4",children:[me.jsx("div",{className:"text-lg font-medium mb-2 "+(t?"text-red-600 dark:text-red-400":"text-gray-700 dark:text-gray-300"),children:t?"Recording...":"Ready to Record"}),t&&me.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-500 dark:text-red-400",children:[me.jsx("div",{className:"w-2 h-2 bg-red-500 dark:bg-red-400 rounded-full animate-pulse"}),me.jsx("span",{className:"text-sm",children:"Listening for speech"})]}),!t&&A.isAuto&&me.jsxs("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:["Mode: ",A.label," â€¢ 4 languages supported"]}),!t&&!A.isAuto&&me.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Mode: ",A.label]}),b&&A.isAuto&&!t&&me.jsxs("div",{className:"text-xs mt-1 "+("high"===b.confidence?"text-green-600 dark:text-green-400":"medium"===b.confidence?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:["Last detection: ",b.confidence," confidence"]})]}),g&&!t&&me.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700",children:[me.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Recorded Text:"}),me.jsx("div",{className:"text-gray-900 dark:text-gray-100 leading-relaxed",children:g})]})]})}),me.jsx(Be,{title:"Smart Recording Tips",color:"blue",storageKey:"recording-tips-dismissed",tips:["Select correct speaker before recording for better context","Auto-detect uses advanced AI to identify 4+ languages","Watch confidence indicators for detection quality","Use specific language modes for maximum accuracy","Speak clearly and minimize background noise","Detection improves with conversation history"]})]}):me.jsx("div",{className:"flex flex-col items-center justify-center h-full bg-gray-50 dark:bg-gray-900 p-8",children:me.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 max-w-sm w-full text-center border border-gray-200 dark:border-gray-700",children:[me.jsx("div",{className:"w-16 h-16 bg-yellow-100 dark:bg-yellow-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:me.jsx(Z,{className:"w-8 h-8 text-yellow-600 dark:text-yellow-400"})}),me.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Browser Not Supported"}),me.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed",children:"Speech recognition is not supported in this browser. Please use Chrome, Edge, or Safari for the best experience."})]})});var I},dt=()=>{const{speak:e}=Ie(),{translation:t}=tt(),r=s(),n=(t,r)=>{e(t,r)},a=async e=>{try{await navigator.clipboard.writeText(e)}catch(t){}};return t?me.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[me.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:me.jsxs("div",{className:"flex items-center justify-between",children:[me.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Translation Result"}),me.jsxs("div",{className:"flex gap-2",children:[me.jsxs("button",{onClick:()=>{r("/record?context=re-record")},className:"px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 flex items-center gap-1",title:"Re-record with same speaker",children:[me.jsx(j,{className:"w-4 h-4"}),me.jsx("span",{className:"hidden sm:inline",children:"Re-record"})]}),me.jsxs("button",{onClick:()=>{r("/record?context=response")},className:"px-3 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 flex items-center gap-1",title:"Record response (toggle speaker)",children:[me.jsx(j,{className:"w-4 h-4"}),me.jsx("span",{className:"hidden sm:inline",children:"Record Response"})]})]})]})}),me.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto prevent-bounce",children:[me.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[me.jsxs("div",{className:"flex items-center justify-between mb-3",children:[me.jsxs("div",{className:"flex items-center gap-2",children:[me.jsx("h3",{className:"font-medium text-gray-800 dark:text-gray-200",children:Fe(t.originalLang)}),me.jsx("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded",children:"Original"})]}),me.jsxs("div",{className:"flex gap-1",children:[me.jsx("button",{onClick:()=>a(t.originalText),className:"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500",title:"Copy text",children:me.jsx(Q,{className:"w-4 h-4"})}),me.jsx("button",{onClick:()=>n(t.originalText,t.originalLang),className:"p-2 text-blue-500 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",title:"Play audio",children:me.jsx(q,{className:"w-4 h-4"})})]})]}),me.jsx("p",{className:"text-lg text-gray-900 dark:text-white leading-relaxed",children:t.originalText})]}),me.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[me.jsxs("div",{className:"flex items-center justify-between mb-3",children:[me.jsxs("div",{className:"flex items-center gap-2",children:[me.jsx("h3",{className:"font-medium text-gray-800 dark:text-gray-200",children:Fe(t.targetLang)}),me.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 px-2 py-1 rounded",children:"Translation"})]}),me.jsxs("div",{className:"flex gap-1",children:[me.jsx("button",{onClick:()=>a(t.translatedText),className:"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500",title:"Copy text",children:me.jsx(Q,{className:"w-4 h-4"})}),me.jsx("button",{onClick:()=>n(t.translatedText,t.targetLang),className:"p-2 text-green-500 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500",title:"Play audio",children:me.jsx(q,{className:"w-4 h-4"})})]})]}),me.jsx("p",{className:"text-lg text-gray-900 dark:text-white leading-relaxed",children:t.translatedText})]})]}),me.jsx(Be,{title:"Quick Actions",color:"green",storageKey:"translation-tips-dismissed",tips:["Tap speaker icons to hear audio playback","Use copy buttons to share text via other apps","Use 'Record Response' to automatically toggle speaker for back-and-forth conversation","Use 'Re-record' to record again with the same speaker","All translations are automatically logged"]})]}):me.jsx("div",{className:"flex flex-col items-center justify-center h-full bg-gray-50 dark:bg-gray-900 p-8",children:me.jsxs("div",{className:"text-center",children:[me.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:me.jsx(q,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),me.jsx("h2",{className:"text-lg font-semibold mb-2 text-gray-700 dark:text-gray-300",children:"No Translation Yet"}),me.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Record speech or select a quick phrase to see translations here."})]})})},ut=()=>{const[e,t]=a.useState(""),[r,n]=a.useState("all"),[s,i]=a.useState("civilian"),{speak:o}=Ie(),{conversations:l,clearAllConversations:c}=Me(),d=a.useRef(null),u=a.useRef(null);a.useEffect(()=>{u.current&&l.length>0&&u.current.scrollIntoView({behavior:"smooth"})},[l.length]),a.useEffect(()=>{const e=setTimeout(()=>{u.current&&l.length>0&&u.current.scrollIntoView({behavior:"auto"})},100);return()=>clearTimeout(e)},[l.length]);const g=l.filter(t=>{const n=t.originalText.toLowerCase().includes(e.toLowerCase())||t.translatedText.toLowerCase().includes(e.toLowerCase());if("all"===r)return n;const a=new Date(t.timestamp),s=new Date,i=new Date(s);if(i.setDate(i.getDate()-1),"today"===r)return n&&a.toDateString()===s.toDateString();if("yesterday"===r)return n&&a.toDateString()===i.toDateString();if("week"===r){const e=new Date(s);return e.setDate(e.getDate()-7),n&&a>=e}return n}).reverse(),h=e=>{const t=new Date(e),r=((new Date).getTime()-t.getTime())/36e5;return r<24?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):r<48?"Yesterday "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},m=e=>"officer"===e?"Officer":"civilian"===e||"detained"===e?"Civilian":"Unknown",f=e=>{if("officer"===e)return"English";if("civilian"===e){const e=l.find(e=>"en"!==e.originalLang)?.originalLang||l.find(e=>"en"!==e.targetLang)?.targetLang;return"es"===e?"Spanish":e?e.charAt(0).toUpperCase()+e.slice(1):"Other"}return"source"===e?"Source":"translation"===e?"Translation":"Other"};return me.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[me.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[me.jsxs("div",{className:"flex items-center justify-between mb-4",children:[me.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Conversation History"}),l.length>0&&me.jsx("button",{onClick:c,className:"px-3 py-1 text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500",children:"Clear All"})]}),me.jsx("div",{className:"mb-3",children:me.jsx(_e,{value:e,onChange:t,placeholder:"Search conversations and translations...",onSearch:()=>{e.trim()&&d.current&&d.current.scrollIntoView({behavior:"smooth",block:"start"})}})}),me.jsxs("fieldset",{className:"mb-2",children:[me.jsxs("legend",{className:"flex items-center gap-2 text-xs font-semibold text-gray-700 dark:text-gray-200 mb-1",children:[me.jsx(ee,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),"Playback Voice"]}),me.jsx("div",{className:"flex gap-2",children:["source","translation","officer","civilian"].map(e=>{let t="";"officer"===e?t="bg-blue-600 text-white":"civilian"===e?t="bg-orange-500 text-white":"translation"===e?t="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"source"===e&&(t="bg-gray-300 text-gray-900 dark:bg-gray-600 dark:text-gray-100");const r=s===e;return me.jsxs("label",{className:`flex items-center px-2 py-1 rounded cursor-pointer text-xs font-medium transition-colors focus-within:ring-2 focus-within:ring-blue-500 gap-1 ${r?t:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:[me.jsx("input",{type:"radio",name:"playback-setting",value:e,checked:r,onChange:()=>i(e),className:"sr-only"}),f(e)]},e)})})]})]}),me.jsx("div",{className:"flex-1 overflow-y-auto prevent-bounce",children:0===g.length?me.jsxs("div",{className:"text-center py-12",children:[me.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:me.jsx(te,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),me.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-300 mb-2",children:0===l.length?"No Conversations Yet":"No Matching Conversations"}),me.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:0===l.length?"Start using the app to build your conversation history for audit purposes.":"Try adjusting your search or date filter."})]}):me.jsxs("div",{ref:d,className:"divide-y divide-gray-200 dark:divide-gray-700",children:[g.map(e=>{const{text:t,lang:r}=(e=>"source"===s?{text:e.originalText,lang:e.originalLang}:"translation"===s?{text:e.translatedText,lang:e.targetLang}:"officer"===s?"en"===e.originalLang?{text:e.originalText,lang:"en"}:{text:e.translatedText,lang:"en"}:"en"!==e.originalLang?{text:e.originalText,lang:e.originalLang}:{text:e.translatedText,lang:e.targetLang})(e);return me.jsxs("div",{className:"bg-white dark:bg-gray-800 pt-4 border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[me.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto] justify-center items-center gap-2 text-xs mx-4 mb-2",children:[me.jsx("span",{className:"px-2 py-1 rounded "+(n=e.speaker,"officer"===n?"bg-blue-600 text-white":"civilian"===n||"detained"===n?"bg-orange-500 text-white":"bg-gray-400 text-white"),children:m(e.speaker)}),me.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"phrase"===e.source?"Phrase":"Voice"}),me.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:h(e.timestamp)})]}),me.jsx(qe,{title:e.originalText,subtitle:e.translatedText,onPlay:()=>((e,t)=>{o(e,t)})(t,r),className:"mb-0"})]},e.id);var n}),me.jsx("div",{ref:u})]})}),l.length>0&&me.jsx(Be,{title:"Audit Information",color:"purple",storageKey:"audit-tips-dismissed",tips:["All conversations are stored locally for audit purposes","Speaker identification helps track conversation flow","Most recent messages appear at the bottom - page auto-scrolls","Use search and filters to find specific interactions","Audio playback available for all recorded conversations","Clear all history as needed for privacy"]})]})},gt="undefined"!=typeof document?l.useLayoutEffect:()=>{},ht=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},mt=e=>e&&"window"in e&&e.window===e?e:ht(e).defaultView||window;function ft(e,t){return!(!t||!e)&&e.contains(t)}const pt=(e=document)=>e.activeElement;function xt(e){return e.target}function bt(e){let t=null;return()=>(null==t&&(t=e()),t)}const vt=bt(function(){return e=/^Mac/i,"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform);var e,t}),yt=bt(function(){return e=/Android/i,"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent));var e,t});function wt(){let e=a.useRef(new Map),t=a.useCallback((t,r,n,a)=>{let s=(null==a?void 0:a.once)?(...t)=>{e.current.delete(n),n(...t)}:n;e.current.set(n,{type:r,eventTarget:t,fn:s,options:a}),t.addEventListener(r,s,a)},[]),r=a.useCallback((t,r,n,a)=>{var s;let i=(null===(s=e.current.get(n))||void 0===s?void 0:s.fn)||n;t.removeEventListener(r,i,a),e.current.delete(n)},[]),n=a.useCallback(()=>{e.current.forEach((e,t)=>{r(e.eventTarget,e.type,t,e.options)})},[r]);return a.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function kt(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function jt(e){let t=a.useRef({isFocused:!1,observer:null});gt(()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]);let r=function(e){const t=a.useRef(null);return gt(()=>{t.current=e},[e]),a.useCallback((...e)=>{const r=t.current;return null==r?void 0:r(...e)},[])}(t=>{null==e||e(t)});return a.useCallback(e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let n=e.target,a=e=>{if(t.current.isFocused=!1,n.disabled){let t=kt(e);r(t)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};n.addEventListener("focusout",a,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&n.disabled){var e;null===(e=t.current.observer)||void 0===e||e.disconnect();let r=n===document.activeElement?null:document.activeElement;n.dispatchEvent(new FocusEvent("blur",{relatedTarget:r})),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:r}))}}),t.current.observer.observe(n,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let Nt=null,St=new Set,Et=new Map,Ct=!1,Tt=!1;const Lt={Tab:!0,Escape:!0};function Ot(e,t){for(let r of St)r(e,t)}function Rt(e){Ct=!0,function(e){return!(e.metaKey||!vt()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(Nt="keyboard",Ot("keyboard",e))}function Pt(e){Nt="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(Ct=!0,Ot("pointer",e))}function At(e){var t;(0===(t=e).mozInputSource&&t.isTrusted||(yt()&&t.pointerType?"click"===t.type&&1===t.buttons:0===t.detail&&!t.pointerType))&&(Ct=!0,Nt="virtual")}function It(e){e.target!==window&&e.target!==document&&e.isTrusted&&(Ct||Tt||(Nt="virtual",Ot("virtual",e)),Ct=!1,Tt=!1)}function Mt(){Ct=!1,Tt=!0}function Dt(e){if("undefined"==typeof window||"undefined"==typeof document||Et.get(mt(e)))return;const t=mt(e),r=ht(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Ct=!0,n.apply(this,arguments)},r.addEventListener("keydown",Rt,!0),r.addEventListener("keyup",Rt,!0),r.addEventListener("click",At,!0),t.addEventListener("focus",It,!0),t.addEventListener("blur",Mt,!1),"undefined"!=typeof PointerEvent&&(r.addEventListener("pointerdown",Pt,!0),r.addEventListener("pointermove",Pt,!0),r.addEventListener("pointerup",Pt,!0)),t.addEventListener("beforeunload",()=>{Ft(e)},{once:!0}),Et.set(t,{focus:n})}const Ft=(e,t)=>{const r=mt(e),n=ht(e);t&&n.removeEventListener("DOMContentLoaded",t),Et.has(r)&&(r.HTMLElement.prototype.focus=Et.get(r).focus,n.removeEventListener("keydown",Rt,!0),n.removeEventListener("keyup",Rt,!0),n.removeEventListener("click",At,!0),r.removeEventListener("focus",It,!0),r.removeEventListener("blur",Mt,!1),"undefined"!=typeof PointerEvent&&(n.removeEventListener("pointerdown",Pt,!0),n.removeEventListener("pointermove",Pt,!0),n.removeEventListener("pointerup",Pt,!0)),Et.delete(r))};function zt(){return"pointer"!==Nt}"undefined"!=typeof document&&function(e){const t=ht(e);let r;"loading"!==t.readyState?Dt(e):(r=()=>{Dt(e)},t.addEventListener("DOMContentLoaded",r))}();const Ht=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Vt=!1,$t=0;function Wt(e){"touch"===e.pointerType&&(Vt=!0,setTimeout(()=>{Vt=!1},50))}function _t(){if("undefined"!=typeof document)return"undefined"!=typeof PointerEvent&&document.addEventListener("pointerup",Wt),$t++,()=>{$t--,$t>0||"undefined"!=typeof PointerEvent&&document.removeEventListener("pointerup",Wt)}}function Bt(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:s}=e,[i,o]=a.useState(!1),l=a.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;a.useEffect(_t,[]);let{addGlobalListener:c,removeAllGlobalListeners:d}=wt(),{hoverProps:u,triggerHoverEnd:g}=a.useMemo(()=>{let e=(e,t)=>{let a=l.target;l.pointerType="",l.target=null,"touch"!==t&&l.isHovered&&a&&(l.isHovered=!1,d(),n&&n({type:"hoverend",target:a,pointerType:t}),r&&r(!1),o(!1))},a={};return"undefined"!=typeof PointerEvent&&(a.onPointerEnter=n=>{Vt&&"mouse"===n.pointerType||((n,a)=>{if(l.pointerType=a,s||"touch"===a||l.isHovered||!n.currentTarget.contains(n.target))return;l.isHovered=!0;let i=n.currentTarget;l.target=i,c(ht(n.target),"pointerover",t=>{l.isHovered&&l.target&&!ft(l.target,t.target)&&e(0,t.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:i,pointerType:a}),r&&r(!0),o(!0)})(n,n.pointerType)},a.onPointerLeave=t=>{!s&&t.currentTarget.contains(t.target)&&e(0,t.pointerType)}),{hoverProps:a,triggerHoverEnd:e}},[t,r,n,s,l,c,d]);return a.useEffect(()=>{s&&g({currentTarget:l.target},l.pointerType)},[s]),{hoverProps:u,isHovered:i}}function qt(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,s=a.useRef({isFocused:!1,isFocusVisible:t||zt()}),[i,o]=a.useState(!1),[l,c]=a.useState(()=>s.current.isFocused&&s.current.isFocusVisible),d=a.useCallback(()=>c(s.current.isFocused&&s.current.isFocusVisible),[]),u=a.useCallback(e=>{s.current.isFocused=e,o(e),d()},[d]);var g,h,m;g=e=>{s.current.isFocusVisible=e,d()},h=[],m={isTextInput:r},Dt(),a.useEffect(()=>{let e=(e,t)=>{(function(e,t,r){let n=ht(null==r?void 0:r.target);const a="undefined"!=typeof window?mt(null==r?void 0:r.target).HTMLInputElement:HTMLInputElement,s="undefined"!=typeof window?mt(null==r?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,i="undefined"!=typeof window?mt(null==r?void 0:r.target).HTMLElement:HTMLElement,o="undefined"!=typeof window?mt(null==r?void 0:r.target).KeyboardEvent:KeyboardEvent;return!((e=e||n.activeElement instanceof a&&!Ht.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof i&&n.activeElement.isContentEditable)&&"keyboard"===t&&r instanceof o&&!Lt[r.key])})(!!(null==m?void 0:m.isTextInput),e,t)&&g(zt())};return St.add(e),()=>{St.delete(e)}},h);let{focusProps:f}=function(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:s}=e;const i=a.useCallback(e=>{if(e.target===e.currentTarget)return n&&n(e),s&&s(!1),!0},[n,s]),o=jt(i),l=a.useCallback(e=>{const t=ht(e.target),n=t?pt(t):pt();e.target===e.currentTarget&&n===xt(e.nativeEvent)&&(r&&r(e),s&&s(!0),o(e))},[s,r,o]);return{focusProps:{onFocus:!t&&(r||s||n)?l:void 0,onBlur:t||!n&&!s?void 0:i}}}({isDisabled:n,onFocusChange:u}),{focusWithinProps:p}=function(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:s}=e,i=a.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:l}=wt(),c=a.useCallback(e=>{e.currentTarget.contains(e.target)&&i.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(i.current.isFocusWithin=!1,l(),r&&r(e),s&&s(!1))},[r,s,i,l]),d=jt(c),u=a.useCallback(e=>{if(!e.currentTarget.contains(e.target))return;const t=ht(e.target),r=pt(t);if(!i.current.isFocusWithin&&r===xt(e.nativeEvent)){n&&n(e),s&&s(!0),i.current.isFocusWithin=!0,d(e);let r=e.currentTarget;o(t,"focus",e=>{if(i.current.isFocusWithin&&!ft(r,e.target)){let n=new t.defaultView.FocusEvent("blur",{relatedTarget:e.target});!function(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}(n,r);let a=kt(n);c(a)}},{capture:!0})}},[n,s,d,o,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:c}}}({isDisabled:!n,onFocusWithinChange:u});return{isFocused:i,isFocusVisible:l,focusProps:n?p:f}}var Ut=Object.defineProperty,Kt=(e,t,r)=>(((e,t,r)=>{t in e?Ut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);let Gt=new class{constructor(){Kt(this,"current",this.detect()),Kt(this,"handoffState","pending"),Kt(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}};function Yt(e){var t,r;return Gt.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?null!=(r=null==(t=e.current)?void 0:t.ownerDocument)?r:document:null:document}function Xt(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}function Jt(){let e=[],t={addEventListener:(e,r,n,a)=>(e.addEventListener(r,n,a),t.add(()=>e.removeEventListener(r,n,a))),requestAnimationFrame(...e){let r=requestAnimationFrame(...e);return t.add(()=>cancelAnimationFrame(r))},nextFrame:(...e)=>t.requestAnimationFrame(()=>t.requestAnimationFrame(...e)),setTimeout(...e){let r=setTimeout(...e);return t.add(()=>clearTimeout(r))},microTask(...e){let r={current:!0};return Xt(()=>{r.current&&e[0]()}),t.add(()=>{r.current=!1})},style(e,t,r){let n=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:r}),this.add(()=>{Object.assign(e.style,{[t]:n})})},group(e){let t=Jt();return e(t),this.add(()=>t.dispose())},add:t=>(e.includes(t)||e.push(t),()=>{let r=e.indexOf(t);if(r>=0)for(let t of e.splice(r,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function Zt(){let[e]=a.useState(Jt);return a.useEffect(()=>()=>e.dispose(),[e]),e}let Qt=(e,t)=>{Gt.isServer?a.useEffect(e,t):a.useLayoutEffect(e,t)};function er(e){let t=a.useRef(e);return Qt(()=>{t.current=e},[e]),t}let tr=function(e){let t=er(e);return l.useCallback((...e)=>t.current(...e),[t])},rr=a.createContext(void 0);function nr(){return a.useContext(rr)}function ar(...e){return Array.from(new Set(e.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}function sr(e,t,...r){if(e in t){let n=t[e];return"function"==typeof n?n(...r):n}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(e=>`"${e}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,sr),n}var ir,or,lr=((or=lr||{})[or.None=0]="None",or[or.RenderStrategy=1]="RenderStrategy",or[or.Static=2]="Static",or),cr=((ir=cr||{})[ir.Unmount=0]="Unmount",ir[ir.Hidden=1]="Hidden",ir);function dr(){let e=function(){let e=a.useRef([]),t=a.useCallback(t=>{for(let r of e.current)null!=r&&("function"==typeof r?r(t):r.current=t)},[]);return(...r)=>{if(!r.every(e=>null==e))return e.current=r,t}}();return a.useCallback(t=>function({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:a,visible:s=!0,name:i,mergeRefs:o}){o=null!=o?o:gr;let l=hr(t,e);if(s)return ur(l,r,n,i,o);let c=null!=a?a:0;if(2&c){let{static:e=!1,...t}=l;if(e)return ur(t,r,n,i,o)}if(1&c){let{unmount:e=!0,...t}=l;return sr(e?0:1,{0:()=>null,1:()=>ur({...t,hidden:!0,style:{display:"none"}},r,n,i,o)})}return ur(l,r,n,i,o)}({mergeRefs:e,...t}),[e])}function ur(e,t={},r,n,s){let{as:i=r,children:o,refName:l="ref",...c}=xr(e,["unmount","static"]),d=void 0!==e.ref?{[l]:e.ref}:{},u="function"==typeof o?o(t):o;"className"in c&&c.className&&"function"==typeof c.className&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let g={};if(t){let e=!1,r=[];for(let[n,a]of Object.entries(t))"boolean"==typeof a&&(e=!0),!0===a&&r.push(n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`));if(e){g["data-headlessui-state"]=r.join(" ");for(let e of r)g[`data-${e}`]=""}}if(i===a.Fragment&&(Object.keys(pr(c)).length>0||Object.keys(pr(g)).length>0)){if(a.isValidElement(u)&&!(Array.isArray(u)&&u.length>1)){let e=u.props,t=null==e?void 0:e.className,r="function"==typeof t?(...e)=>ar(t(...e),c.className):ar(t,c.className),n=r?{className:r}:{},i=hr(u.props,pr(xr(c,["ref"])));for(let a in g)a in i&&delete g[a];return a.cloneElement(u,Object.assign({},i,g,d,{ref:s(br(u),d.ref)},n))}if(Object.keys(pr(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(pr(c)).concat(Object.keys(pr(g))).map(e=>`  - ${e}`).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>`  - ${e}`).join("\n")].join("\n"))}return a.createElement(i,Object.assign({},xr(c,["ref"]),i!==a.Fragment&&d,i!==a.Fragment&&g),u)}function gr(...e){return e.every(e=>null==e)?void 0:t=>{for(let r of e)null!=r&&("function"==typeof r?r(t):r.current=t)}}function hr(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},r={};for(let n of e)for(let e in n)e.startsWith("on")&&"function"==typeof n[e]?(null!=r[e]||(r[e]=[]),r[e].push(n[e])):t[e]=n[e];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[e=>{var t;return null==(t=null==e?void 0:e.preventDefault)?void 0:t.call(e)}]);for(let n in r)Object.assign(t,{[n](e,...t){let a=r[n];for(let r of a){if((e instanceof Event||(null==e?void 0:e.nativeEvent)instanceof Event)&&e.defaultPrevented)return;r(e,...t)}}});return t}function mr(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},r={};for(let n of e)for(let e in n)e.startsWith("on")&&"function"==typeof n[e]?(null!=r[e]||(r[e]=[]),r[e].push(n[e])):t[e]=n[e];for(let n in r)Object.assign(t,{[n](...e){let t=r[n];for(let r of t)null==r||r(...e)}});return t}function fr(e){var t;return Object.assign(a.forwardRef(e),{displayName:null!=(t=e.displayName)?t:e.name})}function pr(e){let t=Object.assign({},e);for(let r in t)void 0===t[r]&&delete t[r];return t}function xr(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function br(e){return l.version.split(".")[0]>="19"?e.props.ref:e.ref}function vr(e={},t=null,r=[]){for(let[n,a]of Object.entries(e))wr(r,yr(t,n),a);return r}function yr(e,t){return e?e+"["+t+"]":t}function wr(e,t,r){if(Array.isArray(r))for(let[n,a]of r.entries())wr(e,yr(t,n.toString()),a);else r instanceof Date?e.push([t,r.toISOString()]):"boolean"==typeof r?e.push([t,r?"1":"0"]):"string"==typeof r?e.push([t,r]):"number"==typeof r?e.push([t,`${r}`]):null==r?e.push([t,""]):vr(r,t,e)}var kr=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(kr||{});let jr=fr(function(e,t){var r;let{features:n=1,...a}=e,s={ref:t,"aria-hidden":!(2&~n)||(null!=(r=a["aria-hidden"])?r:void 0),hidden:!(4&~n)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...!(4&~n)&&!!(2&~n)&&{display:"none"}}};return dr()({ourProps:s,theirProps:a,slot:{},defaultTag:"span",name:"Hidden"})}),Nr=a.createContext(null);function Sr({children:e}){let t=a.useContext(Nr);if(!t)return l.createElement(l.Fragment,null,e);let{target:r}=t;return r?d.createPortal(l.createElement(l.Fragment,null,e),r):null}function Er({data:e,form:t,disabled:r,onReset:n,overrides:s}){let[i,o]=a.useState(null),c=Zt();return a.useEffect(()=>{if(n&&i)return c.addEventListener(i,"reset",n)},[i,t,n]),l.createElement(Sr,null,l.createElement(Cr,{setForm:o,formId:t}),vr(e).map(([e,n])=>l.createElement(jr,{features:kr.Hidden,...pr({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:r,name:e,value:n,...s})})))}function Cr({setForm:e,formId:t}){return a.useEffect(()=>{if(t){let r=document.getElementById(t);r&&e(r)}},[e,t]),t?null:l.createElement(jr,{features:kr.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let r=t.closest("form");r&&e(r)}})}let Tr=a.createContext(void 0);function Lr(){return a.useContext(Tr)}function Or(e){return"object"==typeof e&&null!==e&&"nodeType"in e}function Rr(e){return Or(e)&&"tagName"in e}function Pr(e){return Rr(e)&&"accessKey"in e}function Ar(e){return Rr(e)&&"tabIndex"in e}function Ir(e){return Pr(e)&&"INPUT"===e.nodeName}function Mr(e){return Pr(e)&&"LABEL"===e.nodeName}function Dr(e){return Pr(e)&&"FIELDSET"===e.nodeName}function Fr(e){return Pr(e)&&"LEGEND"===e.nodeName}let zr=Symbol();function Hr(...e){let t=a.useRef(e);a.useEffect(()=>{t.current=e},[e]);let r=tr(e=>{for(let r of t.current)null!=r&&("function"==typeof r?r(e):r.current=e)});return e.every(e=>null==e||(null==e?void 0:e[zr]))?void 0:r}let Vr=a.createContext(null);function $r(){let e=a.useContext(Vr);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,$r),e}return e}Vr.displayName="DescriptionContext";let Wr=fr(function(e,t){let r=a.useId(),n=nr(),{id:s=`headlessui-description-${r}`,...i}=e,o=$r(),l=Hr(t);Qt(()=>o.register(s),[s,o.register]);let c=n||!1,d=a.useMemo(()=>({...o.slot,disabled:c}),[o.slot,c]),u={ref:l,...o.props,id:s};return dr()({ourProps:u,theirProps:i,slot:d,defaultTag:"p",name:o.name||"Description"})});Object.assign(Wr,{});var _r,Br=((_r=Br||{}).Space=" ",_r.Enter="Enter",_r.Escape="Escape",_r.Backspace="Backspace",_r.Delete="Delete",_r.ArrowLeft="ArrowLeft",_r.ArrowUp="ArrowUp",_r.ArrowRight="ArrowRight",_r.ArrowDown="ArrowDown",_r.Home="Home",_r.End="End",_r.PageUp="PageUp",_r.PageDown="PageDown",_r.Tab="Tab",_r);let qr=a.createContext(null);function Ur(){let e=a.useContext(qr);if(null===e){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Ur),e}return e}function Kr(e){var t,r,n;let s=null!=(r=null==(t=a.useContext(qr))?void 0:t.value)?r:void 0;return(null!=(n=null==e?void 0:e.length)?n:0)>0?[s,...e].filter(Boolean).join(" "):s}qr.displayName="LabelContext";let Gr=fr(function(e,t){var r;let n=a.useId(),s=Ur(),i=Lr(),o=nr(),{id:l=`headlessui-label-${n}`,htmlFor:c=(null!=i?i:null==(r=s.props)?void 0:r.htmlFor),passive:d=!1,...u}=e,g=Hr(t);Qt(()=>s.register(l),[l,s.register]);let h=tr(e=>{let t=e.currentTarget;if((e.target===e.currentTarget||!function(e){return!!Rr(e)&&e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]')}(e.target))&&(Mr(t)&&e.preventDefault(),s.props&&"onClick"in s.props&&"function"==typeof s.props.onClick&&s.props.onClick(e),Mr(t))){let e=document.getElementById(t.htmlFor);if(e){let t=e.getAttribute("disabled");if("true"===t||""===t)return;let r=e.getAttribute("aria-disabled");if("true"===r||""===r)return;(Ir(e)&&("file"===e.type||"radio"===e.type||"checkbox"===e.type)||"radio"===e.role||"checkbox"===e.role||"switch"===e.role)&&e.click(),e.focus({preventScroll:!0})}}}),m=o||!1,f=a.useMemo(()=>({...s.slot,disabled:m}),[s.slot,m]),p={ref:g,...s.props,id:l,htmlFor:c,onClick:h};return d&&("onClick"in p&&(delete p.htmlFor,delete p.onClick),"onClick"in u&&delete u.onClick),dr()({ourProps:p,theirProps:u,slot:f,defaultTag:c?"label":"div",name:s.name||"Label"})}),Yr=Object.assign(Gr,{});function Xr(e,t,r){let n,a=r.initialDeps??[];function s(){var s,i,o,l;let c;r.key&&(null==(s=r.debug)?void 0:s.call(r))&&(c=Date.now());const d=e();if(d.length===a.length&&!d.some((e,t)=>a[t]!==e))return n;let u;return a=d,r.key&&(null==(i=r.debug)?void 0:i.call(r))&&(u=Date.now()),n=t(...d),r.key&&(null==(o=r.debug)?void 0:o.call(r))&&(Math.round(100*(Date.now()-c)),Math.round(100*(Date.now()-u))),null==(l=null==r?void 0:r.onChange)||l.call(r,n),n}return s.updateDeps=e=>{a=e},s}function Jr(e,t){if(void 0===e)throw new Error("Unexpected undefined");return e}const Zr=(e,t,r)=>{let n;return function(...a){e.clearTimeout(n),n=e.setTimeout(()=>t.apply(this,a),r)}},Qr=e=>{const{offsetWidth:t,offsetHeight:r}=e;return{width:t,height:r}},en=e=>e,tn=e=>{const t=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let a=t;a<=r;a++)n.push(a);return n},rn=(e,t)=>{const r=e.scrollElement;if(!r)return;const n=e.targetWindow;if(!n)return;const a=e=>{const{width:r,height:n}=e;t({width:Math.round(r),height:Math.round(n)})};if(a(Qr(r)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(t=>{const n=()=>{const e=t[0];if(null==e?void 0:e.borderBoxSize){const t=e.borderBoxSize[0];if(t)return void a({width:t.inlineSize,height:t.blockSize})}a(Qr(r))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(n):n()});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},nn={passive:!0},an="undefined"==typeof window||"onscrollend"in window,sn=(e,t)=>{const r=e.scrollElement;if(!r)return;const n=e.targetWindow;if(!n)return;let a=0;const s=e.options.useScrollendEvent&&an?()=>{}:Zr(n,()=>{t(a,!1)},e.options.isScrollingResetDelay),i=n=>()=>{const{horizontal:i,isRtl:o}=e.options;a=i?r.scrollLeft*(o?-1:1):r.scrollTop,s(),t(a,n)},o=i(!0),l=i(!1);l(),r.addEventListener("scroll",o,nn);const c=e.options.useScrollendEvent&&an;return c&&r.addEventListener("scrollend",l,nn),()=>{r.removeEventListener("scroll",o),c&&r.removeEventListener("scrollend",l)}},on=(e,t,r)=>{if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e)return Math.round(e[r.options.horizontal?"inlineSize":"blockSize"])}return e[r.options.horizontal?"offsetWidth":"offsetHeight"]},ln=(e,{adjustments:t=0,behavior:r},n)=>{var a,s;const i=e+t;null==(s=null==(a=n.scrollElement)?void 0:a.scrollTo)||s.call(a,{[n.options.horizontal?"left":"top"]:i,behavior:r})};class cn{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver(e=>{e.forEach(e=>{const t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()})}):null);return{disconnect:()=>{var r;null==(r=t())||r.disconnect(),e=null},observe:e=>{var r;return null==(r=t())?void 0:r.observe(e,{box:"border-box"})},unobserve:e=>{var r;return null==(r=t())?void 0:r.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,r])=>{void 0===r&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:en,rangeExtractor:tn,onChange:()=>{},measureElement:on,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var t,r;null==(r=(t=this.options).onChange)||r.call(t,this,e)},this.maybeNotify=Xr(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t)return void this.maybeNotify();this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{const r=new Map,n=new Map;for(let a=t-1;a>=0;a--){const t=e[a];if(r.has(t.lane))continue;const s=n.get(t.lane);if(null==s||t.end>s.end?n.set(t.lane,t):t.end<s.end&&r.set(t.lane,!0),r.size===this.options.lanes)break}return n.size===this.options.lanes?Array.from(n.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurementOptions=Xr(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,r,n,a)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:r,getItemKey:n,enabled:a}),{key:!1}),this.getMeasurements=Xr(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:r,getItemKey:n,enabled:a},s)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}));const i=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const o=this.measurementsCache.slice(0,i);for(let l=i;l<e;l++){const e=n(l),a=1===this.options.lanes?o[l-1]:this.getFurthestMeasurement(o,l),i=a?a.end+this.options.gap:t+r,c=s.get(e),d="number"==typeof c?c:this.options.estimateSize(l),u=i+d,g=a?a.lane:l%this.options.lanes;o[l]={index:l,start:i,size:d,end:u,key:e,lane:g}}return this.measurementsCache=o,o},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Xr(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,t,r,n)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:r,lanes:n}){const a=e.length-1;if(e.length<=n)return{startIndex:0,endIndex:a};let s=dn(0,a,t=>e[t].start,r),i=s;if(1===n)for(;i<a&&e[i].end<r+t;)i++;else if(n>1){const o=Array(n).fill(0);for(;i<a&&o.some(e=>e<r+t);){const t=e[i];o[t.lane]=t.end,i++}const l=Array(n).fill(r+t);for(;s>=0&&l.some(e=>e>=r);){const t=e[s];l[t.lane]=t.start,s--}s=Math.max(0,s-s%n),i=Math.min(a,i+(n-1-i%n))}return{startIndex:s,endIndex:i}}({measurements:e,outerSize:t,scrollOffset:r,lanes:n}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Xr(()=>{let e=null,t=null;const r=this.calculateRange();return r&&(e=r.startIndex,t=r.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]},(e,t,r,n,a)=>null===n||null===a?[]:e({startIndex:n,endIndex:a,overscan:t,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,r=e.getAttribute(t);return r?parseInt(r,10):-1},this._measureElement=(e,t)=>{const r=this.indexFromElement(e),n=this.measurementsCache[r];if(!n)return;const a=n.key,s=this.elementsCache.get(a);s!==e&&(s&&this.observer.unobserve(s),this.observer.observe(e),this.elementsCache.set(a,e)),e.isConnected&&this.resizeItem(r,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{const r=this.measurementsCache[e];if(!r)return;const n=t-(this.itemSizeCache.get(r.key)??r.size);0!==n&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(r,n,this):r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=n,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,t)),this.notify(!1))},this.measureElement=e=>{e?this._measureElement(e,void 0):this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))})},this.getVirtualItems=Xr(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,t)=>{const r=[];for(let n=0,a=e.length;n<a;n++){const a=t[e[n]];r.push(a)}return r},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();if(0!==t.length)return Jr(t[dn(0,t.length-1,e=>Jr(t[e]).start,e)])},this.getOffsetForAlignment=(e,t,r=0)=>{const n=this.getSize(),a=this.getScrollOffset();"auto"===t&&(t=e>=a+n?"end":"start"),"center"===t?e+=(r-n)/2:"end"===t&&(e-=n);const s=this.getTotalSize()+this.options.scrollMargin-n;return Math.max(Math.min(s,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const r=this.measurementsCache[e];if(!r)return;const n=this.getSize(),a=this.getScrollOffset();if("auto"===t)if(r.end>=a+n-this.options.scrollPaddingEnd)t="end";else{if(!(r.start<=a+this.options.scrollPaddingStart))return[a,t];t="start"}const s="end"===t?r.end+this.options.scrollPaddingEnd:r.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(s,t,r.size),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(e,{align:t="start",behavior:r}={})=>{"smooth"===r&&this.isDynamicMode(),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:r})},this.scrollToIndex=(e,{align:t="auto",behavior:r}={})=>{"smooth"===r&&this.isDynamicMode(),e=Math.max(0,Math.min(e,this.options.count-1));let n=0;const a=t=>{if(!this.targetWindow)return;const n=this.getOffsetForIndex(e,t);if(!n)return;const[a,i]=n;this._scrollToOffset(a,{adjustments:void 0,behavior:r}),this.targetWindow.requestAnimationFrame(()=>{const t=this.getScrollOffset(),r=this.getOffsetForIndex(e,i);r&&(((e,t)=>Math.abs(e-t)<1.01)(r[0],t)||s(i))})},s=e=>{this.targetWindow&&(n++,n<10&&this.targetWindow.requestAnimationFrame(()=>a(e)))};a(t)},this.scrollBy=(e,{behavior:t}={})=>{"smooth"===t&&this.isDynamicMode(),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let r;if(0===t.length)r=this.options.paddingStart;else if(1===this.options.lanes)r=(null==(e=t[t.length-1])?void 0:e.end)??0;else{const e=Array(this.options.lanes).fill(null);let n=t.length-1;for(;n>=0&&e.some(e=>null===e);){const r=t[n];null===e[r.lane]&&(e[r.lane]=r.end),n--}r=Math.max(...e.filter(e=>null!==e))}return Math.max(r-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:r})=>{this.options.scrollToFn(e,{behavior:r,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const dn=(e,t,r,n)=>{for(;e<=t;){const a=(e+t)/2|0,s=r(a);if(s<n)e=a+1;else{if(!(s>n))return a;t=a-1}}return e>0?e-1:0},un="undefined"!=typeof document?a.useLayoutEffect:a.useEffect;function gn(e,t){return null!==e&&null!==t&&"object"==typeof e&&"object"==typeof t&&"id"in e&&"id"in t?e.id===t.id:e===t}function hn(e,t=!1){let[r,n]=a.useReducer(()=>({}),{}),s=a.useMemo(()=>function(e){if(null===e)return{width:0,height:0};let{width:t,height:r}=e.getBoundingClientRect();return{width:t,height:r}}(e),[e,r]);return Qt(()=>{if(!e)return;let t=new ResizeObserver(n);return t.observe(e),()=>{t.disconnect()}},[e]),t?{width:`${s.width}px`,height:`${s.height}px`}:s}let mn=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return void 0===t&&(t=this.factory(e),this.set(e,t)),t}};var fn,pn,xn,bn=Object.defineProperty,vn=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},yn=(e,t,r)=>(vn(e,t,"read from private field"),r?r.call(e):t.get(e)),wn=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},kn=(e,t,r,n)=>(vn(e,t,"write to private field"),t.set(e,r),r);let jn=class{constructor(e){wn(this,fn,{}),wn(this,pn,new mn(()=>new Set)),wn(this,xn,new Set),((e,t,r)=>{((e,t,r)=>{t in e?bn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,t+"",r)})(this,"disposables",Jt()),kn(this,fn,e)}dispose(){this.disposables.dispose()}get state(){return yn(this,fn)}subscribe(e,t){let r={selector:e,callback:t,current:e(yn(this,fn))};return yn(this,xn).add(r),this.disposables.add(()=>{yn(this,xn).delete(r)})}on(e,t){return yn(this,pn).get(e).add(t),this.disposables.add(()=>{yn(this,pn).get(e).delete(t)})}send(e){let t=this.reduce(yn(this,fn),e);if(t!==yn(this,fn)){kn(this,fn,t);for(let e of yn(this,xn)){let t=e.selector(yn(this,fn));Nn(e.current,t)||(e.current=t,e.callback(t))}for(let t of yn(this,pn).get(e.type))t(yn(this,fn),e)}}};function Nn(e,t){return!!Object.is(e,t)||"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&(Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&Sn(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size===t.size&&Sn(e.entries(),t.entries()):!(!En(e)||!En(t))&&Sn(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()))}function Sn(e,t){for(;;){let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}}function En(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}fn=new WeakMap,pn=new WeakMap,xn=new WeakMap;var Cn,Tn=Object.defineProperty,Ln=(e,t,r)=>(((e,t,r)=>{t in e?Tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r),On=((Cn=On||{})[Cn.Push=0]="Push",Cn[Cn.Pop=1]="Pop",Cn);let Rn={0(e,t){let r=t.id,n=e.stack,a=e.stack.indexOf(r);if(-1!==a){let t=e.stack.slice();return t.splice(a,1),t.push(r),n=t,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(-1===n)return e;let a=e.stack.slice();return a.splice(n,1),{...e,stack:a}}},Pn=class e extends jn{constructor(){super(...arguments),Ln(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),Ln(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}static new(){return new e({stack:[]})}reduce(e,t){return sr(t.type,Rn,e,t)}};const An=new mn(()=>Pn.new());var In,Mn,Dn={exports:{}},Fn={},zn=(Mn||(Mn=1,Dn.exports=function(){if(In)return Fn;In=1;var e=r(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,i=e.useMemo,o=e.useDebugValue;return Fn.useSyncExternalStoreWithSelector=function(e,r,l,c,d){var u=a(null);if(null===u.current){var g={hasValue:!1,value:null};u.current=g}else g=u.current;u=i(function(){function e(e){if(!s){if(s=!0,n=e,e=c(e),void 0!==d&&g.hasValue){var r=g.value;if(d(r,e))return a=r}return a=e}if(r=a,t(n,e))return r;var i=c(e);return void 0!==d&&d(r,i)?(n=e,r):(n=e,a=i)}var n,a,s=!1,i=void 0===l?null:l;return[function(){return e(r())},null===i?void 0:function(){return e(i())}]},[r,l,c,d]);var h=n(e,u[0],u[1]);return s(function(){g.hasValue=!0,g.value=h},[h]),o(h),h},Fn}()),Dn.exports);function Hn(e,t,r=Nn){return zn.useSyncExternalStoreWithSelector(tr(t=>e.subscribe(Vn,t)),tr(()=>e.state),tr(()=>e.state),tr(t),r)}function Vn(e){return e}function $n(e,t){let r=a.useId(),n=An.get(t),[s,i]=Hn(n,a.useCallback(e=>[n.selectors.isTop(e,r),n.selectors.inStack(e,r)],[n,r]));return Qt(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),!!e&&(!i||s)}let Wn=new Map,_n=new Map;function Bn(e){var t;let r=null!=(t=_n.get(e))?t:0;return _n.set(e,r+1),0!==r||(Wn.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0),()=>function(e){var t;let r=null!=(t=_n.get(e))?t:1;if(1===r?_n.delete(e):_n.set(e,r-1),1!==r)return;let n=Wn.get(e);n&&(null===n["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,Wn.delete(e))}(e)}let qn=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Un,Kn,Gn=((Kn=Gn||{})[Kn.First=1]="First",Kn[Kn.Previous=2]="Previous",Kn[Kn.Next=4]="Next",Kn[Kn.Last=8]="Last",Kn[Kn.WrapAround=16]="WrapAround",Kn[Kn.NoScroll=32]="NoScroll",Kn[Kn.AutoFocus=64]="AutoFocus",Kn),Yn=((Un=Yn||{})[Un.Error=0]="Error",Un[Un.Overflow=1]="Overflow",Un[Un.Success=2]="Success",Un[Un.Underflow=3]="Underflow",Un),Xn=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Xn||{}),Jn=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Jn||{}),Zn=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Zn||{});function Qn(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ea(){return Qn()||/Android/gi.test(window.navigator.userAgent)}function ta(e,t,r,n){let s=er(r);a.useEffect(()=>{if(e)return document.addEventListener(t,r,n),()=>document.removeEventListener(t,r,n);function r(e){s.current(e)}},[e,t,n])}function ra(e,t,r){let n=er(r),s=a.useCallback(function(e,r){if(e.defaultPrevented)return;let a=r(e);if(null===a||!a.getRootNode().contains(a)||!a.isConnected)return;let s=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(t);for(let t of s)if(null!==t&&(t.contains(a)||e.composed&&e.composedPath().includes(t)))return;return!function(e,t=0){var r;return e!==(null==(r=Yt(e))?void 0:r.body)&&sr(t,{0:()=>e.matches(qn),1(){let t=e;for(;null!==t;){if(t.matches(qn))return!0;t=t.parentElement}return!1}})}(a,Jn.Loose)&&-1!==a.tabIndex&&e.preventDefault(),n.current(e,a)},[n,t]),i=a.useRef(null);ta(e,"pointerdown",e=>{var t,r;ea()||(i.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),ta(e,"pointerup",e=>{if(ea()||!i.current)return;let t=i.current;return i.current=null,s(e,()=>t)},!0);let o=a.useRef({x:0,y:0});ta(e,"touchstart",e=>{o.current.x=e.touches[0].clientX,o.current.y=e.touches[0].clientY},!0),ta(e,"touchend",e=>{let t=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY;if(!(Math.abs(t-o.current.x)>=30||Math.abs(r-o.current.y)>=30))return s(e,()=>Ar(e.target)?e.target:null)},!0),function(e,t,r,n){let i=er(e=>s(e,()=>function(e){return Pr(e)&&"IFRAME"===e.nodeName}(window.document.activeElement)?window.document.activeElement:null));a.useEffect(()=>{if(e)return window.addEventListener(t,r,n),()=>window.removeEventListener(t,r,n);function r(e){i.current(e)}},[e,t,n])}(e,"blur",0,!0)}function na(...e){return a.useMemo(()=>Yt(...e),[...e])}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));var aa=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(aa||{});const sa={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}};function ia(e){let t=a.useRef({value:"",selectionStart:null,selectionEnd:null});return function(e,r,n,s){let i=er(e=>{let r=e.target;Ir(r)&&(t.current={value:r.value,selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})});a.useEffect(()=>{function t(e){i.current(e)}return(e=null!=e?e:window).addEventListener(r,t,s),()=>e.removeEventListener(r,t,s)},[e,r,s])}(e,"blur"),tr(()=>{if(document.activeElement!==e&&Ir(e)&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==t.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:r,selectionEnd:n}=t.current;null!==r&&null!==n&&e.setSelectionRange(r,n)}t.current={value:"",selectionStart:null,selectionEnd:null}}})}function oa(e,t){return a.useMemo(()=>{var r;if(e.type)return e.type;let n=null!=(r=e.as)?r:"button";return"string"==typeof n&&"button"===n.toLowerCase()||"BUTTON"===(null==t?void 0:t.tagName)&&!t.hasAttribute("type")?"button":void 0},[e.type,e.as,t])}function la(){let e;return{before({doc:t}){var r;let n=t.documentElement,a=null!=(r=t.defaultView)?r:window;e=Math.max(0,a.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,a=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,e-a);r.style(n,"paddingRight",`${s}px`)}}}function ca(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let da=function(e,t){let r=new Map,n=new Set;return{getSnapshot:()=>r,subscribe:e=>(n.add(e),()=>n.delete(e)),dispatch(e,...a){let s=t[e].call(r,...a);s&&(r=s,n.forEach(e=>e()))}}}(0,{PUSH(e,t){var r;let n=null!=(r=this.get(e))?r:{doc:e,count:0,d:Jt(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:ca(r)},a=[Qn()?{before({doc:e,d:t,meta:r}){function n(e){return r.containers.flatMap(e=>e()).some(t=>t.contains(e))}t.microTask(()=>{var r;if("auto"!==window.getComputedStyle(e.documentElement).scrollBehavior){let r=Jt();r.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>r.dispose()))}let a=null!=(r=window.scrollY)?r:window.pageYOffset,s=null;t.addEventListener(e,"click",t=>{if(Ar(t.target))try{let r=t.target.closest("a");if(!r)return;let{hash:a}=new URL(r.href),i=e.querySelector(a);Ar(i)&&!n(i)&&(s=i)}catch{}},!0),t.addEventListener(e,"touchstart",e=>{if(Ar(e.target)&&function(e){return Rr(e)&&"style"in e}(e.target))if(n(e.target)){let r=e.target;for(;r.parentElement&&n(r.parentElement);)r=r.parentElement;t.style(r,"overscrollBehavior","contain")}else t.style(e.target,"touchAction","none")}),t.addEventListener(e,"touchmove",e=>{if(Ar(e.target)){if(Ir(e.target))return;if(n(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()}},{passive:!1}),t.add(()=>{var e;let t=null!=(e=window.scrollY)?e:window.pageYOffset;a!==t&&window.scrollTo(0,a),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{},la(),{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}];a.forEach(({before:e})=>null==e?void 0:e(n)),a.forEach(({after:e})=>null==e?void 0:e(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});function ua(e){return[e.screenX,e.screenY]}var ga,ha;da.subscribe(()=>{let e=da.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let e="hidden"===t.get(r.doc),n=0!==r.count;(n&&!e||!n&&e)&&da.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),0===r.count&&da.dispatch("TEARDOWN",r)}}),"undefined"!=typeof process&&"undefined"!=typeof globalThis&&"undefined"!=typeof Element&&"test"===(null==(ga=null==process?void 0:{})?void 0:ga.NODE_ENV)&&void 0===(null==(ha=null==Element?void 0:Element.prototype)?void 0:ha.getAnimations)&&(Element.prototype.getAnimations=function(){return[]});var ma=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(ma||{});function fa(e){let t={};for(let r in e)!0===e[r]&&(t[`data-${r}`]="");return t}function pa(e,t,r,n){let[s,i]=a.useState(r),{hasFlag:o,addFlag:l,removeFlag:c}=function(e=0){let[t,r]=a.useState(e),n=a.useCallback(e=>r(e),[t]),s=a.useCallback(e=>r(t=>t|e),[t]),i=a.useCallback(e=>(t&e)===e,[t]),o=a.useCallback(e=>r(t=>t&~e),[r]),l=a.useCallback(e=>r(t=>t^e),[r]);return{flags:t,setFlag:n,addFlag:s,hasFlag:i,removeFlag:o,toggleFlag:l}}(e&&s?3:0),d=a.useRef(!1),u=a.useRef(!1),g=Zt();return Qt(()=>{var a;if(e)return r&&i(!0),t?(null==(a=null==n?void 0:n.start)||a.call(n,r),function(e,{prepare:t,run:r,done:n,inFlight:a}){let s=Jt();return function(e,{inFlight:t,prepare:r}){if(null!=t&&t.current)return void r();let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}(e,{prepare:t,inFlight:a}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(function(e,t){var r,n;let a=Jt();if(!e)return a.dispose;let s=!1;a.add(()=>{s=!0});let i=null!=(n=null==(r=e.getAnimations)?void 0:r.call(e).filter(e=>e instanceof CSSTransition))?n:[];return 0===i.length?(t(),a.dispose):(Promise.allSettled(i.map(e=>e.finished)).then(()=>{s||t()}),a.dispose)}(e,n))})}),s.dispose}(t,{inFlight:d,prepare(){u.current?u.current=!1:u.current=d.current,d.current=!0,!u.current&&(r?(l(3),c(4)):(l(4),c(2)))},run(){u.current?r?(c(3),l(4)):(c(4),l(3)):r?c(1):l(1)},done(){var e;u.current&&"function"==typeof t.getAnimations&&t.getAnimations().length>0||(d.current=!1,c(7),r||i(!1),null==(e=null==n?void 0:n.end)||e.call(n,r))}})):void(r&&l(3))},[e,r,t,g]),e?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function xa(e,t){let r=a.useRef([]),n=tr(e);a.useEffect(()=>{let e=[...r.current];for(let[a,s]of t.entries())if(r.current[a]!==s){let a=n(t,e);return r.current=t,a}},[n,...t])}function ba(){return"undefined"!=typeof window}function va(e){return ka(e)?(e.nodeName||"").toLowerCase():"#document"}function ya(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function wa(e){var t;return null==(t=(ka(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ka(e){return!!ba()&&(e instanceof Node||e instanceof ya(e).Node)}function ja(e){return!!ba()&&(e instanceof Element||e instanceof ya(e).Element)}function Na(e){return!!ba()&&(e instanceof HTMLElement||e instanceof ya(e).HTMLElement)}function Sa(e){return!(!ba()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof ya(e).ShadowRoot)}const Ea=new Set(["inline","contents"]);function Ca(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ha(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Ea.has(a)}const Ta=new Set(["table","td","th"]);function La(e){return Ta.has(va(e))}const Oa=[":popover-open",":modal"];function Ra(e){return Oa.some(t=>{try{return e.matches(t)}catch(r){return!1}})}const Pa=["transform","translate","scale","rotate","perspective"],Aa=["transform","translate","scale","rotate","perspective","filter"],Ia=["paint","layout","strict","content"];function Ma(e){const t=Da(),r=ja(e)?Ha(e):e;return Pa.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||Aa.some(e=>(r.willChange||"").includes(e))||Ia.some(e=>(r.contain||"").includes(e))}function Da(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Fa=new Set(["html","body","#document"]);function za(e){return Fa.has(va(e))}function Ha(e){return ya(e).getComputedStyle(e)}function Va(e){return ja(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $a(e){if("html"===va(e))return e;const t=e.assignedSlot||e.parentNode||Sa(e)&&e.host||wa(e);return Sa(t)?t.host:t}function Wa(e){const t=$a(e);return za(t)?e.ownerDocument?e.ownerDocument.body:e.body:Na(t)&&Ca(t)?t:Wa(t)}function _a(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const a=Wa(e),s=a===(null==(n=e.ownerDocument)?void 0:n.body),i=ya(a);if(s){const e=Ba(i);return t.concat(i,i.visualViewport||[],Ca(a)?a:[],e&&r?_a(e):[])}return t.concat(a,_a(a,[],r))}function Ba(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const qa=Math.min,Ua=Math.max,Ka=Math.round,Ga=Math.floor,Ya=e=>({x:e,y:e}),Xa={left:"right",right:"left",bottom:"top",top:"bottom"},Ja={start:"end",end:"start"};function Za(e,t,r){return Ua(e,qa(t,r))}function Qa(e,t){return"function"==typeof e?e(t):e}function es(e){return e.split("-")[0]}function ts(e){return e.split("-")[1]}function rs(e){return"x"===e?"y":"x"}function ns(e){return"y"===e?"height":"width"}const as=new Set(["top","bottom"]);function ss(e){return as.has(es(e))?"y":"x"}function is(e){return rs(ss(e))}function os(e){return e.replace(/start|end/g,e=>Ja[e])}const ls=["left","right"],cs=["right","left"],ds=["top","bottom"],us=["bottom","top"];function gs(e){return e.replace(/left|right|bottom|top/g,e=>Xa[e])}function hs(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function ms(e,t,r){let{reference:n,floating:a}=e;const s=ss(t),i=is(t),o=ns(i),l=es(t),c="y"===s,d=n.x+n.width/2-a.width/2,u=n.y+n.height/2-a.height/2,g=n[o]/2-a[o]/2;let h;switch(l){case"top":h={x:d,y:n.y-a.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:u};break;case"left":h={x:n.x-a.width,y:u};break;default:h={x:n.x,y:n.y}}switch(ts(t)){case"start":h[i]-=g*(r&&c?-1:1);break;case"end":h[i]+=g*(r&&c?-1:1)}return h}async function fs(e,t){var r;void 0===t&&(t={});const{x:n,y:a,platform:s,rects:i,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:g=!1,padding:h=0}=Qa(t,e),m=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(h),f=o[g?"floating"===u?"reference":"floating":u],p=hs(await s.getClippingRect({element:null==(r=await(null==s.isElement?void 0:s.isElement(f)))||r?f:f.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),x="floating"===u?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,b=await(null==s.getOffsetParent?void 0:s.getOffsetParent(o.floating)),v=await(null==s.isElement?void 0:s.isElement(b))&&await(null==s.getScale?void 0:s.getScale(b))||{x:1,y:1},y=hs(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:b,strategy:l}):x);return{top:(p.top-y.top+m.top)/v.y,bottom:(y.bottom-p.bottom+m.bottom)/v.y,left:(p.left-y.left+m.left)/v.x,right:(y.right-p.right+m.right)/v.x}}const ps=new Set(["left","top"]);function xs(e){const t=Ha(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Na(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,o=Ka(r)!==s||Ka(n)!==i;return o&&(r=s,n=i),{width:r,height:n,$:o}}function bs(e){return ja(e)?e:e.contextElement}function vs(e){const t=bs(e);if(!Na(t))return Ya(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=xs(t);let i=(s?Ka(r.width):r.width)/n,o=(s?Ka(r.height):r.height)/a;return i&&Number.isFinite(i)||(i=1),o&&Number.isFinite(o)||(o=1),{x:i,y:o}}const ys=Ya(0);function ws(e){const t=ya(e);return Da()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ys}function ks(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const a=e.getBoundingClientRect(),s=bs(e);let i=Ya(1);t&&(n?ja(n)&&(i=vs(n)):i=vs(e));const o=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==ya(e))&&t}(s,r,n)?ws(s):Ya(0);let l=(a.left+o.x)/i.x,c=(a.top+o.y)/i.y,d=a.width/i.x,u=a.height/i.y;if(s){const e=ya(s),t=n&&ja(n)?ya(n):n;let r=e,a=Ba(r);for(;a&&n&&t!==r;){const e=vs(a),t=a.getBoundingClientRect(),n=Ha(a),s=t.left+(a.clientLeft+parseFloat(n.paddingLeft))*e.x,i=t.top+(a.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=s,c+=i,r=ya(a),a=Ba(r)}}return hs({width:d,height:u,x:l,y:c})}function js(e,t){const r=Va(e).scrollLeft;return t?t.left+r:ks(wa(e)).left+r}function Ns(e,t,r){void 0===r&&(r=!1);const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:js(e,n)),y:n.top+t.scrollTop}}const Ss=new Set(["absolute","fixed"]);function Es(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=ya(e),n=wa(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;const e=Da();(!e||e&&"fixed"===t)&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:i,x:o,y:l}}(e,r);else if("document"===t)n=function(e){const t=wa(e),r=Va(e),n=e.ownerDocument.body,a=Ua(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Ua(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+js(e);const o=-r.scrollTop;return"rtl"===Ha(n).direction&&(i+=Ua(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:o}}(wa(e));else if(ja(t))n=function(e,t){const r=ks(e,!0,"fixed"===t),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=Na(e)?vs(e):Ya(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:a*s.x,y:n*s.y}}(t,r);else{const r=ws(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return hs(n)}function Cs(e,t){const r=$a(e);return!(r===t||!ja(r)||za(r))&&("fixed"===Ha(r).position||Cs(r,t))}function Ts(e,t,r){const n=Na(t),a=wa(t),s="fixed"===r,i=ks(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=Ya(0);function c(){l.x=js(a)}if(n||!n&&!s)if(("body"!==va(t)||Ca(a))&&(o=Va(t)),n){const e=ks(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&c();s&&!n&&a&&c();const d=!a||n||s?Ya(0):Ns(a,o);return{x:i.left+o.scrollLeft-l.x-d.x,y:i.top+o.scrollTop-l.y-d.y,width:i.width,height:i.height}}function Ls(e){return"static"===Ha(e).position}function Os(e,t){if(!Na(e)||"fixed"===Ha(e).position)return null;if(t)return t(e);let r=e.offsetParent;return wa(e)===r&&(r=r.ownerDocument.body),r}function Rs(e,t){const r=ya(e);if(Ra(e))return r;if(!Na(e)){let t=$a(e);for(;t&&!za(t);){if(ja(t)&&!Ls(t))return t;t=$a(t)}return r}let n=Os(e,t);for(;n&&La(n)&&Ls(n);)n=Os(n,t);return n&&za(n)&&Ls(n)&&!Ma(n)?r:n||function(e){let t=$a(e);for(;Na(t)&&!za(t);){if(Ma(t))return t;if(Ra(t))return null;t=$a(t)}return null}(e)||r}const Ps={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s="fixed"===a,i=wa(n),o=!!t&&Ra(t.floating);if(n===i||o&&s)return r;let l={scrollLeft:0,scrollTop:0},c=Ya(1);const d=Ya(0),u=Na(n);if((u||!u&&!s)&&(("body"!==va(n)||Ca(i))&&(l=Va(n)),Na(n))){const e=ks(n);c=vs(n),d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}const g=!i||u||s?Ya(0):Ns(i,l,!0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+g.x,y:r.y*c.y-l.scrollTop*c.y+d.y+g.y}},getDocumentElement:wa,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[..."clippingAncestors"===r?Ra(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=_a(e,[],!1).filter(e=>ja(e)&&"body"!==va(e)),a=null;const s="fixed"===Ha(e).position;let i=s?$a(e):e;for(;ja(i)&&!za(i);){const t=Ha(i),r=Ma(i);r||"fixed"!==t.position||(a=null),(s?!r&&!a:!r&&"static"===t.position&&a&&Ss.has(a.position)||Ca(i)&&!r&&Cs(e,i))?n=n.filter(e=>e!==i):a=t,i=$a(i)}return t.set(e,n),n}(t,this._c):[].concat(r),n],i=s[0],o=s.reduce((e,r)=>{const n=Es(t,r,a);return e.top=Ua(n.top,e.top),e.right=qa(n.right,e.right),e.bottom=qa(n.bottom,e.bottom),e.left=Ua(n.left,e.left),e},Es(t,i,a));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:Rs,getElementRects:async function(e){const t=this.getOffsetParent||Rs,r=this.getDimensions,n=await r(e.floating);return{reference:Ts(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=xs(e);return{width:t,height:r}},getScale:vs,isElement:ja,isRTL:function(e){return"rtl"===Ha(e).direction}};function As(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Is(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=n,c=bs(e),d=a||s?[...c?_a(c):[],..._a(t)]:[];d.forEach(e=>{a&&e.addEventListener("scroll",r,{passive:!0}),s&&e.addEventListener("resize",r)});const u=c&&o?function(e,t){let r,n=null;const a=wa(e);function s(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function i(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:u,width:g,height:h}=c;if(o||t(),!g||!h)return;const m={rootMargin:-Ga(u)+"px "+-Ga(a.clientWidth-(d+g))+"px "+-Ga(a.clientHeight-(u+h))+"px "+-Ga(d)+"px",threshold:Ua(0,qa(1,l))||1};let f=!0;function p(t){const n=t[0].intersectionRatio;if(n!==l){if(!f)return i();n?i(!1,n):r=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==n||As(c,e.getBoundingClientRect())||i(),f=!1}try{n=new IntersectionObserver(p,{...m,root:a.ownerDocument})}catch(x){n=new IntersectionObserver(p,m)}n.observe(e)}(!0),s}(c,r):null;let g,h=-1,m=null;i&&(m=new ResizeObserver(e=>{let[n]=e;n&&n.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),r()}),c&&!l&&m.observe(c),m.observe(t));let f=l?ks(e):null;return l&&function t(){const n=ks(e);f&&!As(f,n)&&r(),f=n,g=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{a&&e.removeEventListener("scroll",r),s&&e.removeEventListener("resize",r)}),null==u||u(),null==(e=m)||e.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const Ms=fs,Ds=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:o}=t,l=await async function(e,t){const{placement:r,platform:n,elements:a}=e,s=await(null==n.isRTL?void 0:n.isRTL(a.floating)),i=es(r),o=ts(r),l="y"===ss(r),c=ps.has(i)?-1:1,d=s&&l?-1:1,u=Qa(t,e);let{mainAxis:g,crossAxis:h,alignmentAxis:m}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"==typeof m&&(h="end"===o?-1*m:m),l?{x:h*d,y:g*c}:{x:g*c,y:h*d}}(t,e);return i===(null==(r=o.offset)?void 0:r.placement)&&null!=(n=o.arrow)&&n.alignmentOffset?{}:{x:a+l.x,y:s+l.y,data:{...l,placement:i}}}}},Fs=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:o={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=Qa(e,t),c={x:r,y:n},d=await fs(t,l),u=ss(es(a)),g=rs(u);let h=c[g],m=c[u];if(s){const e="y"===g?"bottom":"right";h=Za(h+d["y"===g?"top":"left"],h,h-d[e])}if(i){const e="y"===u?"bottom":"right";m=Za(m+d["y"===u?"top":"left"],m,m-d[e])}const f=o.fn({...t,[g]:h,[u]:m});return{...f,data:{x:f.x-r,y:f.y-n,enabled:{[g]:s,[u]:i}}}}}},zs=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:g,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:f=!0,...p}=Qa(e,t);if(null!=(r=s.arrow)&&r.alignmentOffset)return{};const x=es(a),b=ss(o),v=es(o)===o,y=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=g||(v||!f?[gs(o)]:function(e){const t=gs(e);return[os(e),t,os(t)]}(o)),k="none"!==m;!g&&k&&w.push(...function(e,t,r,n){const a=ts(e);let s=function(e,t,r){switch(e){case"top":case"bottom":return r?t?cs:ls:t?ls:cs;case"left":case"right":return t?ds:us;default:return[]}}(es(e),"start"===r,n);return a&&(s=s.map(e=>e+"-"+a),t&&(s=s.concat(s.map(os)))),s}(o,f,m,y));const j=[o,...w],N=await fs(t,p),S=[];let E=(null==(n=s.flip)?void 0:n.overflows)||[];if(d&&S.push(N[x]),u){const e=function(e,t,r){void 0===r&&(r=!1);const n=ts(e),a=is(e),s=ns(a);let i="x"===a?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=gs(i)),[i,gs(i)]}(a,i,y);S.push(N[e[0]],N[e[1]])}if(E=[...E,{placement:a,overflows:S}],!S.every(e=>e<=0)){var C,T;const e=((null==(C=s.flip)?void 0:C.index)||0)+1,t=j[e];if(t&&("alignment"!==u||b===ss(t)||E.every(e=>e.overflows[0]>0&&ss(e.placement)===b)))return{data:{index:e,overflows:E},reset:{placement:t}};let r=null==(T=E.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:T.placement;if(!r)switch(h){case"bestFit":{var L;const e=null==(L=E.filter(e=>{if(k){const t=ss(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:L[0];e&&(r=e);break}case"initialPlacement":r=o}if(a!==r)return{reset:{placement:r}}}return{}}}},Hs=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:o}=t,{apply:l=()=>{},...c}=Qa(e,t),d=await fs(t,c),u=es(a),g=ts(a),h="y"===ss(a),{width:m,height:f}=s.floating;let p,x;"top"===u||"bottom"===u?(p=u,x=g===(await(null==i.isRTL?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(x=u,p="end"===g?"top":"bottom");const b=f-d.top-d.bottom,v=m-d.left-d.right,y=qa(f-d[p],b),w=qa(m-d[x],v),k=!t.middlewareData.shift;let j=y,N=w;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(N=v),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(j=b),k&&!g){const e=Ua(d.left,0),t=Ua(d.right,0),r=Ua(d.top,0),n=Ua(d.bottom,0);h?N=m-2*(0!==e||0!==t?e+t:Ua(d.left,d.right)):j=f-2*(0!==r||0!==n?r+n:Ua(d.top,d.bottom))}await l({...t,availableWidth:N,availableHeight:j});const S=await i.getDimensions(o.floating);return m!==S.width||f!==S.height?{reset:{rects:!0}}:{}}}};var Vs="undefined"!=typeof document?a.useLayoutEffect:function(){};function $s(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;0!==n--;)if(!$s(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;0!==n--;){const r=a[n];if(!("_owner"===r&&e.$$typeof||$s(e[r],t[r])))return!1}return!0}return e!=e&&t!=t}function Ws(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _s(e,t){const r=Ws(e);return Math.round(t*r)/r}function Bs(e){const t=a.useRef(e);return Vs(()=>{t.current=e}),t}const qs=(e,t)=>({...Ds(e),options:[e,t]}),Us=(e,t)=>({...zs(e),options:[e,t]}),Ks=(e,t)=>({...Hs(e),options:[e,t]}),Gs={...u},Ys=Gs.useInsertionEffect||(e=>e());function Xs(e){const t=a.useRef(()=>{});return Ys(()=>{t.current=e}),a.useCallback(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)},[])}var Js="undefined"!=typeof document?a.useLayoutEffect:a.useEffect;let Zs=!1,Qs=0;const ei=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Qs++,ti=Gs.useId||function(){const[e,t]=a.useState(()=>Zs?ei():void 0);return Js(()=>{null==e&&t(ei())},[]),a.useEffect(()=>{Zs=!0},[]),e},ri=a.createContext(null),ni=a.createContext(null),ai="data-floating-ui-focusable";function si(e){void 0===e&&(e={});const{nodeId:t}=e,r=function(e){const{open:t=!1,onOpenChange:r,elements:n}=e,s=ti(),i=a.useRef({}),[o]=a.useState(()=>function(){const e=new Map;return{emit(t,r){var n;null==(n=e.get(t))||n.forEach(e=>e(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,(null==(n=e.get(t))?void 0:n.filter(e=>e!==r))||[])}}}()),l=null!=((null==(c=a.useContext(ri))?void 0:c.id)||null);var c;const[d,u]=a.useState(n.reference),g=Xs((e,t,n)=>{i.current.openEvent=e?t:void 0,o.emit("openchange",{open:e,event:t,reason:n,nested:l}),null==r||r(e,t,n)}),h=a.useMemo(()=>({setPositionReference:u}),[]),m=a.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return a.useMemo(()=>({dataRef:i,open:t,onOpenChange:g,elements:m,events:o,floatingId:s,refs:h}),[t,g,m,o,s,h])}({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,s=n.elements,[i,o]=a.useState(null),[l,c]=a.useState(null),u=(null==s?void 0:s.domReference)||i,g=a.useRef(null),h=a.useContext(ni);Js(()=>{u&&(g.current=u)},[u]);const m=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[g,h]=a.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=a.useState(n);$s(m,n)||f(n);const[p,x]=a.useState(null),[b,v]=a.useState(null),y=a.useCallback(e=>{e!==N.current&&(N.current=e,x(e))},[]),w=a.useCallback(e=>{e!==S.current&&(S.current=e,v(e))},[]),k=i||p,j=o||b,N=a.useRef(null),S=a.useRef(null),E=a.useRef(g),C=null!=c,T=Bs(c),L=Bs(s),O=Bs(u),R=a.useCallback(()=>{if(!N.current||!S.current)return;const e={placement:t,strategy:r,middleware:m};L.current&&(e.platform=L.current),((e,t,r)=>{const n=new Map,a={platform:Ps,...r},s={...a.platform,_c:n};return(async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,o=s.filter(Boolean),l=await(null==i.isRTL?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:u}=ms(c,n,l),g=n,h={},m=0;for(let f=0;f<o.length;f++){const{name:r,fn:s}=o[f],{x:p,y:x,data:b,reset:v}=await s({x:d,y:u,initialPlacement:n,placement:g,strategy:a,middlewareData:h,rects:c,platform:i,elements:{reference:e,floating:t}});d=null!=p?p:d,u=null!=x?x:u,h={...h,[r]:{...h[r],...b}},v&&m<=50&&(m++,"object"==typeof v&&(v.placement&&(g=v.placement),v.rects&&(c=!0===v.rects?await i.getElementRects({reference:e,floating:t,strategy:a}):v.rects),({x:d,y:u}=ms(c,g,l))),f=-1)}return{x:d,y:u,placement:g,strategy:a,middlewareData:h}})(e,t,{...a,platform:s})})(N.current,S.current,e).then(e=>{const t={...e,isPositioned:!1!==O.current};P.current&&!$s(E.current,t)&&(E.current=t,d.flushSync(()=>{h(t)}))})},[m,t,r,L,O]);Vs(()=>{!1===u&&E.current.isPositioned&&(E.current.isPositioned=!1,h(e=>({...e,isPositioned:!1})))},[u]);const P=a.useRef(!1);Vs(()=>(P.current=!0,()=>{P.current=!1}),[]),Vs(()=>{if(k&&(N.current=k),j&&(S.current=j),k&&j){if(T.current)return T.current(k,j,R);R()}},[k,j,R,T,C]);const A=a.useMemo(()=>({reference:N,floating:S,setReference:y,setFloating:w}),[y,w]),I=a.useMemo(()=>({reference:k,floating:j}),[k,j]),M=a.useMemo(()=>{const e={position:r,left:0,top:0};if(!I.floating)return e;const t=_s(I.floating,g.x),n=_s(I.floating,g.y);return l?{...e,transform:"translate("+t+"px, "+n+"px)",...Ws(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,l,I.floating,g.x,g.y]);return a.useMemo(()=>({...g,update:R,refs:A,elements:I,floatingStyles:M}),[g,R,A,I,M])}({...e,elements:{...s,...l&&{reference:l}}}),f=a.useCallback(e=>{const t=ja(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;c(t),m.refs.setReference(t)},[m.refs]),p=a.useCallback(e=>{(ja(e)||null===e)&&(g.current=e,o(e)),(ja(m.refs.reference.current)||null===m.refs.reference.current||null!==e&&!ja(e))&&m.refs.setReference(e)},[m.refs]),x=a.useMemo(()=>({...m.refs,setReference:p,setPositionReference:f,domReference:g}),[m.refs,p,f]),b=a.useMemo(()=>({...m.elements,domReference:u}),[m.elements,u]),v=a.useMemo(()=>({...m,...n,refs:x,elements:b,nodeId:t}),[m,x,b,t,n]);return Js(()=>{n.dataRef.current.floatingContext=v;const e=null==h?void 0:h.nodesRef.current.find(e=>e.id===t);e&&(e.context=v)}),a.useMemo(()=>({...m,context:v,refs:x,elements:b}),[m,x,b,v])}const ii="active",oi="selected";function li(e,t,r){const n=new Map,a="item"===r;let s=e;if(a&&e){const{[ii]:t,[oi]:r,...n}=e;s=n}return{..."floating"===r&&{tabIndex:-1,[ai]:""},...s,...t.map(t=>{const n=t?t[r]:null;return"function"==typeof n?e?n(e):null:n}).concat(e).reduce((e,t)=>t?(Object.entries(t).forEach(t=>{let[r,s]=t;var i;a&&[ii,oi].includes(r)||(0===r.indexOf("on")?(n.has(r)||n.set(r,[]),"function"==typeof s&&(null==(i=n.get(r))||i.push(s),e[r]=function(){for(var e,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return null==(e=n.get(r))?void 0:e.map(e=>e(...a)).find(e=>void 0!==e)})):e[r]=s)}),e):e,{})}}function ci(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}let di=a.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});di.displayName="FloatingContext";let ui=a.createContext(null);function gi({children:e,enabled:t=!0}){let[r,n]=a.useState(null),[s,i]=a.useState(0),o=a.useRef(null),[l,c]=a.useState(null);!function(e){Qt(()=>{if(!e)return;let t=new MutationObserver(()=>{let t=window.getComputedStyle(e).maxHeight,r=parseFloat(t);if(isNaN(r))return;let n=parseInt(t);isNaN(n)||r!==n&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}(l);let u=t&&null!==r&&null!==l,{to:g="bottom",gap:h=0,offset:m=0,padding:f=0,inner:p}=function(e,t){var r,n,a;let s=hi(null!=(r=null==e?void 0:e.gap)?r:"var(--anchor-gap, 0)",t),i=hi(null!=(n=null==e?void 0:e.offset)?n:"var(--anchor-offset, 0)",t),o=hi(null!=(a=null==e?void 0:e.padding)?a:"var(--anchor-padding, 0)",t);return{...e,gap:s,offset:i,padding:o}}(r,l),[x,b="center"]=g.split(" ");Qt(()=>{u&&i(0)},[u]);let{refs:v,floatingStyles:y,context:w}=si({open:u,placement:"selection"===x?"center"===b?"bottom":`bottom-${b}`:"center"===b?`${x}`:`${x}-${b}`,strategy:"absolute",transform:!1,middleware:[qs({mainAxis:"selection"===x?0:h,crossAxis:m}),(S={padding:f},{...Fs(S),options:[S,undefined]}),"selection"!==x&&Us({padding:f}),"selection"===x&&p?(N={...p,padding:f,overflowRef:o,offset:s,minItemsVisible:4,referenceOverflowThreshold:f,onFallbackChange(e){var t,r;if(!e)return;let n=w.elements.floating;if(!n)return;let a=parseFloat(getComputedStyle(n).scrollPaddingBottom)||0,s=Math.min(4,n.childElementCount),o=0,l=0;for(let i of null!=(r=null==(t=w.elements.floating)?void 0:t.childNodes)?r:[])if(Pr(i)){let e=i.offsetTop,t=e+i.clientHeight+a,r=n.scrollTop,c=r+n.clientHeight;if(!(e>=r&&t<=c)){l=Math.max(0,Math.min(t,c)-Math.max(e,r)),o=i.clientHeight;break}s--}s>=1&&i(e=>{let t=o*s-l+a;return e>=t?e:t})}},{name:"inner",options:N,async fn(e){const{listRef:t,overflowRef:r,onFallbackChange:n,offset:a=0,index:s=0,minItemsVisible:i=4,referenceOverflowThreshold:o=0,scrollRef:l,...c}=Qa(N,e),{rects:u,elements:{floating:g}}=e,h=t.current[s],m=(null==l?void 0:l.current)||g,f=g.clientTop||m.clientTop,p=0!==g.clientTop,x=0!==m.clientTop,b=g===m;if(!h)return{};const v={...e,...await qs(-h.offsetTop-g.clientTop-u.reference.height/2-h.offsetHeight/2-a).fn(e)},y=await Ms(ci(v,m.scrollHeight+f+g.clientTop),c),w=await Ms(v,{...c,elementContext:"reference"}),k=Ua(0,y.top),j=v.y+k,S=(m.scrollHeight>m.clientHeight?e=>e:Ka)(Ua(0,m.scrollHeight+(p&&b||x?2*f:0)-k-Ua(0,y.bottom)));if(m.style.maxHeight=S+"px",m.scrollTop=k,n){const e=m.offsetHeight<h.offsetHeight*qa(i,t.current.length)-1||w.top>=-o||w.bottom>=-o;d.flushSync(()=>n(e))}return r&&(r.current=await Ms(ci({...v,y:j},m.offsetHeight+f+g.clientTop),c)),{y:j}}}):null,Ks({padding:f,apply({availableWidth:e,availableHeight:t,elements:r}){Object.assign(r.floating.style,{overflow:"auto",maxWidth:`${e}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${t}px)`})}})].filter(Boolean),whileElementsMounted:Is}),[k=x,j=b]=w.placement.split("-");var N,S;"selection"===x&&(k="selection");let E=a.useMemo(()=>({anchor:[k,j].filter(Boolean).join(" ")}),[k,j]),C=function(e,t){const{open:r,elements:n}=e,{enabled:s=!0,overflowRef:i,scrollRef:o,onChange:l}=t,c=Xs(l),u=a.useRef(!1),g=a.useRef(null),h=a.useRef(null);a.useEffect(()=>{if(!s)return;function e(e){if(e.ctrlKey||!t||null==i.current)return;const r=e.deltaY,n=i.current.top>=-.5,a=i.current.bottom>=-.5,s=t.scrollHeight-t.clientHeight,o=r<0?-1:1,l=r<0?"max":"min";t.scrollHeight<=t.clientHeight||(!n&&r>0||!a&&r<0?(e.preventDefault(),d.flushSync(()=>{c(e=>e+Math[l](r,s*o))})):/firefox/i.test(function(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}())&&(t.scrollTop+=r))}const t=(null==o?void 0:o.current)||n.floating;return r&&t?(t.addEventListener("wheel",e),requestAnimationFrame(()=>{g.current=t.scrollTop,null!=i.current&&(h.current={...i.current})}),()=>{g.current=null,h.current=null,t.removeEventListener("wheel",e)}):void 0},[s,r,n.floating,i,o,c]);const m=a.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const e=(null==o?void 0:o.current)||n.floating;if(i.current&&e&&u.current){if(null!==g.current){const t=e.scrollTop-g.current;(i.current.bottom<-.5&&t<-1||i.current.top<-.5&&t>1)&&d.flushSync(()=>c(e=>e+t))}requestAnimationFrame(()=>{g.current=e.scrollTop})}}}),[n.floating,c,i,o]);return a.useMemo(()=>s?{floating:m}:{},[s,m])}(w,{overflowRef:o,onChange:i}),{getReferenceProps:T,getFloatingProps:L}=function(e){void 0===e&&(e=[]);const t=e.map(e=>null==e?void 0:e.reference),r=e.map(e=>null==e?void 0:e.floating),n=e.map(e=>null==e?void 0:e.item),s=a.useCallback(t=>li(t,e,"reference"),t),i=a.useCallback(t=>li(t,e,"floating"),r),o=a.useCallback(t=>li(t,e,"item"),n);return a.useMemo(()=>({getReferenceProps:s,getFloatingProps:i,getItemProps:o}),[s,i,o])}([C]),O=tr(e=>{c(e),v.setFloating(e)});return a.createElement(ui.Provider,{value:n},a.createElement(di.Provider,{value:{setFloating:O,setReference:v.setReference,styles:y,getReferenceProps:T,getFloatingProps:L,slot:E}},e))}function hi(e,t,r=void 0){let n=Zt(),s=tr((e,t)=>{if(null==e)return[r,null];if("number"==typeof e)return[e,null];if("string"==typeof e){if(!t)return[r,null];let a=fi(e,t);return[a,r=>{let s=mi(e);{let i=s.map(e=>window.getComputedStyle(t).getPropertyValue(e));n.requestAnimationFrame(function o(){n.nextFrame(o);let l=!1;for(let[e,r]of s.entries()){let n=window.getComputedStyle(t).getPropertyValue(r);if(i[e]!==n){i[e]=n,l=!0;break}}if(!l)return;let c=fi(e,t);a!==c&&(r(c),a=c)})}return n.dispose}]}return[r,null]}),i=a.useMemo(()=>s(e,t)[0],[e,t]),[o=i,l]=a.useState();return Qt(()=>{let[r,n]=s(e,t);if(l(r),n)return n(l)},[e,t]),o}function mi(e){let t=/var\((.*)\)/.exec(e);if(t){let e=t[1].indexOf(",");if(-1===e)return[t[1]];let r=t[1].slice(0,e).trim(),n=t[1].slice(e+1).trim();return n?[r,...mi(n)]:[r]}return[]}function fi(e,t){let r=document.createElement("div");t.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",e,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return t.removeChild(r),n}function pi({children:e,freeze:t}){let r=xi(t,e);return l.createElement(l.Fragment,null,r)}function xi(e,t){let[r,n]=a.useState(t);return!e&&r!==t&&n(t),e?r:t}ui.displayName="PlacementContext";let bi=a.createContext(null);bi.displayName="OpenClosedContext";var vi=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(vi||{});function yi(){return a.useContext(bi)}function wi({value:e,children:t}){return l.createElement(bi.Provider,{value:e},t)}let ki=[];!function(){function e(){"loading"!==document.readyState&&((()=>{function e(e){if(!Ar(e.target)||e.target===document.body||ki[0]===e.target)return;let t=e.target;t=t.closest(qn),ki.unshift(null!=t?t:e.target),ki=ki.filter(e=>null!=e&&e.isConnected),ki.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})})(),document.removeEventListener("DOMContentLoaded",e))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",e),e())}();var ji,Ni=((ji=Ni||{})[ji.First=0]="First",ji[ji.Previous=1]="Previous",ji[ji.Next=2]="Next",ji[ji.Last=3]="Last",ji[ji.Specific=4]="Specific",ji[ji.Nothing=5]="Nothing",ji);function Si(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),a=null!=n?n:-1;switch(e.focus){case 0:for(let e=0;e<r.length;++e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 1:-1===a&&(a=r.length);for(let e=a-1;e>=0;--e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 2:for(let e=a+1;e<r.length;++e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 3:for(let e=r.length-1;e>=0;--e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 4:for(let n=0;n<r.length;++n)if(t.resolveId(r[n],n,r)===e.id)return n;return n;case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}var Ei,Ci=((Ei=Ci||{})[Ei.Left=0]="Left",Ei[Ei.Right=2]="Right",Ei);function Ti(e){let t=tr(e),r=a.useRef(!1);a.useEffect(()=>(r.current=!1,()=>{r.current=!0,Xt(()=>{r.current&&t()})}),[t])}function Li(){let e=function(){let e="undefined"==typeof document;return"useSyncExternalStore"in u&&u.useSyncExternalStore(()=>()=>{},()=>!1,()=>!e)}(),[t,r]=a.useState(Gt.isHandoffComplete);return t&&!1===Gt.isHandoffComplete&&r(!1),a.useEffect(()=>{!0!==t&&r(!0)},[t]),a.useEffect(()=>Gt.handoff(),[]),!e&&t}let Oi=a.createContext(!1);let Ri=a.Fragment,Pi=fr(function(e,t){let{ownerDocument:r=null,...n}=e,s=a.useRef(null),i=Hr(function(e,t=!0){return Object.assign(e,{[zr]:t})}(e=>{s.current=e}),t),o=na(s),l=null!=r?r:o,c=function(e){let t=a.useContext(Oi),r=a.useContext(Ii),[n,s]=a.useState(()=>{var n;if(!t&&null!==r)return null!=(n=r.current)?n:null;if(Gt.isServer)return null;let a=null==e?void 0:e.getElementById("headlessui-portal-root");if(a)return a;if(null===e)return null;let s=e.createElement("div");return s.setAttribute("id","headlessui-portal-root"),e.body.appendChild(s)});return a.useEffect(()=>{null!==n&&(null!=e&&e.body.contains(n)||null==e||e.body.appendChild(n))},[n,e]),a.useEffect(()=>{t||null!==r&&s(r.current)},[r,s,t]),n}(l),[u]=a.useState(()=>{var e;return Gt.isServer?null:null!=(e=null==l?void 0:l.createElement("div"))?e:null}),g=a.useContext(Mi),h=Li();Qt(()=>{!c||!u||c.contains(u)||(u.setAttribute("data-headlessui-portal",""),c.appendChild(u))},[c,u]),Qt(()=>{if(u&&g)return g.register(u)},[g,u]),Ti(()=>{var e;!c||!u||(Or(u)&&c.contains(u)&&c.removeChild(u),c.childNodes.length<=0&&(null==(e=c.parentElement)||e.removeChild(c)))});let m=dr();return h&&c&&u?d.createPortal(m({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:Ri,name:"Portal"}),u):null}),Ai=a.Fragment,Ii=a.createContext(null),Mi=a.createContext(null),Di=fr(function(e,t){let r=Hr(t),{enabled:n=!0,ownerDocument:a,...s}=e,i=dr();return n?l.createElement(Pi,{...s,ownerDocument:a,ref:r}):i({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:Ri,name:"Portal"})}),Fi=fr(function(e,t){let{target:r,...n}=e,a={ref:Hr(t)},s=dr();return l.createElement(Ii.Provider,{value:r},s({ourProps:a,theirProps:n,defaultTag:Ai,name:"Popover.Group"}))}),zi=Object.assign(Di,{Group:Fi});var Hi,Vi=Object.defineProperty,$i=(e,t,r)=>(((e,t,r)=>{t in e?Vi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r),Wi=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Wi||{}),_i=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(_i||{}),Bi=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Bi||{}),qi=((Hi=qi||{})[Hi.OpenCombobox=0]="OpenCombobox",Hi[Hi.CloseCombobox=1]="CloseCombobox",Hi[Hi.GoToOption=2]="GoToOption",Hi[Hi.SetTyping=3]="SetTyping",Hi[Hi.RegisterOption=4]="RegisterOption",Hi[Hi.UnregisterOption=5]="UnregisterOption",Hi[Hi.DefaultToFirstOption=6]="DefaultToFirstOption",Hi[Hi.SetActivationTrigger=7]="SetActivationTrigger",Hi[Hi.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",Hi[Hi.SetInputElement=9]="SetInputElement",Hi[Hi.SetButtonElement=10]="SetButtonElement",Hi[Hi.SetOptionsElement=11]="SetOptionsElement",Hi);function Ui(e,t=e=>e){let r=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,n=t(e.options.slice()),a=n.length>0&&null!==n[0].dataRef.current.order?n.sort((e,t)=>e.dataRef.current.order-t.dataRef.current.order):function(e,t=e=>e){return e.slice().sort((e,r)=>{let n=t(e),a=t(r);if(null===n||null===a)return 0;let s=n.compareDocumentPosition(a);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}(n,e=>e.dataRef.current.domRef.current),s=r?a.indexOf(r):null;return-1===s&&(s=null),{options:a,activeOptionIndex:s}}let Ki={1(e){var t;return null!=(t=e.dataRef.current)&&t.disabled||1===e.comboboxState?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var t,r;if(null!=(t=e.dataRef.current)&&t.disabled||0===e.comboboxState)return e;if(null!=(r=e.dataRef.current)&&r.value){let t=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(-1!==t)return{...e,activeOptionIndex:t,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3:(e,t)=>e.isTyping===t.isTyping?e:{...e,isTyping:t.isTyping},2(e,t){var r,n,a,s;if(null!=(r=e.dataRef.current)&&r.disabled||e.optionsElement&&(null==(n=e.dataRef.current)||!n.optionsPropsRef.current.static)&&1===e.comboboxState)return e;if(e.virtual){let{options:r,disabled:n}=e.virtual,s=t.focus===Ni.Specific?t.idx:Si(t,{resolveItems:()=>r,resolveActiveIndex:()=>{var t,a;return null!=(a=null!=(t=e.activeOptionIndex)?t:r.findIndex(e=>!n(e)))?a:null},resolveDisabled:n,resolveId(){throw new Error("Function not implemented.")}}),i=null!=(a=t.trigger)?a:2;return e.activeOptionIndex===s&&e.activationTrigger===i?e:{...e,activeOptionIndex:s,activationTrigger:i,isTyping:!1,__demoMode:!1}}let i=Ui(e);if(null===i.activeOptionIndex){let e=i.options.findIndex(e=>!e.dataRef.current.disabled);-1!==e&&(i.activeOptionIndex=e)}let o=t.focus===Ni.Specific?t.idx:Si(t,{resolveItems:()=>i.options,resolveActiveIndex:()=>i.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled}),l=null!=(s=t.trigger)?s:2;return e.activeOptionIndex===o&&e.activationTrigger===l?e:{...e,...i,isTyping:!1,activeOptionIndex:o,activationTrigger:l,__demoMode:!1}},4:(e,t)=>{var r,n,a,s;if(null!=(r=e.dataRef.current)&&r.virtual)return{...e,options:[...e.options,t.payload]};let i=t.payload,o=Ui(e,e=>(e.push(i),e));null===e.activeOptionIndex&&null!=(a=(n=e.dataRef.current).isSelected)&&a.call(n,t.payload.dataRef.current.value)&&(o.activeOptionIndex=o.options.indexOf(i));let l={...e,...o,activationTrigger:2};return null!=(s=e.dataRef.current)&&s.__demoMode&&void 0===e.dataRef.current.value&&(l.activeOptionIndex=0),l},5:(e,t)=>{var r;if(null!=(r=e.dataRef.current)&&r.virtual)return{...e,options:e.options.filter(e=>e.id!==t.id)};let n=Ui(e,e=>{let r=e.findIndex(e=>e.id===t.id);return-1!==r&&e.splice(r,1),e});return{...e,...n,activationTrigger:2}},6:(e,t)=>e.defaultToFirstOption===t.value?e:{...e,defaultToFirstOption:t.value},7:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},8:(e,t)=>{var r,n;if(null===e.virtual)return{...e,virtual:{options:t.options,disabled:null!=(r=t.disabled)?r:()=>!1}};if(e.virtual.options===t.options&&e.virtual.disabled===t.disabled)return e;let a=e.activeOptionIndex;if(null!==e.activeOptionIndex){let r=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);a=-1!==r?r:null}return{...e,activeOptionIndex:a,virtual:{options:t.options,disabled:null!=(n=t.disabled)?n:()=>!1}}},9:(e,t)=>e.inputElement===t.element?e:{...e,inputElement:t.element},10:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},11:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}};class Gi extends jn{constructor(e){super(e),$i(this,"actions",{onChange:e=>{let{onChange:t,compare:r,mode:n,value:a}=this.state.dataRef.current;return sr(n,{0:()=>null==t?void 0:t(e),1:()=>{let n=a.slice(),s=n.findIndex(t=>r(t,e));return-1===s?n.push(e):n.splice(s,1),null==t?void 0:t(n)}})},registerOption:(e,t)=>(this.send({type:4,payload:{id:e,dataRef:t}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(t.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:e})}),goToOption:(e,t)=>(this.send({type:6,value:!1}),this.send({type:2,...e,trigger:t})),setIsTyping:e=>{this.send({type:3,isTyping:e})},closeCombobox:()=>{var e,t;this.send({type:1}),this.send({type:6,value:!1}),null==(t=(e=this.state.dataRef.current).onClose)||t.call(e)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:e=>{this.send({type:7,trigger:e})},selectActiveOption:()=>{let e=this.selectors.activeOptionIndex(this.state);if(null!==e){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[e]);else{let{dataRef:t}=this.state.options[e];this.actions.onChange(t.current.value)}this.actions.goToOption({focus:Ni.Specific,idx:e})}},setInputElement:e=>{this.send({type:9,element:e})},setButtonElement:e=>{this.send({type:10,element:e})},setOptionsElement:e=>{this.send({type:11,element:e})}}),$i(this,"selectors",{activeDescendantId:e=>{var t,r;let n=this.selectors.activeOptionIndex(e);if(null!==n)return e.virtual?null==(r=e.options.find(t=>!t.dataRef.current.disabled&&e.dataRef.current.compare(t.dataRef.current.value,e.virtual.options[n])))?void 0:r.id:null==(t=e.options[n])?void 0:t.id},activeOptionIndex:e=>{if(e.defaultToFirstOption&&null===e.activeOptionIndex&&(e.virtual?e.virtual.options.length>0:e.options.length>0)){if(e.virtual){let{options:t,disabled:r}=e.virtual,n=t.findIndex(e=>{var t;return!(null!=(t=null==r?void 0:r(e))&&t)});if(-1!==n)return n}let t=e.options.findIndex(e=>!e.dataRef.current.disabled);if(-1!==t)return t}return e.activeOptionIndex},activeOption:e=>{var t,r;let n=this.selectors.activeOptionIndex(e);return null===n?null:e.virtual?e.virtual.options[null!=n?n:0]:null!=(r=null==(t=e.options[n])?void 0:t.dataRef.current.value)?r:null},isActive:(e,t,r)=>{var n;let a=this.selectors.activeOptionIndex(e);return null!==a&&(e.virtual?a===e.dataRef.current.calculateIndex(t):(null==(n=e.options[a])?void 0:n.id)===r)},shouldScrollIntoView:(e,t,r)=>!(e.virtual||e.__demoMode||0!==e.comboboxState||0===e.activationTrigger||!this.selectors.isActive(e,t,r))});{let e=this.state.id,t=An.get(null);this.disposables.add(t.on(On.Push,r=>{!t.selectors.isTop(r,e)&&0===this.state.comboboxState&&this.actions.closeCombobox()})),this.on(0,()=>t.actions.push(e)),this.on(1,()=>t.actions.pop(e))}}static new({id:e,virtual:t=null,__demoMode:r=!1}){var n;return new Gi({id:e,dataRef:{current:{}},comboboxState:r?0:1,isTyping:!1,options:[],virtual:t?{options:t.options,disabled:null!=(n=t.disabled)?n:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:r})}reduce(e,t){return sr(t.type,Ki,e,t)}}const Yi=a.createContext(null);function Xi(e){let t=a.useContext(Yi);if(null===t){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ji),t}return t}function Ji({id:e,virtual:t=null,__demoMode:r=!1}){let n=a.useMemo(()=>Gi.new({id:e,virtual:t,__demoMode:r}),[]);return Ti(()=>n.dispose()),n}let Zi=a.createContext(null);function Qi(e){let t=a.useContext(Zi);if(null===t){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Qi),t}return t}Zi.displayName="ComboboxDataContext";let eo=a.createContext(null);function to(e){let t=Xi("VirtualProvider"),r=Qi("VirtualProvider"),{options:n}=r.virtual,s=Hn(t,e=>e.optionsElement),[i,o]=a.useMemo(()=>{let e=s;if(!e)return[0,0];let t=window.getComputedStyle(e);return[parseFloat(t.paddingBlockStart||t.paddingTop),parseFloat(t.paddingBlockEnd||t.paddingBottom)]},[s]),c=(h={enabled:0!==n.length,scrollPaddingStart:i,scrollPaddingEnd:o,count:n.length,estimateSize:()=>40,getScrollElement:()=>t.state.optionsElement,overscan:12},function(e){const t=a.useReducer(()=>({}),{})[1],r={...e,onChange:(r,n)=>{var a;n?d.flushSync(t):t(),null==(a=e.onChange)||a.call(e,r,n)}},[n]=a.useState(()=>new cn(r));return n.setOptions(r),un(()=>n._didMount(),[]),un(()=>n._willUpdate()),n}({observeElementRect:rn,observeElementOffset:sn,scrollToFn:ln,...h})),[u,g]=a.useState(0);var h;Qt(()=>{g(e=>e+1)},[n]);let m=c.getVirtualItems(),f=Hn(t,e=>e.activationTrigger===Bi.Pointer),p=Hn(t,t.selectors.activeOptionIndex);return 0===m.length?null:l.createElement(eo.Provider,{value:c},l.createElement("div",{style:{position:"relative",width:"100%",height:`${c.getTotalSize()}px`},ref:e=>{e&&(f||null!==p&&n.length>p&&c.scrollToIndex(p))}},m.map(t=>{var r;return l.createElement(a.Fragment,{key:t.key},l.cloneElement(null==(r=e.children)?void 0:r.call(e,{...e.slot,option:n[t.index]}),{key:`${u}-${t.key}`,"data-index":t.index,"aria-setsize":n.length,"aria-posinset":t.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${t.start}px)`,overflowAnchor:"none"}}))})))}let ro=a.Fragment,no=lr.RenderStrategy|lr.Static,ao=fr(function(e,t){let r=a.useId(),n=nr(),{value:s,defaultValue:i,onChange:o,form:c,name:d,by:u,invalid:g=!1,disabled:h=n||!1,onClose:m,__demoMode:f=!1,multiple:p=!1,immediate:x=!1,virtual:b=null,nullable:v,...y}=e,w=function(e){let[t]=a.useState(e);return t}(i),[k=(p?[]:void 0),j]=function(e,t,r){let[n,s]=a.useState(r),i=void 0!==e,o=a.useRef(i),l=a.useRef(!1),c=a.useRef(!1);return!i||o.current||l.current?!i&&o.current&&!c.current&&(c.current=!0,o.current=i):(l.current=!0,o.current=i),[i?e:n,tr(e=>(i||s(e),null==t?void 0:t(e)))]}(s,o,w),N=Ji({id:r,virtual:b,__demoMode:f}),S=a.useRef({static:!1,hold:!1}),E=function(e=gn){return a.useCallback((t,r)=>{if("string"==typeof e){let n=e;return(null==t?void 0:t[n])===(null==r?void 0:r[n])}return e(t,r)},[e])}(u),C=tr(e=>b?null===u?b.options.indexOf(e):b.options.findIndex(t=>E(t,e)):N.state.options.findIndex(t=>E(t.dataRef.current.value,e))),T=a.useCallback(e=>sr(R.mode,{[_i.Multi]:()=>k.some(t=>E(t,e)),[_i.Single]:()=>E(k,e)}),[k]),L=Hn(N,e=>e.virtual),O=tr(()=>null==m?void 0:m()),R=a.useMemo(()=>({__demoMode:f,immediate:x,optionsPropsRef:S,value:k,defaultValue:w,disabled:h,invalid:g,mode:p?_i.Multi:_i.Single,virtual:b?L:null,onChange:j,isSelected:T,calculateIndex:C,compare:E,onClose:O}),[k,w,h,g,p,j,T,f,N,b,L,O]);Qt(()=>{var e;b&&N.send({type:qi.UpdateVirtualConfiguration,options:b.options,disabled:null!=(e=b.disabled)?e:null})},[b,null==b?void 0:b.options,null==b?void 0:b.disabled]),Qt(()=>{N.state.dataRef.current=R},[R]);let[P,A,I,M]=Hn(N,e=>[e.comboboxState,e.buttonElement,e.inputElement,e.optionsElement]),D=An.get(null);ra(Hn(D,a.useCallback(e=>D.selectors.isTop(e,r),[D,r])),[A,I,M],()=>N.actions.closeCombobox());let F=Hn(N,N.selectors.activeOptionIndex),z=Hn(N,N.selectors.activeOption),H=a.useMemo(()=>({open:P===Wi.Open,disabled:h,invalid:g,activeIndex:F,activeOption:z,value:k}),[R,h,k,g,z,P]),[V,$]=function({inherit:e=!1}={}){let t=Kr(),[r,n]=a.useState([]),s=e?[t,...r].filter(Boolean):r;return[s.length>0?s.join(" "):void 0,a.useMemo(()=>function(e){let t=tr(e=>(n(t=>[...t,e]),()=>n(t=>{let r=t.slice(),n=r.indexOf(e);return-1!==n&&r.splice(n,1),r}))),r=a.useMemo(()=>({register:t,slot:e.slot,name:e.name,props:e.props,value:e.value}),[t,e.slot,e.name,e.props,e.value]);return l.createElement(qr.Provider,{value:r},e.children)},[n])]}(),W=null===t?{}:{ref:t},_=a.useCallback(()=>{if(void 0!==w)return null==j?void 0:j(w)},[j,w]),B=dr();return l.createElement($,{value:V,props:{htmlFor:null==I?void 0:I.id},slot:{open:P===Wi.Open,disabled:h}},l.createElement(gi,null,l.createElement(Zi.Provider,{value:R},l.createElement(Yi.Provider,{value:N},l.createElement(wi,{value:sr(P,{[Wi.Open]:vi.Open,[Wi.Closed]:vi.Closed})},null!=d&&l.createElement(Er,{disabled:h,data:null!=k?{[d]:k}:{},form:c,onReset:_}),B({ourProps:W,theirProps:y,slot:H,defaultTag:ro,name:"Combobox"}))))))}),so=fr(function(e,t){let r=Xi("Combobox.Button"),n=Qi("Combobox.Button"),[s,i]=a.useState(null),o=Hr(t,i,r.actions.setButtonElement),l=a.useId(),{id:c=`headlessui-combobox-button-${l}`,disabled:u=n.disabled||!1,autoFocus:g=!1,...h}=e,[m,f,p]=Hn(r,e=>[e.comboboxState,e.inputElement,e.optionsElement]),x=ia(f);!function(e,{trigger:t,action:r,close:n,select:s}){let i=a.useRef(null);ta(e&&null!==t,"pointerdown",e=>{Or(null==e?void 0:e.target)&&null!=t&&t.contains(e.target)&&(i.current=new Date)}),ta(e&&null!==t,"pointerup",e=>{if(null===i.current||!Ar(e.target))return;let t=r(e),a=(new Date).getTime()-i.current.getTime();switch(i.current=null,t.kind){case 0:return;case 1:a>200&&(s(t.target),n());break;case 2:n()}},{capture:!0})}(m===Wi.Open,{trigger:s,action:a.useCallback(e=>{if(null!=s&&s.contains(e.target))return sa.Ignore;if(null!=f&&f.contains(e.target))return sa.Ignore;let t=e.target.closest('[role="option"]:not([data-disabled])');return Pr(t)?sa.Select(t):null!=p&&p.contains(e.target)?sa.Ignore:sa.Close},[s,f,p]),close:r.actions.closeCombobox,select:r.actions.selectActiveOption});let b=tr(e=>{switch(e.key){case Br.Space:case Br.Enter:return e.preventDefault(),e.stopPropagation(),r.state.comboboxState===Wi.Closed&&d.flushSync(()=>r.actions.openCombobox()),void x();case Br.ArrowDown:return e.preventDefault(),e.stopPropagation(),r.state.comboboxState===Wi.Closed&&(d.flushSync(()=>r.actions.openCombobox()),r.state.dataRef.current.value||r.actions.goToOption({focus:Ni.First})),void x();case Br.ArrowUp:return e.preventDefault(),e.stopPropagation(),r.state.comboboxState===Wi.Closed&&(d.flushSync(()=>r.actions.openCombobox()),r.state.dataRef.current.value||r.actions.goToOption({focus:Ni.Last})),void x();case Br.Escape:if(r.state.comboboxState!==Wi.Open)return;return e.preventDefault(),r.state.optionsElement&&!n.optionsPropsRef.current.static&&e.stopPropagation(),d.flushSync(()=>r.actions.closeCombobox()),void x();default:return}}),v=tr(e=>{e.preventDefault(),!function(e){let t=e.parentElement,r=null;for(;t&&!Dr(t);)Fr(t)&&(r=t),t=t.parentElement;let n=""===(null==t?void 0:t.getAttribute("disabled"));return(!n||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(Fr(t))return!1;t=t.previousElementSibling}return!0}(r))&&n}(e.currentTarget)&&(e.button===Ci.Left&&(r.state.comboboxState===Wi.Open?r.actions.closeCombobox():r.actions.openCombobox()),x())}),y=Kr([c]),{isFocusVisible:w,focusProps:k}=qt({autoFocus:g}),{isHovered:j,hoverProps:N}=Bt({isDisabled:u}),{pressed:S,pressProps:E}=function({disabled:e=!1}={}){let t=a.useRef(null),[r,n]=a.useState(!1),s=Zt(),i=tr(()=>{t.current=null,n(!1),s.dispose()}),o=tr(e=>{if(s.dispose(),null===t.current){t.current=e.currentTarget,n(!0);{let r=Yt(e.currentTarget);s.addEventListener(r,"pointerup",i,!1),s.addEventListener(r,"pointermove",e=>{if(t.current){let r=function(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}(e);n(function(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}(r,t.current.getBoundingClientRect()))}},!1),s.addEventListener(r,"pointercancel",i,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:o,onPointerUp:i,onClick:i}}}({disabled:u}),C=a.useMemo(()=>({open:m===Wi.Open,active:S||m===Wi.Open,disabled:u,invalid:n.invalid,value:n.value,hover:j,focus:w}),[n,j,w,S,u,m]),T=mr({ref:o,id:c,type:oa(e,s),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":null==p?void 0:p.id,"aria-expanded":m===Wi.Open,"aria-labelledby":y,disabled:u||void 0,autoFocus:g,onPointerDown:v,onKeyDown:b},k,N,E);return dr()({ourProps:T,theirProps:h,slot:C,defaultTag:"button",name:"Combobox.Button"})}),io=fr(function(e,t){var r,n;let s=Xi("Combobox.Input"),i=Qi("Combobox.Input"),o=a.useId(),l=Lr(),{id:c=l||`headlessui-combobox-input-${o}`,onChange:u,displayValue:g,disabled:h=i.disabled||!1,autoFocus:m=!1,type:f="text",...p}=e,[x]=Hn(s,e=>[e.inputElement]),b=a.useRef(null),v=Hr(b,t,a.useContext(di).setReference,s.actions.setInputElement),y=na(x),[w,k]=Hn(s,e=>[e.comboboxState,e.isTyping]),j=Zt(),N=tr(()=>{s.actions.onChange(null),s.state.optionsElement&&(s.state.optionsElement.scrollTop=0),s.actions.goToOption({focus:Ni.Nothing})}),S=a.useMemo(()=>{var e;return"function"==typeof g&&void 0!==i.value?null!=(e=g(i.value))?e:"":"string"==typeof i.value?i.value:""},[i.value,g]);xa(([e,t],[r,n])=>{if(s.state.isTyping)return;let a=b.current;a&&((n===Wi.Open&&t===Wi.Closed||e!==r)&&(a.value=e),requestAnimationFrame(()=>{if(s.state.isTyping||!a||(null==y?void 0:y.activeElement)!==a)return;let{selectionStart:e,selectionEnd:t}=a;0===Math.abs((null!=t?t:0)-(null!=e?e:0))&&0===e&&a.setSelectionRange(a.value.length,a.value.length)}))},[S,w,y,k]),xa(([e],[t])=>{if(e===Wi.Open&&t===Wi.Closed){if(s.state.isTyping)return;let e=b.current;if(!e)return;let t=e.value,{selectionStart:r,selectionEnd:n,selectionDirection:a}=e;e.value="",e.value=t,null!==a?e.setSelectionRange(r,n,a):e.setSelectionRange(r,n)}},[w]);let E=a.useRef(!1),C=tr(()=>{E.current=!0}),T=tr(()=>{j.nextFrame(()=>{E.current=!1})}),L=tr(e=>{switch(s.actions.setIsTyping(!0),e.key){case Br.Enter:if(s.state.comboboxState!==Wi.Open||E.current)return;if(e.preventDefault(),e.stopPropagation(),null===s.selectors.activeOptionIndex(s.state))return void s.actions.closeCombobox();s.actions.selectActiveOption(),i.mode===_i.Single&&s.actions.closeCombobox();break;case Br.ArrowDown:return e.preventDefault(),e.stopPropagation(),sr(s.state.comboboxState,{[Wi.Open]:()=>s.actions.goToOption({focus:Ni.Next}),[Wi.Closed]:()=>s.actions.openCombobox()});case Br.ArrowUp:return e.preventDefault(),e.stopPropagation(),sr(s.state.comboboxState,{[Wi.Open]:()=>s.actions.goToOption({focus:Ni.Previous}),[Wi.Closed]:()=>{d.flushSync(()=>s.actions.openCombobox()),i.value||s.actions.goToOption({focus:Ni.Last})}});case Br.Home:if(e.shiftKey)break;return e.preventDefault(),e.stopPropagation(),s.actions.goToOption({focus:Ni.First});case Br.PageUp:return e.preventDefault(),e.stopPropagation(),s.actions.goToOption({focus:Ni.First});case Br.End:if(e.shiftKey)break;return e.preventDefault(),e.stopPropagation(),s.actions.goToOption({focus:Ni.Last});case Br.PageDown:return e.preventDefault(),e.stopPropagation(),s.actions.goToOption({focus:Ni.Last});case Br.Escape:return s.state.comboboxState!==Wi.Open?void 0:(e.preventDefault(),s.state.optionsElement&&!i.optionsPropsRef.current.static&&e.stopPropagation(),i.mode===_i.Single&&null===i.value&&N(),s.actions.closeCombobox());case Br.Tab:if(s.state.comboboxState!==Wi.Open)return;i.mode===_i.Single&&s.state.activationTrigger!==Bi.Focus&&s.actions.selectActiveOption(),s.actions.closeCombobox()}}),O=tr(e=>{null==u||u(e),i.mode===_i.Single&&""===e.target.value&&N(),s.actions.openCombobox()}),R=tr(e=>{var t,r,n;let a=null!=(t=e.relatedTarget)?t:ki.find(t=>t!==e.currentTarget);if(!(null!=(r=s.state.optionsElement)&&r.contains(a)||null!=(n=s.state.buttonElement)&&n.contains(a)||s.state.comboboxState!==Wi.Open))return e.preventDefault(),i.mode===_i.Single&&null===i.value&&N(),s.actions.closeCombobox()}),P=tr(e=>{var t,r,n;let a=null!=(t=e.relatedTarget)?t:ki.find(t=>t!==e.currentTarget);null!=(r=s.state.buttonElement)&&r.contains(a)||null!=(n=s.state.optionsElement)&&n.contains(a)||i.disabled||i.immediate&&s.state.comboboxState!==Wi.Open&&j.microTask(()=>{d.flushSync(()=>s.actions.openCombobox()),s.actions.setActivationTrigger(Bi.Focus)})}),A=Kr(),I=function(){var e,t;return null!=(t=null==(e=a.useContext(Vr))?void 0:e.value)?t:void 0}(),{isFocused:M,focusProps:D}=qt({autoFocus:m}),{isHovered:F,hoverProps:z}=Bt({isDisabled:h}),H=Hn(s,e=>e.optionsElement),V=a.useMemo(()=>({open:w===Wi.Open,disabled:h,invalid:i.invalid,hover:F,focus:M,autofocus:m}),[i,F,M,m,h,i.invalid]),$=mr({ref:v,id:c,role:"combobox",type:f,"aria-controls":null==H?void 0:H.id,"aria-expanded":w===Wi.Open,"aria-activedescendant":Hn(s,s.selectors.activeDescendantId),"aria-labelledby":A,"aria-describedby":I,"aria-autocomplete":"list",defaultValue:null!=(n=null!=(r=e.defaultValue)?r:void 0!==i.defaultValue?null==g?void 0:g(i.defaultValue):null)?n:i.defaultValue,disabled:h||void 0,autoFocus:m,onCompositionStart:C,onCompositionEnd:T,onKeyDown:L,onChange:O,onFocus:P,onBlur:R},D,z);return dr()({ourProps:$,theirProps:p,slot:V,defaultTag:"input",name:"Combobox.Input"})}),oo=Yr,lo=fr(function(e,t){var r,n,s;let i=a.useId(),{id:o=`headlessui-combobox-options-${i}`,hold:c=!1,anchor:d,portal:u=!1,modal:g=!0,transition:h=!1,...m}=e,f=Xi("Combobox.Options"),p=Qi("Combobox.Options"),x=function(e){return a.useMemo(()=>e?"string"==typeof e?{to:e}:e:null,[e])}(d);x&&(u=!0);let[b,v]=function(e=null){!1===e&&(e=null),"string"==typeof e&&(e={to:e});let t=a.useContext(ui),r=a.useMemo(()=>e,[JSON.stringify(e,(e,t)=>{var r;return null!=(r=null==t?void 0:t.outerHTML)?r:t})]);Qt(()=>{null==t||t(null!=r?r:null)},[t,r]);let n=a.useContext(di);return a.useMemo(()=>[n.setFloating,e?n.styles:{}],[n.setFloating,e,n.styles])}(x),[y,w]=a.useState(null),k=function(){let{getFloatingProps:e,slot:t}=a.useContext(di);return a.useCallback((...r)=>Object.assign({},e(...r),{"data-anchor":t.anchor}),[e,t])}(),j=Hr(t,x?b:null,f.actions.setOptionsElement,w),[N,S,E,C,T]=Hn(f,e=>[e.comboboxState,e.inputElement,e.buttonElement,e.optionsElement,e.activationTrigger]),L=na(S||E),O=na(C),R=yi(),[P,A]=pa(h,y,null!==R?(R&vi.Open)===vi.Open:N===Wi.Open);!function(e,t,r){let n=er(e=>{let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&r()});a.useEffect(()=>{if(!e)return;let r=null===t?null:Pr(t)?t:t.current;if(!r)return;let a=Jt();if("undefined"!=typeof ResizeObserver){let e=new ResizeObserver(()=>n.current(r));e.observe(r),a.add(()=>e.disconnect())}if("undefined"!=typeof IntersectionObserver){let e=new IntersectionObserver(()=>n.current(r));e.observe(r),a.add(()=>e.disconnect())}return()=>a.dispose()},[t,n,e])}(P,S,f.actions.closeCombobox),function(e,t,r=()=>[document.body]){!function(e,t,r=()=>({containers:[]})){let n=function(e){return a.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}(da),s=t?n.get(t):void 0,i=!!s&&s.count>0;Qt(()=>{if(t&&e)return da.dispatch("PUSH",t,r),()=>da.dispatch("POP",t,r)},[e,t])}($n(e,"scroll-lock"),t,e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],r]}})}(!p.__demoMode&&g&&N===Wi.Open,O),function(e,{allowed:t,disallowed:r}={}){let n=$n(e,"inert-others");Qt(()=>{var e,a;if(!n)return;let s=Jt();for(let t of null!=(e=null==r?void 0:r())?e:[])t&&s.add(Bn(t));let i=null!=(a=null==t?void 0:t())?a:[];for(let t of i){if(!t)continue;let e=Yt(t);if(!e)continue;let r=t.parentElement;for(;r&&r!==e.body;){for(let e of r.children)i.some(t=>e.contains(t))||s.add(Bn(e));r=r.parentElement}}return s.dispose},[n,t,r])}(!p.__demoMode&&g&&N===Wi.Open,{allowed:a.useCallback(()=>[S,E,C],[S,E,C])}),Qt(()=>{var t;p.optionsPropsRef.current.static=null!=(t=e.static)&&t},[p.optionsPropsRef,e.static]),Qt(()=>{p.optionsPropsRef.current.hold=c},[p.optionsPropsRef,c]),function(e,{container:t,accept:r,walk:n}){let s=a.useRef(r),i=a.useRef(n);a.useEffect(()=>{s.current=r,i.current=n},[r,n]),Qt(()=>{if(!t||!e)return;let r=Yt(t);if(!r)return;let n=s.current,a=i.current,o=Object.assign(e=>n(e),{acceptNode:n}),l=r.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,o,!1);for(;l.nextNode();)a(l.currentNode)},[t,e,s,i])}(N===Wi.Open,{container:C,accept:e=>"option"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let I=Kr([null==E?void 0:E.id]),M=a.useMemo(()=>({open:N===Wi.Open,option:void 0}),[N]),D=tr(()=>{f.actions.setActivationTrigger(Bi.Pointer)}),F=tr(e=>{e.preventDefault(),f.actions.setActivationTrigger(Bi.Pointer)}),z=mr(x?k():{},{"aria-labelledby":I,role:"listbox","aria-multiselectable":p.mode===_i.Multi||void 0,id:o,ref:j,style:{...m.style,...v,"--input-width":hn(S,!0).width,"--button-width":hn(E,!0).width},onWheel:T===Bi.Pointer?void 0:D,onMouseDown:F,...fa(A)}),H=P&&N===Wi.Closed,V=xi(H,null==(r=p.virtual)?void 0:r.options),$=xi(H,p.value),W=tr(e=>p.compare($,e)),_=a.useMemo(()=>{if(!p.virtual)return p;if(void 0===V)throw new Error("Missing `options` in virtual mode");return V!==p.virtual.options?{...p,virtual:{...p.virtual,options:V}}:p},[p,V,null==(n=p.virtual)?void 0:n.options]);p.virtual&&Object.assign(m,{children:l.createElement(Zi.Provider,{value:_},l.createElement(to,{slot:M},m.children))});let B=dr(),q=a.useMemo(()=>p.mode===_i.Multi?p:{...p,isSelected:W},[p,W]);return l.createElement(zi,{enabled:!!u&&(e.static||P),ownerDocument:L},l.createElement(Zi.Provider,{value:q},B({ourProps:z,theirProps:{...m,children:l.createElement(pi,{freeze:H},"function"==typeof m.children?null==(s=m.children)?void 0:s.call(m,M):m.children)},slot:M,defaultTag:"div",features:no,visible:P,name:"Combobox.Options"})))}),co=fr(function(e,t){var r,n,s;let i=Qi("Combobox.Option"),o=Xi("Combobox.Option"),l=a.useId(),{id:c=`headlessui-combobox-option-${l}`,value:d,disabled:u=null!=(s=null==(n=null==(r=i.virtual)?void 0:r.disabled)?void 0:n.call(r,d))&&s,order:g=null,...h}=e,[m]=Hn(o,e=>[e.inputElement]),f=ia(m),p=Hn(o,a.useCallback(e=>o.selectors.isActive(e,d,c),[d,c])),x=i.isSelected(d),b=a.useRef(null),v=er({disabled:u,value:d,domRef:b,order:g}),y=a.useContext(eo),w=Hr(t,b,y?y.measureElement:null),k=tr(()=>{o.actions.setIsTyping(!1),o.actions.onChange(d)});Qt(()=>o.actions.registerOption(c,v),[v,c]);let j=Hn(o,a.useCallback(e=>o.selectors.shouldScrollIntoView(e,d,c),[d,c]));Qt(()=>{if(j)return Jt().requestAnimationFrame(()=>{var e,t;null==(t=null==(e=b.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})},[j,b]);let N=tr(e=>{e.preventDefault(),e.button===Ci.Left&&(u||(k(),ea()||requestAnimationFrame(()=>f()),i.mode===_i.Single&&o.actions.closeCombobox()))}),S=tr(()=>{if(u)return o.actions.goToOption({focus:Ni.Nothing});let e=i.calculateIndex(d);o.actions.goToOption({focus:Ni.Specific,idx:e})}),E=function(){let e=a.useRef([-1,-1]);return{wasMoved(t){let r=ua(t);return(e.current[0]!==r[0]||e.current[1]!==r[1])&&(e.current=r,!0)},update(t){e.current=ua(t)}}}(),C=tr(e=>E.update(e)),T=tr(e=>{if(!E.wasMoved(e)||u||p)return;let t=i.calculateIndex(d);o.actions.goToOption({focus:Ni.Specific,idx:t},Bi.Pointer)}),L=tr(e=>{E.wasMoved(e)&&(u||p&&(i.optionsPropsRef.current.hold||o.actions.goToOption({focus:Ni.Nothing})))}),O=a.useMemo(()=>({active:p,focus:p,selected:x,disabled:u}),[p,x,u]),R={id:c,ref:w,role:"option",tabIndex:!0===u?void 0:-1,"aria-disabled":!0===u||void 0,"aria-selected":x,disabled:void 0,onMouseDown:N,onFocus:S,onPointerEnter:C,onMouseEnter:C,onPointerMove:T,onMouseMove:T,onPointerLeave:L,onMouseLeave:L};return dr()({ourProps:R,theirProps:h,slot:O,defaultTag:"div",name:"Combobox.Option"})}),uo=Object.assign(ao,{Input:io,Button:so,Label:oo,Options:lo,Option:co});function go(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||(null!=(t=e.as)?t:bo)!==a.Fragment||1===l.Children.count(e.children)}let ho=a.createContext(null);ho.displayName="TransitionContext";var mo=(e=>(e.Visible="visible",e.Hidden="hidden",e))(mo||{});let fo=a.createContext(null);function po(e){return"children"in e?po(e.children):e.current.filter(({el:e})=>null!==e.current).filter(({state:e})=>"visible"===e).length>0}function xo(e,t){let r=er(e),n=a.useRef([]),s=function(){let e=a.useRef(!1);return Qt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}(),i=Zt(),o=tr((e,t=cr.Hidden)=>{let a=n.current.findIndex(({el:t})=>t===e);-1!==a&&(sr(t,{[cr.Unmount](){n.current.splice(a,1)},[cr.Hidden](){n.current[a].state="hidden"}}),i.microTask(()=>{var e;!po(n)&&s.current&&(null==(e=r.current)||e.call(r))}))}),l=tr(e=>{let t=n.current.find(({el:t})=>t===e);return t?"visible"!==t.state&&(t.state="visible"):n.current.push({el:e,state:"visible"}),()=>o(e,cr.Unmount)}),c=a.useRef([]),d=a.useRef(Promise.resolve()),u=a.useRef({enter:[],leave:[]}),g=tr((e,r,n)=>{c.current.splice(0),t&&(t.chains.current[r]=t.chains.current[r].filter(([t])=>t!==e)),null==t||t.chains.current[r].push([e,new Promise(e=>{c.current.push(e)})]),null==t||t.chains.current[r].push([e,new Promise(e=>{Promise.all(u.current[r].map(([e,t])=>t)).then(()=>e())})]),"enter"===r?d.current=d.current.then(()=>null==t?void 0:t.wait.current).then(()=>n(r)):n(r)}),h=tr((e,t,r)=>{Promise.all(u.current[t].splice(0).map(([e,t])=>t)).then(()=>{var e;null==(e=c.current.shift())||e()}).then(()=>r(t))});return a.useMemo(()=>({children:n,register:l,unregister:o,onStart:g,onStop:h,wait:d,chains:u}),[l,o,n,g,h,u,d])}fo.displayName="NestingContext";let bo=a.Fragment,vo=lr.RenderStrategy,yo=fr(function(e,t){let{show:r,appear:n=!1,unmount:s=!0,...i}=e,o=a.useRef(null),c=Hr(...go(e)?[o,t]:null===t?[]:[t]);Li();let d=yi();if(void 0===r&&null!==d&&(r=(d&vi.Open)===vi.Open),void 0===r)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,g]=a.useState(r?"visible":"hidden"),h=xo(()=>{r||g("hidden")}),[m,f]=a.useState(!0),p=a.useRef([r]);Qt(()=>{!1!==m&&p.current[p.current.length-1]!==r&&(p.current.push(r),f(!1))},[p,r]);let x=a.useMemo(()=>({show:r,appear:n,initial:m}),[r,n,m]);Qt(()=>{r?g("visible"):!po(h)&&null!==o.current&&g("hidden")},[r,h]);let b={unmount:s},v=tr(()=>{var t;m&&f(!1),null==(t=e.beforeEnter)||t.call(e)}),y=tr(()=>{var t;m&&f(!1),null==(t=e.beforeLeave)||t.call(e)}),w=dr();return l.createElement(fo.Provider,{value:h},l.createElement(ho.Provider,{value:x},w({ourProps:{...b,as:a.Fragment,children:l.createElement(wo,{ref:c,...b,...i,beforeEnter:v,beforeLeave:y})},theirProps:{},defaultTag:a.Fragment,features:vo,visible:"visible"===u,name:"Transition"})))}),wo=fr(function(e,t){var r,n;let{transition:s=!0,beforeEnter:i,afterEnter:o,beforeLeave:c,afterLeave:d,enter:u,enterFrom:g,enterTo:h,entered:m,leave:f,leaveFrom:p,leaveTo:x,...b}=e,[v,y]=a.useState(null),w=a.useRef(null),k=go(e),j=Hr(...k?[w,t,y]:null===t?[]:[t]),N=null==(r=b.unmount)||r?cr.Unmount:cr.Hidden,{show:S,appear:E,initial:C}=function(){let e=a.useContext(ho);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[T,L]=a.useState(S?"visible":"hidden"),O=function(){let e=a.useContext(fo);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:R,unregister:P}=O;Qt(()=>R(w),[R,w]),Qt(()=>{if(N===cr.Hidden&&w.current)return S&&"visible"!==T?void L("visible"):sr(T,{hidden:()=>P(w),visible:()=>R(w)})},[T,w,R,P,S,N]);let A=Li();Qt(()=>{if(k&&A&&"visible"===T&&null===w.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,T,A,k]);let I=C&&!E,M=E&&S&&C,D=a.useRef(!1),F=xo(()=>{D.current||(L("hidden"),P(w))},O),z=tr(e=>{D.current=!0;let t=e?"enter":"leave";F.onStart(w,t,e=>{"enter"===e?null==i||i():"leave"===e&&(null==c||c())})}),H=tr(e=>{let t=e?"enter":"leave";D.current=!1,F.onStop(w,t,e=>{"enter"===e?null==o||o():"leave"===e&&(null==d||d())}),"leave"===t&&!po(F)&&(L("hidden"),P(w))});a.useEffect(()=>{k&&s||(z(S),H(S))},[S,k,s]);let V=(()=>!(!s||!k||!A||I))(),[,$]=pa(V,v,S,{start:z,end:H}),W=pr({ref:j,className:(null==(n=ar(b.className,M&&u,M&&g,$.enter&&u,$.enter&&$.closed&&g,$.enter&&!$.closed&&h,$.leave&&f,$.leave&&!$.closed&&p,$.leave&&$.closed&&x,!$.transition&&S&&m))?void 0:n.trim())||void 0,...fa($)}),_=0;"visible"===T&&(_|=vi.Open),"hidden"===T&&(_|=vi.Closed),S&&"hidden"===T&&(_|=vi.Opening),!S&&"visible"===T&&(_|=vi.Closing);let B=dr();return l.createElement(fo.Provider,{value:F},l.createElement(wi,{value:_},B({ourProps:W,theirProps:b,defaultTag:bo,features:vo,visible:"visible"===T,name:"Transition.Child"})))}),ko=fr(function(e,t){let r=null!==a.useContext(ho),n=null!==yi();return l.createElement(l.Fragment,null,!r&&n?l.createElement(yo,{ref:t,...e}):l.createElement(wo,{ref:t,...e}))}),jo=Object.assign(yo,{Child:ko,Root:yo});function No({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const So=a.forwardRef(No);function Eo({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}const Co=a.forwardRef(Eo),To=({selectedLanguage:e,onLanguageChange:t,label:r,className:n="",excludeLanguages:s=[]})=>{const[i,o]=a.useState(""),l=De.filter(e=>!s.includes(e.code)),c=""===i?l:l.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.nativeName.toLowerCase().includes(i.toLowerCase()));return me.jsxs("div",{className:n,children:[me.jsx(uo,{value:e,onChange:t,children:me.jsxs("div",{className:"relative",children:[me.jsxs("div",{className:"relative",children:[me.jsx(uo.Label,{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r}),me.jsx(uo.Input,{className:"relative w-full cursor-default rounded-lg border py-3 pl-4 pr-10 text-left shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",displayValue:e=>{const t=l.find(t=>t.code===e);return t?`${t.name} (${t.nativeName})`:""},onChange:e=>o(e.target.value),placeholder:"Search languages...",autoComplete:"off",spellCheck:"false"}),me.jsx(uo.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-3 mt-7",children:me.jsx(Co,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),me.jsx(jo,{as:a.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>o(""),children:me.jsx(uo.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-lg bg-white dark:bg-gray-800 py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm border border-gray-200 dark:border-gray-600",children:0===c.length&&""!==i?me.jsx("div",{className:"relative cursor-default select-none py-3 px-4 text-gray-700 dark:text-gray-300",children:"No languages found."}):me.jsxs(me.Fragment,{children:[""===i&&me.jsxs("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-600",children:["Available Languages (",c.length,")"]}),c.map(e=>me.jsx(uo.Option,{className:({active:t})=>(e.code,`relative cursor-default select-none py-3 pl-10 pr-4 transition-colors text-left ${t?"bg-gray-100 dark:bg-gray-700":"bg-white dark:bg-gray-800"} text-gray-900 dark:text-gray-100`),value:e.code,children:({selected:t,active:r})=>me.jsxs(me.Fragment,{children:[me.jsx("span",{className:"block truncate text-left "+(t?"font-semibold":"font-normal"),children:me.jsxs("span",{className:"inline-flex items-center justify-between w-full",children:[me.jsxs("span",{className:"flex flex-col",children:[me.jsx("span",{className:"font-medium",children:e.name}),me.jsx("span",{className:"text-sm opacity-75",children:e.nativeName})]}),"es"===e.code&&me.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300",children:"Default"})]})}),t?me.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-blue-600 dark:text-blue-400",children:me.jsx(So,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},e.code))]})})})]})}),me.jsxs("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:["Select the language for translation","es"===e&&me.jsx("span",{className:"ml-1 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:"Default"})]})]})},Lo=()=>{const e=s(),{theme:t,setTheme:r,showTips:n,toggleTips:a,sourceLanguage:i,targetLanguage:o,setTargetLanguage:c,resetDismissedTips:d,resetToDefaults:u}=We();l.useEffect(()=>{},[i,o]);const g=[{value:"system",label:"System",icon:R,description:"Follow device settings"},{value:"light",label:"Light",icon:ae,description:"Always light theme"},{value:"dark",label:"Dark",icon:se,description:"Always dark theme"}],h=t===He.theme&&n===He.showTips&&i===He.sourceLanguage&&o===He.targetLanguage;return me.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[me.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:me.jsxs("div",{className:"flex items-center justify-between",children:[me.jsxs("div",{className:"flex items-center gap-3",children:[me.jsx("button",{onClick:()=>{e(-1)},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",title:"Go back",children:me.jsx(re,{className:"w-5 h-5"})}),me.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Settings"})]}),!h&&me.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500",title:"Reset all settings to defaults",children:[me.jsx(ne,{className:"w-4 h-4"}),"Reset"]})]})}),me.jsx("div",{className:"flex-1 overflow-y-auto prevent-bounce",children:me.jsxs("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[me.jsx("section",{children:me.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800",children:[me.jsxs("div",{children:[me.jsx("label",{htmlFor:"theme-select",className:"font-medium text-gray-900 dark:text-white",children:"Theme"}),me.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose your preferred appearance"})]}),me.jsxs("fieldset",{children:[me.jsx("legend",{className:"sr-only",children:"Select theme preference"}),me.jsx("div",{className:"flex gap-1",role:"radiogroup","aria-labelledby":"theme-label",children:g.map(e=>{const n=e.icon,a=`theme-${e.value}`;return me.jsxs("label",{htmlFor:a,className:"relative p-2 rounded-lg transition-all cursor-pointer group "+(t===e.value?"bg-blue-100 dark:bg-blue-900/30 ring-2 ring-blue-500":"hover:bg-gray-100 dark:hover:bg-gray-700"),title:`${e.label}: ${e.description}`,children:[me.jsx("input",{type:"radio",id:a,name:"theme",value:e.value,checked:t===e.value,onChange:()=>r(e.value),className:"absolute inset-0 opacity-0 cursor-pointer focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-lg","aria-describedby":`${a}-desc`}),me.jsx(n,{className:"w-5 h-5 transition-colors "+(t===e.value?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-300"),"aria-hidden":"true"}),me.jsxs("span",{id:`${a}-desc`,className:"sr-only",children:[e.label,": ",e.description]})]},e.value)})})]})]})}),me.jsxs("section",{children:[me.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white px-3 py-2 bg-gray-50 dark:bg-gray-800",children:"Languages"}),me.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 space-y-3",children:[me.jsx(To,{selectedLanguage:o,onLanguageChange:e=>{c(e)},label:"Detained Person Language",className:"w-full",excludeLanguages:["en"]}),me.jsxs("button",{onClick:()=>e("/voice-diagnostics",{replace:!0}),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors border border-gray-200 dark:border-gray-600 text-left",children:[me.jsx("div",{className:"flex items-center gap-3",children:me.jsxs("div",{children:[me.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Test Voice Support"}),me.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Check which languages have text-to-speech voices available"})]})}),me.jsx("span",{className:"text-lg",role:"img","aria-label":"Test voice",children:me.jsx(q,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})})]})]})]}),me.jsxs("section",{children:[me.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white px-3 py-2 bg-gray-50 dark:bg-gray-800",children:"Training"}),me.jsxs("div",{className:"bg-white dark:bg-gray-800",children:[me.jsxs("div",{className:"flex items-center justify-between p-3",children:[me.jsxs("div",{children:[me.jsx("label",{htmlFor:"tips-toggle",className:"font-medium text-gray-900 dark:text-white cursor-pointer",children:"Officer Training Mode"}),me.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Show helpful tips and guidance"})]}),me.jsx("div",{className:"relative",children:me.jsxs("label",{htmlFor:"tips-toggle",className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors cursor-pointer "+(n?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"),"aria-label":(n?"Disable":"Enable")+" officer training mode",children:[me.jsx("input",{type:"checkbox",id:"tips-toggle",checked:n,onChange:a,className:"absolute opacity-0 w-full h-full cursor-pointer focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-full"}),me.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform "+(n?"translate-x-6":"translate-x-1"),"aria-hidden":"true"})]})})]}),n&&me.jsx("div",{className:"px-3 pb-3",children:me.jsxs("button",{onClick:d,className:"w-full text-left p-3 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[me.jsx("div",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Reset Dismissed Tips"}),me.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Show all tips that were previously dismissed"})]})})]})]}),me.jsxs("section",{children:[me.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white px-3 py-2 bg-gray-50 dark:bg-gray-800",children:"Default Configuration"}),me.jsx("div",{className:"p-3 bg-white dark:bg-gray-800",children:me.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-2 text-sm",children:[me.jsxs("div",{children:[me.jsx("strong",{className:"text-gray-900 dark:text-white",children:"Professional Mode:"})," Tips disabled by default"]}),me.jsxs("div",{children:[me.jsx("strong",{className:"text-gray-900 dark:text-white",children:"System Theme:"})," Automatically follows device preference"]}),me.jsxs("div",{children:[me.jsx("strong",{className:"text-gray-900 dark:text-white",children:"Local Storage:"})," Settings persist across sessions"]}),me.jsx("div",{className:"pt-2 text-xs opacity-75",children:"Settings are stored locally on your device and merged with secure defaults."})]})})]}),me.jsxs("section",{children:[me.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white px-3 py-2 bg-gray-50 dark:bg-gray-800",children:"About"}),me.jsx("div",{className:"p-3 bg-white dark:bg-gray-800",children:me.jsxs("div",{className:"text-gray-600 dark:text-gray-400 space-y-2",children:[me.jsx("div",{children:me.jsx("strong",{className:"text-gray-900 dark:text-white",children:"DHS Translation Tool"})}),me.jsx("div",{children:"Version 1.0.0"}),me.jsx("div",{children:"Secure communication for law enforcement"}),me.jsx("div",{className:"pt-2 text-sm",children:"Designed for field use with offline capabilities, comprehensive audit trails, and accessibility features."})]})})]}),me.jsx("div",{className:"h-2"})]})})]})},Oo=()=>{const e=s(),{availableVoices:t,speak:r,getVoiceInfo:n}=Ie(),[i]=a.useState({en:"Hello, this is a test of English speech synthesis.",es:"Hola, esta es una prueba de sÃ­ntesis de voz en espaÃ±ol.",zh:"ä½ å¥½ï¼Œè¿™æ˜¯ä¸­æ–‡è¯­éŸ³åˆæˆçš„æµ‹è¯•ã€‚",ar:"Ù…Ø±Ø­Ø¨Ø§ØŒ Ù‡Ø°Ø§ Ø§Ø®ØªØ¨Ø§Ø± Ù„ØªØ®Ù„ÙŠÙ‚ Ø§Ù„ÙƒÙ„Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ."}),o=(()=>{const e=navigator.userAgent.toLowerCase(),t=navigator.platform.toLowerCase();return e.includes("iphone")||e.includes("ipad")||t.includes("iphone")||t.includes("ipad")?"ios":e.includes("mac")||t.includes("mac")?"macos":e.includes("android")?"android":"other"})(),l=(()=>{switch(o){case"ios":case"macos":return{title:"Installing Additional Voices on iOS/macOS",steps:["Open Settings (iOS) or System Preferences (macOS)","Go to Accessibility â†’ Spoken Content",'Tap/Click "Voices" or "System Voice"',"Download Chinese (Mandarin) and Arabic voices","Restart your browser after installation"],note:"Voice availability depends on your iOS/macOS version and region settings."};case"android":return{title:"Installing Additional Voices on Android",steps:["Open Settings â†’ Accessibility â†’ Text-to-speech",'Tap "Google Text-to-speech Engine" settings','Tap "Install voice data"',"Download Chinese and Arabic language packs","Restart your browser after installation"],note:"Voice availability may vary by Android version and device manufacturer."};default:return{title:"Installing Additional Voices",steps:["Check your system accessibility settings","Look for text-to-speech or voice options","Download additional language packs","Restart your browser after installation"],note:"Voice installation steps vary by operating system."}}})();return me.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[me.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:me.jsxs("div",{className:"flex items-center gap-3",children:[me.jsx("button",{onClick:()=>{e("/settings",{replace:!0})},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",title:"Back to Settings",children:me.jsx(re,{className:"w-5 h-5"})}),me.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[me.jsx(q,{className:"w-5 h-5"}),"Voice Diagnostics"]})]})}),me.jsx("div",{className:"flex-1 overflow-y-auto prevent-bounce",children:me.jsxs("div",{className:"p-4 space-y-6",children:[me.jsxs("section",{children:[me.jsx("h3",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"System Information"}),me.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-3 text-sm",children:me.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[me.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[me.jsx("strong",{className:"text-gray-900 dark:text-white",children:"Total Voices:"})," ",t.length]}),me.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[me.jsx("strong",{className:"text-gray-900 dark:text-white",children:"Platform:"})," ",o.charAt(0).toUpperCase()+o.slice(1)]}),me.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[me.jsx("strong",{className:"text-gray-900 dark:text-white",children:"Browser:"})," ",navigator.userAgent.includes("Chrome")?"Chrome":navigator.userAgent.includes("Safari")?"Safari":"Other"]}),me.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[me.jsx("strong",{className:"text-gray-900 dark:text-white",children:"Language:"})," ",navigator.language]})]})})]}),me.jsxs("section",{children:[me.jsx("h3",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Language Support Test"}),me.jsx("div",{className:"space-y-3",children:[{code:"en",name:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"es",name:"Spanish",flag:"ðŸ‡ªðŸ‡¸"},{code:"zh",name:"Chinese",flag:"ðŸ‡¨ðŸ‡³"},{code:"ar",name:"Arabic",flag:"ðŸ‡¸ðŸ‡¦"}].map(e=>{const t=n(e.code),a=t?.available;return me.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[me.jsxs("div",{className:"flex items-center justify-between mb-3",children:[me.jsxs("div",{className:"flex items-center gap-3",children:[me.jsx("span",{className:"text-xl",children:e.flag}),me.jsxs("div",{children:[me.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),me.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:a?me.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[me.jsx(y,{className:"w-3 h-3"}),"Voice available"]}):me.jsxs("span",{className:"flex items-center gap-1 text-red-600 dark:text-red-400",children:[me.jsx(ie,{className:"w-3 h-3"}),"No voice found"]})})]})]}),a&&me.jsxs("button",{onClick:()=>{return t=e.code,void r(i[t],t);var t},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[me.jsx(q,{className:"w-4 h-4"}),"Test"]})]}),a&&t&&me.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:me.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[me.jsxs("div",{children:[me.jsx("strong",{children:"Voice:"})," ",t.voice?.name||t.fallbackVoice?.name]}),me.jsxs("div",{children:[me.jsx("strong",{children:"Language:"})," ",t.voice?.lang||t.fallbackVoice?.lang]}),me.jsxs("div",{children:[me.jsx("strong",{children:"Local:"})," ",t.voice?.localService||t.fallbackVoice?.localService?"Yes":"No"]})]})}),!a&&me.jsx("div",{className:"text-sm text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-700 rounded-lg p-3",children:me.jsxs("div",{className:"flex items-start gap-2",children:[me.jsx(oe,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),me.jsxs("div",{children:[me.jsx("div",{className:"font-medium mb-1",children:"Voice not available"}),me.jsxs("div",{className:"text-xs opacity-90",children:["Install ",e.name," voice support using the instructions below."]})]})]})})]},e.code)})})]}),me.jsx("section",{children:me.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:me.jsxs("div",{className:"flex items-start gap-3",children:[me.jsx(J,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),me.jsxs("div",{className:"text-sm",children:[me.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3",children:l.title}),me.jsx("ol",{className:"space-y-2 text-blue-700 dark:text-blue-300 list-decimal list-inside",children:l.steps.map((e,t)=>me.jsx("li",{children:e},t))}),me.jsx("div",{className:"mt-3 text-xs text-blue-600 dark:text-blue-400 opacity-75",children:l.note})]})]})})}),me.jsxs("section",{children:[me.jsx("h3",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"All Available Voices"}),me.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 max-h-60 overflow-y-auto",children:t.length>0?me.jsx("div",{className:"space-y-2 text-sm",children:t.map((e,t)=>me.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[me.jsxs("div",{children:[me.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),me.jsxs("span",{className:"text-gray-500 dark:text-gray-400 ml-2",children:["(",e.lang,")"]})]}),me.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.localService?"Local":"Remote"})]},t))}):me.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm text-center py-8",children:"No voices available. Please check your system settings."})})]}),me.jsx("div",{className:"h-4"})]})})]})},Ro=()=>{const{theme:e}=We();return a.useEffect(()=>{const t=e=>{const t=document.documentElement;"dark"===("system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e)?t.classList.add("dark"):t.classList.remove("dark")};t(e);const r=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{"system"===e&&t("system")};return r.addEventListener("change",n),()=>r.removeEventListener("change",n)},[e]),me.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 overflow-hidden",lang:"en",children:[me.jsx(xe,{}),me.jsx("main",{className:"flex-1 overflow-hidden",role:"main","aria-label":"Main application content",children:me.jsxs(h,{children:[me.jsx(m,{path:"/",element:me.jsx(f,{to:"/intake",replace:!0})}),me.jsx(m,{path:"/intake",element:me.jsx(Qe,{})}),me.jsx(m,{path:"/phrases",element:me.jsx(et,{})}),me.jsx(m,{path:"/record",element:me.jsx(ct,{})}),me.jsx(m,{path:"/translate",element:me.jsx(dt,{})}),me.jsx(m,{path:"/conversations",element:me.jsx(ut,{})}),me.jsx(m,{path:"/settings",element:me.jsx(Lo,{})}),me.jsx(m,{path:"/voice-diagnostics",element:me.jsx(Oo,{})}),me.jsx(m,{path:"*",element:me.jsx(f,{to:"/intake",replace:!0})})]})}),me.jsxs(h,{children:[me.jsx(m,{path:"/settings",element:null}),me.jsx(m,{path:"/voice-diagnostics",element:null}),me.jsx(m,{path:"*",element:me.jsx(Ne,{})})]})]})};function Po(){const e="/translate-pwa/".replace(/\/$/,"")||"/";return me.jsx(g,{basename:e,children:me.jsx(Le,{children:me.jsx(Ro,{})})})}window.trustedTypes&&window.trustedTypes.createPolicy&&window.trustedTypes.createPolicy("default",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e}),pe.createRoot(document.getElementById("root")).render(me.jsx(a.StrictMode,{children:me.jsx(Po,{})}));
